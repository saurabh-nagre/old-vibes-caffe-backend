"use strict";(self.webpackChunkold_vibes_cafe=self.webpackChunkold_vibes_cafe||[]).push([[179],{390:()=>{function ke(n){return"function"==typeof n}function La(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ll=La(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Va(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(s){e=s instanceof ll?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{eE(s)}catch(o){e=null!=e?e:[],o instanceof ll?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ll(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eE(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Va(t,e)}remove(e){const{_teardowns:t}=this;t&&Va(t,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const n=new Ln;return n.closed=!0,n})();const XC=Ln.EMPTY;function ZC(n){return n instanceof Ln||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function eE(n){ke(n)?n():n.unsubscribe()}const qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dl={setTimeout(...n){const{delegate:e}=dl;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=dl;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function tE(n){dl.setTimeout(()=>{const{onUnhandledError:e}=qi;if(!e)throw n;e(n)})}function hl(){}const oP=qf("C",void 0,void 0);function qf(n,e,t){return{kind:n,value:e,error:t}}let zi=null;function fl(n){if(qi.useDeprecatedSynchronousErrorHandling){const e=!zi;if(e&&(zi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=zi;if(zi=null,t)throw r}}else n()}class zf extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ZC(e)&&e.add(this)):this.destination=lP}static create(e,t,r){return new Wf(e,t,r)}next(e){this.isStopped?Qf(function uP(n){return qf("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qf(function aP(n){return qf("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qf(oP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Wf extends zf{constructor(e,t,r){let i;if(super(),ke(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Kf(i):hl,error:Kf(null!=t?t:nE),complete:r?Kf(r):hl}}}function Kf(n,e){return(...t)=>{try{n(...t)}catch(r){qi.useDeprecatedSynchronousErrorHandling?function cP(n){qi.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=n)}(r):tE(r)}}}function nE(n){throw n}function Qf(n,e){const{onStoppedNotification:t}=qi;t&&dl.setTimeout(()=>t(n,e))}const lP={closed:!0,next:hl,error:nE,complete:hl},Yf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wi(n){return n}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function hP(n){return n&&n instanceof zf||function dP(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&ZC(n)}(t)?t:new Wf(t,r,i);return fl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=iE(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yf](){return this}pipe(...t){return function rE(n){return 0===n.length?Wi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=iE(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function iE(n){var e;return null!==(e=null!=n?n:qi.Promise)&&void 0!==e?e:Promise}const fP=La(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vr=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new sE(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fP}next(t){fl(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?XC:(s.push(t),new Ln(()=>Va(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new sE(e,t),n})();class sE extends Vr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:XC}}function oE(n){return ke(null==n?void 0:n.lift)}function Rt(n){return e=>{if(oE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class bt extends zf{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Me(n,e){return Rt((t,r)=>{let i=0;t.subscribe(new bt(r,s=>{r.next(n.call(e,s,i++))}))})}function Ki(n){return this instanceof Ki?(this.v=n,this):new Ki(n)}function mP(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(y,w){s.push([h,f,y,w])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ki?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(y){d(s[0][3],y)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function cE(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const lE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dE(n){return ke(null==n?void 0:n.then)}function hE(n){return ke(n[Yf])}function fE(n){return Symbol.asyncIterator&&ke(null==n?void 0:n[Symbol.asyncIterator])}function pE(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gE=function vP(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mE(n){return ke(null==n?void 0:n[gE])}function yE(n){return mP(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ki(t.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{t.releaseLock()}})}function _E(n){return ke(null==n?void 0:n.getReader)}function mr(n){if(n instanceof Be)return n;if(null!=n){if(hE(n))return function wP(n){return new Be(e=>{const t=n[Yf]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(lE(n))return function bP(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dE(n))return function CP(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,tE)})}(n);if(fE(n))return vE(n);if(mE(n))return function EP(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_E(n))return function DP(n){return vE(yE(n))}(n)}throw pE(n)}function vE(n){return new Be(e=>{(function IP(n,e){var t,r,i,s;return function pP(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yP(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ur(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ct(n,e,t=1/0){return ke(e)?Ct((r,i)=>Me((s,o)=>e(r,s,i,o))(mr(n(r,i))),t):("number"==typeof e&&(t=e),Rt((r,i)=>function TP(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=w=>c<r?y(w):u.push(w),y=w=>{s&&e.next(w),c++;let E=!1;mr(t(w,l++)).subscribe(new bt(e,T=>{null==i||i(T),s?f(T):e.next(T)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const T=u.shift();o?Ur(e,o,()=>y(T)):y(T)}h()}catch(T){e.error(T)}}))};return n.subscribe(new bt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Ua(n=1/0){return Ct(Wi,n)}const Br=new Be(n=>n.complete());function Xf(n){return n[n.length-1]}function wE(n){return ke(Xf(n))?n.pop():void 0}function Ba(n){return function SP(n){return n&&ke(n.schedule)}(Xf(n))?n.pop():void 0}function bE(n,e=0){return Rt((t,r)=>{t.subscribe(new bt(r,i=>Ur(r,n,()=>r.next(i),e),()=>Ur(r,n,()=>r.complete(),e),i=>Ur(r,n,()=>r.error(i),e)))})}function CE(n,e=0){return Rt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function EE(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Ur(t,e,()=>{const r=n[Symbol.asyncIterator]();Ur(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Et(n,e){return e?function PP(n,e){if(null!=n){if(hE(n))return function xP(n,e){return mr(n).pipe(CE(e),bE(e))}(n,e);if(lE(n))return function RP(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(dE(n))return function NP(n,e){return mr(n).pipe(CE(e),bE(e))}(n,e);if(fE(n))return EE(n,e);if(mE(n))return function kP(n,e){return new Be(t=>{let r;return Ur(t,e,()=>{r=n[gE](),Ur(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ke(null==r?void 0:r.return)&&r.return()})}(n,e);if(_E(n))return function OP(n,e){return EE(yE(n),e)}(n,e)}throw pE(n)}(n,e):mr(n)}function pl(n){return n<=0?()=>Br:Rt((e,t)=>{let r=0;e.subscribe(new bt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zf(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(pl(1)).subscribe(()=>n())}function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function ep(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function tp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const VP=Te({__forward_ref__:Te});function xe(n){return n.__forward_ref__=xe,n.toString=function(){return Ce(this())},n}function re(n){return DE(n)?n():n}function DE(n){return"function"==typeof n&&n.hasOwnProperty(VP)&&n.__forward_ref__===xe}class me extends Error{constructor(e,t){super(function np(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function Xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}function gl(n,e){const t=e?` in ${e}`:"";throw new me(-201,`No provider for ${Xt(n)} found${t}`)}function Cn(n,e){null==n&&function Oe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function En(n){return{providers:n.providers||[],imports:n.imports||[]}}function rp(n){return IE(n,ml)||IE(n,AE)}function IE(n,e){return n.hasOwnProperty(e)?n[e]:null}function TE(n){return n&&(n.hasOwnProperty(ip)||n.hasOwnProperty(qP))?n[ip]:null}const ml=Te({\u0275prov:Te}),ip=Te({\u0275inj:Te}),AE=Te({ngInjectableDef:Te}),qP=Te({ngInjectorDef:Te});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let sp;function hi(n){const e=sp;return sp=n,e}function SE(n,e,t){const r=rp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&te.Optional?null:void 0!==e?e:void gl(Ce(n),"Injector")}function fi(n){return{toString:n}.toString()}var er=(()=>((er=er||{})[er.OnPush=0]="OnPush",er[er.Default=1]="Default",er))(),yr=(()=>{return(n=yr||(yr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",yr;var n})();const WP="undefined"!=typeof globalThis&&globalThis,KP="undefined"!=typeof window&&window,QP="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,De=WP||"undefined"!=typeof global&&global||KP||QP,qs={},Ae=[],yl=Te({\u0275cmp:Te}),op=Te({\u0275dir:Te}),ap=Te({\u0275pipe:Te}),ME=Te({\u0275mod:Te}),Hr=Te({\u0275fac:Te}),ja=Te({__NG_ELEMENT_ID__:Te});let YP=0;function Vn(n){return fi(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===er.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||yr.Emulated,id:"c",styles:n.styles||Ae,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=YP++,r.inputs=kE(n.inputs,t),r.outputs=kE(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(xE):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(NE):null,r})}function xE(n){return jt(n)||function pi(n){return n[op]||null}(n)}function NE(n){return function Qi(n){return n[ap]||null}(n)}const RE={};function Un(n){return fi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(RE[n.id]=n.type),e})}function kE(n,e){if(null==n)return qs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const z=Vn;function hn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function jt(n){return n[yl]||null}function Bn(n,e){const t=n[ME]||null;if(!t&&!0===e)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return t}function _r(n){return Array.isArray(n)&&"object"==typeof n[1]}function nr(n){return Array.isArray(n)&&!0===n[1]}function lp(n){return 0!=(8&n.flags)}function bl(n){return 2==(2&n.flags)}function Cl(n){return 1==(1&n.flags)}function rr(n){return null!==n.template}function nF(n){return 0!=(512&n[2])}function Zi(n,e){return n.hasOwnProperty(Hr)?n[Hr]:null}class sF{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return PE}function PE(n){return n.type.prototype.ngOnChanges&&(n.setInput=aF),oF}function oF(){const n=LE(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===qs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aF(n,e,t,r){const i=LE(n)||function uF(n,e){return n[FE]=e}(n,{previous:qs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new sF(u&&u.currentValue,e,o===qs),n[r]=e}In.ngInherit=!0;const FE="__ngSimpleChanges__";function LE(n){return n[FE]||null}let fp;function Ge(n){return!!n.listen}const BE={createRenderer:(n,e)=>function pp(){return void 0!==fp?fp:"undefined"!=typeof document?document:void 0}()};function Xe(n){for(;Array.isArray(n);)n=n[0];return n}function El(n,e){return Xe(e[n])}function $n(n,e){return Xe(e[n.index])}function gp(n,e){return n.data[e]}function Tn(n,e){const t=e[n];return _r(t)?t:t[0]}function mp(n){return 128==(128&n[2])}function gi(n,e){return null==e?null:n[e]}function HE(n){n[18]=0}function yp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Y={lFrame:YE(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $E(){return Y.bindingsEnabled}function S(){return Y.lFrame.lView}function ye(){return Y.lFrame.tView}function ut(n){return Y.lFrame.contextLView=n,n[8]}function ct(){let n=GE();for(;null!==n&&64===n.type;)n=n.parent;return n}function GE(){return Y.lFrame.currentTNode}function vr(n,e){const t=Y.lFrame;t.currentTNode=n,t.isParent=e}function _p(){return Y.lFrame.isParent}function Dl(){return Y.isInCheckNoChangesMode}function Il(n){Y.isInCheckNoChangesMode=n}function Zt(){const n=Y.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Js(){return Y.lFrame.bindingIndex++}function Gr(n){const e=Y.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function CF(n,e){const t=Y.lFrame;t.bindingIndex=t.bindingRootIndex=n,wp(e)}function wp(n){Y.lFrame.currentDirectiveIndex=n}function Cp(n){Y.lFrame.currentQueryIndex=n}function DF(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function KE(n,e,t){if(t&te.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&te.Host||(i=DF(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Y.lFrame=QE();return r.currentTNode=e,r.lView=n,!0}function Tl(n){const e=QE(),t=n[1];Y.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function QE(){const n=Y.lFrame,e=null===n?null:n.child;return null===e?YE(n):e}function YE(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function JE(){const n=Y.lFrame;return Y.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const XE=JE;function Al(){const n=JE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function en(){return Y.lFrame.selectedIndex}function mi(n){Y.lFrame.selectedIndex=n}function qe(){const n=Y.lFrame;return gp(n.tView,n.selectedIndex)}function Sl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function Ml(n,e,t){ZE(n,e,3,t)}function xl(n,e,t,r){(3&n[2])===t&&ZE(n,e,t,r)}function Ep(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ZE(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(kF(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function kF(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class za{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Nl(n,e,t){const r=Ge(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];Ip(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function eD(n){return 3===n||4===n||6===n}function Ip(n){return 64===n.charCodeAt(0)}function Rl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tD(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tD(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function nD(n){return-1!==n}function Xs(n){return 32767&n}function Zs(n,e){let t=function VF(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Tp=!0;function kl(n){const e=Tp;return Tp=n,e}let UF=0;function Ka(n,e){const t=Sp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Ap(r.data,n),Ap(e,null),Ap(r.blueprint,null));const i=Ol(n,e),s=n.injectorIndex;if(nD(i)){const o=Xs(i),a=Zs(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Ap(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Sp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ol(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Pl(n,e,t){!function BF(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ja)&&(r=t[ja]),null==r&&(r=t[ja]=UF++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function sD(n,e,t){if(t&te.Optional)return n;gl(e,"NodeInjector")}function oD(n,e,t,r){if(t&te.Optional&&void 0===r&&(r=null),0==(t&(te.Self|te.Host))){const i=n[9],s=hi(void 0);try{return i?i.get(e,r,t&te.Optional):SE(e,r,t&te.Optional)}finally{hi(s)}}return sD(r,e,t)}function aD(n,e,t,r=te.Default,i){if(null!==n){const s=function GF(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ja)?n[ja]:void 0;return"number"==typeof e?e>=0?255&e:HF:e}(t);if("function"==typeof s){if(!KE(e,n,r))return r&te.Host?sD(i,t,r):oD(e,t,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;gl(t)}finally{XE()}}else if("number"==typeof s){let o=null,a=Sp(n,e),u=-1,c=r&te.Host?e[16][6]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Ol(n,e):e[a+8],-1!==u&&lD(r,!1)?(o=e[1],a=Xs(u),e=Zs(u,e)):a=-1);-1!==a;){const l=e[1];if(cD(s,a,l.data)){const d=$F(a,e,t,o,r,c);if(d!==uD)return d}u=e[a+8],-1!==u&&lD(r,e[1].data[a+8]===c)&&cD(s,a,e)?(o=l,a=Xs(u),e=Zs(u,e)):a=-1}}}return oD(e,t,r,i)}const uD={};function HF(){return new eo(ct(),S())}function $F(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=function Fl(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const y=o[f];if(f<u&&t===y||f>=u&&y.type===t)return f}if(i){const f=o[u];if(f&&rr(f)&&f.type===t)return u}return null}(a,o,t,null==r?bl(a)&&Tp:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?Qa(e,o,l,a):uD}function Qa(n,e,t,r){let i=n[t];const s=e.data;if(function OF(n){return n instanceof za}(i)){const o=i;o.resolving&&function UP(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new me(-200,`Circular dependency in DI detected for ${n}${t}`)}(Xt(s[t]));const a=kl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hi(o.injectImpl):null;KE(n,r,te.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function RF(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=PE(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&hi(u),kl(a),o.resolving=!1,XE()}}return i}function cD(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function lD(n,e){return!(n&te.Self||n&te.Host&&e)}class eo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aD(this._tNode,this._lView,e,r,t)}}function pn(n){return fi(()=>{const e=n.prototype.constructor,t=e[Hr]||Mp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Hr]||Mp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Mp(n){return DE(n)?()=>{const e=Mp(re(n));return e&&e()}:Zi(n)}function Ya(n){return function jF(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(eD(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(ct(),n)}const no="__parameters__";function io(n,e,t){return fi(()=>{const r=function xp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(no)?u[no]:Object.defineProperty(u,no,{value:[]})[no];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zF=new de("AnalyzeForEntryComponents");function wr(n,e){n.forEach(t=>Array.isArray(t)?wr(t,e):e(t))}function hD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ll(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function An(n,e,t){let r=so(n,e);return r>=0?n[1|r]=t:(r=~r,function QF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Rp(n,e){const t=so(n,e);if(t>=0)return n[1|t]}function so(n,e){return function gD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const eu={},Op="__NG_DI_FLAG__",Ul="ngTempTokenPath",nL=/\n/gm,yD="__source",iL=Te({provide:String,useValue:Te});let tu;function _D(n){const e=tu;return tu=n,e}function sL(n,e=te.Default){if(void 0===tu)throw new me(203,"");return null===tu?SE(n,void 0,e):tu.get(n,e&te.Optional?null:void 0,e)}function W(n,e=te.Default){return(function zP(){return sp}()||sL)(re(n),e)}function Pp(n){const e=[];for(let t=0;t<n.length;t++){const r=re(n[t]);if(Array.isArray(r)){if(0===r.length)throw new me(900,"");let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=oL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function nu(n,e){return n[Op]=e,n.prototype[Op]=e,n}function oL(n){return n[Op]}const ru=nu(io("Inject",n=>({token:n})),-1),br=nu(io("Optional"),8),oo=nu(io("SkipSelf"),4);class AD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _i(n){return n instanceof AD?n.changingThisBreaksApplicationSecurity:n}const SL=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ML=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ze=(()=>((Ze=Ze||{})[Ze.NONE=0]="NONE",Ze[Ze.HTML=1]="HTML",Ze[Ze.STYLE=2]="STYLE",Ze[Ze.SCRIPT=3]="SCRIPT",Ze[Ze.URL=4]="URL",Ze[Ze.RESOURCE_URL=5]="RESOURCE_URL",Ze))();function es(n){const e=function au(){const n=S();return n&&n[12]}();return e?e.sanitize(Ze.URL,n)||"":function su(n,e){const t=function DL(n){return n instanceof AD&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?_i(n):function $l(n){return(n=String(n)).match(SL)||n.match(ML)?n:"unsafe:"+n}(X(n))}const LD="__ngContext__";function $t(n,e){n[LD]=e}function Gp(n){const e=function uu(n){return n[LD]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function zp(n){return n.ngOriginalError}function XL(n,...e){n.error(...e)}class co{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function JL(n){return n&&n.ngErrorLogger||XL}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zp(e);for(;t&&zp(t);)t=zp(t);return t||null}}const HD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De))();function Er(n){return n instanceof Function?n():n}var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();function Kp(n,e){return undefined(n,e)}function cu(n){const e=n[3];return nr(e)?e[3]:e}function Qp(n){return WD(n[13])}function Yp(n){return WD(n[4])}function WD(n){for(;null!==n&&!nr(n);)n=n[4];return n}function ho(n,e,t,r,i){if(null!=r){let s,o=!1;nr(r)?s=r:_r(r)&&(o=!0,r=r[0]);const a=Xe(r);0===n&&null!==t?null==i?ZD(e,t,a):ts(e,t,a,i||null,!0):1===n&&null!==t?ts(e,t,a,i||null,!0):2===n?function a0(n,e,t){const r=ql(n,e);r&&function b2(n,e,t,r){Ge(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function D2(n,e,t,r,i){const s=t[7];s!==Xe(t)&&ho(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];lu(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Xp(n,e,t){return Ge(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function QD(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,yp(i,-1)),t.splice(r,1)}function Zp(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&QD(i,r),e>0&&(n[t-1][4]=r[4]);const s=Ll(n,10+e);!function f2(n,e){lu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function YD(n,e){if(!(256&e[2])){const t=e[11];Ge(t)&&t.destroyNode&&lu(n,e,t,3,null,null),function m2(n){let e=n[13];if(!e)return eg(n[1],n);for(;e;){let t=null;if(_r(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)_r(e)&&eg(e[1],e),e=e[3];null===e&&(e=n),_r(e)&&eg(e[1],e),t=e&&e[4]}e=t}}(e)}}function eg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function w2(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof za)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function v2(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ge(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&nr(e[3])){t!==e[3]&&QD(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function JD(n,e,t){return function XD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===yr.None||i===yr.Emulated)return null}return $n(r,t)}(n,e.parent,t)}function ts(n,e,t,r,i){Ge(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function ZD(n,e,t){Ge(n)?n.appendChild(e,t):e.appendChild(t)}function e0(n,e,t,r,i){null!==r?ts(n,e,t,r,i):ZD(n,e,t)}function ql(n,e){return Ge(n)?n.parentNode(e):e.parentNode}let r0=function n0(n,e,t){return 40&n.type?$n(n,t):null};function zl(n,e,t,r){const i=JD(n,r,e),s=e[11],a=function t0(n,e,t){return r0(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)e0(s,i,t[u],a,!1);else e0(s,i,t,a,!1)}function Wl(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return ng(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Wl(n,r);{const i=n[e.index];return nr(i)?ng(-1,i):Xe(i)}}if(32&t)return Kp(e,n)()||Xe(n[e.index]);{const r=o0(n,e);return null!==r?Array.isArray(r)?r[0]:Wl(cu(n[16]),r):Wl(n,e.next)}}return null}function o0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function ng(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Wl(r,i)}return e[7]}function rg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&$t(Xe(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)rg(n,e,t.child,r,i,s,!1),ho(e,n,i,a,s);else if(32&u){const c=Kp(t,r);let l;for(;l=c();)ho(e,n,i,l,s);ho(e,n,i,a,s)}else 16&u?u0(n,e,r,t,i,s):ho(e,n,i,a,s);t=o?t.projectionNext:t.next}}function lu(n,e,t,r,i,s){rg(t,r,n.firstChild,e,i,s,!1)}function u0(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ho(e,n,i,u[c],s);else rg(n,e,u,o[3],i,s,!0)}function c0(n,e,t){Ge(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function ig(n,e,t){Ge(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function l0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const d0="ng-template";function T2(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==l0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function h0(n){return 4===n.type&&n.value!==d0}function A2(n,e,t){return e===(4!==n.type||t?n.value:d0)}function S2(n,e,t){let r=4;const i=n.attrs||[],s=function N2(n){for(let e=0;e<n.length;e++)if(eD(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!A2(n,u,t)||""===u&&1===e.length){if(ir(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!T2(n.attrs,c,t)){if(ir(r))return!1;o=!0}continue}const d=M2(8&r?"class":u,i,h0(n),t);if(-1===d){if(ir(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==l0(f,c,0)||2&r&&c!==h){if(ir(r))return!1;o=!0}}}}else{if(!o&&!ir(r)&&!ir(u))return!1;if(o&&ir(u))continue;o=!1,r=u|1&r}}return ir(r)||o}function ir(n){return 0==(1&n)}function M2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function R2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function f0(n,e,t=!1){for(let r=0;r<e.length;r++)if(S2(n,e[r],t))return!0;return!1}function p0(n,e){return n?":not("+e.trim()+")":e}function O2(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ir(o)&&(e+=p0(s,i),i=""),r=o,s=s||!ir(r);t++}return""!==i&&(e+=p0(s,i)),e}const Z={};function m(n){g0(ye(),S(),en()+n,Dl())}function g0(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ml(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xl(e,s,0,t)}mi(t)}function Kl(n,e){return n<<17|e<<2}function sr(n){return n>>17&32767}function sg(n){return 2|n}function qr(n){return(131068&n)>>2}function og(n,e){return-131069&n|e<<2}function ag(n){return 1|n}function T0(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Cp(i),o.contentQueries(2,e[s],s)}}}function du(n,e,t,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,HE(l),l[3]=l[15]=n,l[8]=t,l[10]=o||n&&n[10],l[11]=a||n&&n[11],l[12]=u||n&&n[12]||null,l[9]=c||n&&n[9]||null,l[6]=s,l[16]=2==e.type?n[16]:l,l}function fo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function mg(n,e,t,r,i){const s=GE(),o=_p(),u=n.data[e]=function X2(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function bF(){return Y.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function qa(){const n=Y.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return vr(s,!0),s}function po(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hu(n,e,t){Tl(e);try{const r=n.viewQuery;null!==r&&Ig(1,r,t);const i=n.template;null!==i&&A0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&T0(n,e),n.staticViewQueries&&Ig(2,n.viewQuery,t);const s=n.components;null!==s&&function Q2(n,e){for(let t=0;t<e.length;t++)mV(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Al()}}function go(n,e,t,r){const i=e[2];if(256==(256&i))return;Tl(e);const s=Dl();try{HE(e),function qE(n){return Y.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&A0(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Ml(e,c,null)}else{const c=n.preOrderHooks;null!==c&&xl(e,c,0,null),Ep(e,0)}if(function pV(n){for(let e=Qp(n);null!==e;e=Yp(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&yp(s,1),i[2]|=1024}}}(e),function fV(n){for(let e=Qp(n);null!==e;e=Yp(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];mp(r)&&go(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&T0(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Ml(e,c)}else{const c=n.contentHooks;null!==c&&xl(e,c,1),Ep(e,1)}!function W2(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)mi(~i);else{const s=i,o=t[++r],a=t[++r];CF(o,s),a(2,e[s])}}}finally{mi(-1)}}(n,e);const a=n.components;null!==a&&function K2(n,e){for(let t=0;t<e.length;t++)gV(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Ig(2,u,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Ml(e,c)}else{const c=n.viewHooks;null!==c&&xl(e,c,2),Ep(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,yp(e[3],-1))}finally{Al()}}function Y2(n,e,t,r){const i=e[10],s=!Dl(),o=function jE(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&hu(n,e,r),go(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function A0(n,e,t,r,i){const s=en(),o=2&r;try{mi(-1),o&&e.length>20&&g0(n,e,20,Dl()),t(r,i)}finally{mi(s)}}function yg(n,e,t){!$E()||(function sV(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Ka(t,e),$t(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=rr(u);c&&lV(e,t,u);const l=Qa(e,n,a,t);$t(l,e),null!==o&&dV(0,a-i,l,u,0,o),c&&(Tn(t.index,e)[8]=l)}}(n,e,t,$n(t,e)),128==(128&t.flags)&&function oV(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function EF(){return Y.lFrame.currentDirectiveIndex}();try{mi(o);for(let u=r;u<i;u++){const c=n.data[u],l=e[u];wp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&F0(c,l)}}finally{mi(-1),wp(a)}}(n,e,t))}function _g(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function M0(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Jl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Jl(n,e,t,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function J2(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Z);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function k0(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Mn(n,e,t,r,i,s,o,a){const u=$n(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(z0(n,t,l,r,i),bl(e)&&function tV(n,e){const t=Tn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function eV(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ge(s)?s.setProperty(u,r,i):Ip(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function vg(n,e,t,r){let i=!1;if($E()){const s=function aV(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];f0(t,o.selectors,!1)&&(i||(i=[]),Pl(Ka(t,e),n,o.type),rr(o)?(L0(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,V0(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=po(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=Rl(t.mergedAttrs,d.hostAttrs),U0(n,t,e,c,d),cV(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}!function Z2(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||h0(e)?null:hV(d,s);o.push(h),a=k0(d,c,a),u=k0(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function uV(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new me(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Rl(t.mergedAttrs,t.attrs),i}function P0(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function iV(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function F0(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function L0(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function cV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;rr(e)&&(t[""]=n)}}function V0(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function U0(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Zi(i.type)),o=new za(s,rr(i),null);n.blueprint[r]=o,t[r]=o,P0(n,e,0,r,po(n,t,i.hostVars,Z),i)}function lV(n,e,t){const r=$n(e,n),i=M0(t),s=n[10],o=Xl(n,du(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Dr(n,e,t,r,i,s){const o=$n(n,e);!function wg(n,e,t,r,i,s,o){if(null==s)Ge(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?X(s):o(s,r||"",i);Ge(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function dV(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function hV(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function B0(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function gV(n,e){const t=Tn(e,n);if(mp(t)){const r=t[1];80&t[2]?go(r,t,r.template,t[8]):t[5]>0&&bg(t)}}function bg(n){for(let r=Qp(n);null!==r;r=Yp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];go(o,s,o.template,s[8])}else s[5]>0&&bg(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Tn(t[r],n);mp(i)&&i[5]>0&&bg(i)}}function mV(n,e){const t=Tn(e,n),r=t[1];(function yV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),hu(r,t,t[8])}function Xl(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Cg(n){for(;n;){n[2]|=64;const e=cu(n);if(nF(n)&&!e)return n;n=e}return null}function Dg(n,e,t){const r=e[10];r.begin&&r.begin();try{go(n,e,n.template,t)}catch(i){throw q0(e,i),i}finally{r.end&&r.end()}}function j0(n){!function Eg(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Gp(t),i=r[1];Y2(i,r,i.template,t)}}(n[8])}function Ig(n,e,t){Cp(0),e(n,t)}const bV=(()=>Promise.resolve(null))();function H0(n){return n[7]||(n[7]=[])}function $0(n){return n.cleanup||(n.cleanup=[])}function q0(n,e){const t=n[9],r=t?t.get(co,null):null;r&&r.handleError(e)}function z0(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function zr(n,e,t){const r=El(e,n);!function KD(n,e,t){Ge(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Zl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=tp(i,a):2==s&&(r=tp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Tg=new de("INJECTOR",-1);class W0{get(e,t=eu){if(t===eu){const r=new Error(`NullInjectorError: No provider for ${Ce(e)}!`);throw r.name="NullInjectorError",r}return t}}const Ag=new de("Set Injector scope."),fu={},DV={};let Sg;function K0(){return void 0===Sg&&(Sg=new W0),Sg}function Q0(n,e=null,t=null,r){const i=Y0(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Y0(n,e=null,t=null,r){return new IV(n,t,e||K0(),r)}class IV{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&wr(t,a=>this.processProvider(a,e,t)),wr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Tg,mo(void 0,this));const o=this.records.get(Ag);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ce(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=eu,r=te.Default){this.assertNotDestroyed();const i=_D(this),s=hi(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function kV(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&rp(e);a=u&&this.injectableDefInScope(u)?mo(Mg(e),fu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?K0():this.parent).get(e,t=r&te.Optional&&t===eu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ul]=o[Ul]||[]).unshift(Ce(e)),i)throw o;return function aL(n,e,t,r){const i=n[Ul];throw e[yD]&&i.unshift(e[yD]),n.message=function uL(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ce(e);if(Array.isArray(e))i=e.map(Ce).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nL,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ul]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{hi(s),_D(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ce(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,"")}processInjectorType(e,t,r){if(!(e=re(e)))return!1;let i=TE(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=TE(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{wr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];wr(f,y=>this.processProvider(y,h,f||Ae))}}this.injectorDefTypes.add(o);const u=Zi(o)||(()=>new o);this.records.set(o,mo(u,fu));const c=i.providers;if(null!=c&&!a){const l=e;wr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=yo(e=re(e))?e:re(e&&e.provide);const s=function AV(n,e,t){return X0(n)?mo(void 0,n.useValue):mo(J0(n),fu)}(e);if(yo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=mo(void 0,fu,!0),o.factory=()=>Pp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===fu&&(t.value=DV,t.value=t.factory()),"object"==typeof t.value&&t.value&&function RV(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=re(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Mg(n){const e=rp(n),t=null!==e?e.factory:Zi(n);if(null!==t)return t;if(n instanceof de)throw new me(204,"");if(n instanceof Function)return function TV(n){const e=n.length;if(e>0)throw function Za(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new me(204,"");const t=function $P(n){const e=n&&(n[ml]||n[AE]);if(e){const t=function GP(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new me(204,"")}function J0(n,e,t){let r;if(yo(n)){const i=re(n);return Zi(i)||Mg(i)}if(X0(n))r=()=>re(n.useValue);else if(function MV(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Pp(n.deps||[]));else if(function SV(n){return!(!n||!n.useExisting)}(n))r=()=>W(re(n.useExisting));else{const i=re(n&&(n.useClass||n.provide));if(!function NV(n){return!!n.deps}(n))return Zi(i)||Mg(i);r=()=>new i(...Pp(n.deps))}return r}function mo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function X0(n){return null!==n&&"object"==typeof n&&iL in n}function yo(n){return"function"==typeof n}let Gt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Q0({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Q0({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=eu,n.NULL=new W0,n.\u0275prov=ce({token:n,providedIn:"any",factory:()=>W(Tg)}),n.__NG_ELEMENT_ID__=-1,n})();function jV(n,e){Sl(Gp(n)[1],ct())}function Se(n){let e=function lI(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(rr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new me(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Rg(n.inputs),o.declaredInputs=Rg(n.declaredInputs),o.outputs=Rg(n.outputs);const a=i.hostBindings;a&&qV(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&$V(n,u),c&&GV(n,c),ep(n.inputs,i.inputs),ep(n.declaredInputs,i.declaredInputs),ep(n.outputs,i.outputs),rr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Se&&(t=!1)}}e=Object.getPrototypeOf(e)}!function HV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rl(i.hostAttrs,t=Rl(t,i.hostAttrs))}}(r)}function Rg(n){return n===qs?{}:n===Ae?[]:n}function $V(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function GV(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function qV(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let ed=null;function _o(){if(!ed){const n=De.Symbol;if(n&&n.iterator)ed=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ed=r)}}}return ed}function pu(n){return!!kg(n)&&(Array.isArray(n)||!(n instanceof Map)&&_o()in n)}function kg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ir(n,e,t){return n[e]=t}function qt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Tr(n,e,t,r){const i=S();return qt(i,Js(),e)&&(ye(),Dr(qe(),i,n,e,t,r)),Tr}function wo(n,e,t,r){return qt(n,Js(),t)?e+X(t)+r:Z}function L(n,e,t,r,i,s,o,a){const u=S(),c=ye(),l=n+20,d=c.firstCreatePass?function XV(n,e,t,r,i,s,o,a,u){const c=e.consts,l=fo(e,n,4,o||null,gi(c,a));vg(e,t,l,gi(c,u)),Sl(e,l);const d=l.tViews=Jl(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];vr(d,!1);const h=u[11].createComment("");zl(c,u,h,d),$t(h,u),Xl(u,u[l]=B0(h,u,h,d)),Cl(d)&&yg(c,u,d),null!=o&&_g(u,d,a)}function I(n,e=te.Default){const t=S();return null===t?W(n,e):aD(ct(),t,re(n),e)}function Vg(){throw new Error("invalid")}function v(n,e,t){const r=S();return qt(r,Js(),e)&&Mn(ye(),qe(),r,n,e,r[11],t,!1),v}function Ug(n,e,t,r,i){const o=i?"class":"style";z0(n,t,e.inputs[o],o,r)}function p(n,e,t,r){const i=S(),s=ye(),o=20+n,a=i[11],u=i[o]=Xp(a,e,function NF(){return Y.lFrame.currentNamespace}()),c=s.firstCreatePass?function wU(n,e,t,r,i,s,o){const a=e.consts,c=fo(e,n,2,i,gi(a,s));return vg(e,t,c,gi(a,o)),null!==c.attrs&&Zl(c,c.attrs,!1),null!==c.mergedAttrs&&Zl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];vr(c,!0);const l=c.mergedAttrs;null!==l&&Nl(a,u,l);const d=c.classes;null!==d&&ig(a,u,d);const h=c.styles;null!==h&&c0(a,u,h),64!=(64&c.flags)&&zl(s,i,u,c),0===function gF(){return Y.lFrame.elementDepthCount}()&&$t(u,i),function mF(){Y.lFrame.elementDepthCount++}(),Cl(c)&&(yg(s,i,c),function S0(n,e,t){if(lp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&_g(i,c)}function g(){let n=ct();_p()?function vp(){Y.lFrame.isParent=!1}():(n=n.parent,vr(n,!1));const e=n;!function yF(){Y.lFrame.elementDepthCount--}();const t=ye();t.firstCreatePass&&(Sl(t,n),lp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function FF(n){return 0!=(16&n.flags)}(e)&&Ug(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function LF(n){return 0!=(32&n.flags)}(e)&&Ug(t,e,S(),e.stylesWithoutHost,!1)}function M(n,e,t,r){p(n,e,t,r),g()}function dt(){return S()}function mu(n){return!!n&&"function"==typeof n.then}const Bg=function RI(n){return!!n&&"function"==typeof n.subscribe};function R(n,e,t,r){const i=S(),s=ye(),o=ct();return function OI(n,e,t,r,i,s,o,a){const u=Cl(r),l=n.firstCreatePass&&$0(n),d=e[8],h=H0(e);let f=!0;if(3&r.type||a){const E=$n(r,e),T=a?a(E):E,C=h.length,P=a?G=>a(Xe(G[r.index])):r.index;if(Ge(t)){let G=null;if(!a&&u&&(G=function EU(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,f=!1;else{s=jg(r,e,d,s,!1);const ne=t.listen(T,i,s);h.push(s,ne),l&&l.push(i,P,C,C+1)}}else s=jg(r,e,d,s,!0),T.addEventListener(i,s,o),h.push(s),l&&l.push(i,P,C,o)}else s=jg(r,e,d,s,!1);const y=r.outputs;let w;if(f&&null!==y&&(w=y[i])){const E=w.length;if(E)for(let T=0;T<E;T+=2){const wt=e[w[T]][w[T+1]].subscribe(s),Fn=h.length;h.push(s,wt),l&&l.push(i,r.index,Fn,-(Fn+1))}}}(s,i,i[11],o,n,e,!!t,r),R}function PI(n,e,t,r){try{return!1!==t(r)}catch(i){return q0(n,i),!1}}function jg(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Tn(n.index,e):e;0==(32&e[2])&&Cg(a);let u=PI(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=PI(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function U(n=1){return function IF(n){return(Y.lFrame.contextLView=function TF(n,e){for(;n>0;)e=e[15],n--;return e}(n,Y.lFrame.contextLView))[8]}(n)}function Hg(n,e,t){return $g(n,"",e,"",t),Hg}function $g(n,e,t,r,i){const s=S(),o=wo(s,e,t,r);return o!==Z&&Mn(ye(),qe(),s,n,o,s[11],i,!1),$g}function GI(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?sr(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];MU(n[a],e)&&(u=!0,n[a+1]=r?ag(l):sg(l)),a=r?sr(l):qr(l)}u&&(n[t+1]=r?sg(s):ag(s))}function MU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&so(n,e)>=0}const ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qI(n){return n.substring(ht.key,ht.keyEnd)}function xU(n){return n.substring(ht.value,ht.valueEnd)}function WI(n,e){const t=ht.textEnd;let r=ht.key=Mo(n,e,t);return t===r?-1:(r=ht.keyEnd=function OU(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=QI(n,r,t),r=ht.value=Mo(n,r,t),r=ht.valueEnd=function PU(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const u=n.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=YI(n,u,o,t):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=YI(n,41,o,t):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(n,r,t),QI(n,r,t))}function Mo(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function QI(n,e,t,r){return(e=Mo(n,e,t))<t&&e++,e}function YI(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Gg(n,e,t){return ar(n,e,t,!1),Gg}function rd(n,e){return ar(n,e,null,!0),rd}function Ie(n){!function ur(n,e,t,r){const i=ye(),s=Gr(2);i.firstUpdatePass&&XI(i,null,s,r);const o=S();if(t!==Z&&qt(o,s,t)){const a=i.data[en()];if(nT(a,r)&&!JI(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=tp(u,t||"")),Ug(i,a,o,t,r)}else!function $U(n,e,t,r,i,s,o,a){i===Z&&(i=Ae);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let w,y=null;l===d?(u+=2,c+=2,h!==f&&(y=d,w=f)):null===d||null!==l&&l<d?(u+=2,y=l):(c+=2,y=d,w=f),null!==y&&eT(n,e,t,r,y,w,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function HU(n,e,t){if(null==t||""===t)return Ae;const r=[],i=_i(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(ZI,FU,n,!1)}function FU(n,e){for(let t=function RU(n){return function KI(n){ht.key=0,ht.keyEnd=0,ht.value=0,ht.valueEnd=0,ht.textEnd=n.length}(n),WI(n,Mo(n,0,ht.textEnd))}(e);t>=0;t=WI(e,t))ZI(n,qI(e),xU(e))}function ar(n,e,t,r){const i=S(),s=ye(),o=Gr(2);s.firstUpdatePass&&XI(s,n,o,r),e!==Z&&qt(i,o,e)&&eT(s,s.data[en()],i,i[11],n,i[o+1]=function GU(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ce(_i(n)))),n}(e,t),r,o)}function JI(n,e){return e>=n.expandoStartIndex}function XI(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[en()],o=JI(n,t);nT(s,r)&&null===e&&!o&&(e=!1),e=function VU(n,e,t,r){const i=function bp(n){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=yu(t=qg(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=qg(i,n,e,t,r),null===s){let u=function UU(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qr(r))return n[sr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=qg(null,n,e,u[1],r),u=yu(u,e.attrs,r),function BU(n,e,t,r){n[sr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function jU(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yu(r,n[s].hostAttrs,t);return yu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function AU(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=sr(o),u=qr(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||so(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=sr(n[a+1]);n[r+1]=Kl(h,a),0!==h&&(n[h+1]=og(n[h+1],r)),n[a+1]=function L2(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Kl(a,0),0!==a&&(n[a+1]=og(n[a+1],r)),a=r;else n[r+1]=Kl(u,0),0===a?a=r:n[u+1]=og(n[u+1],r),u=r;c&&(n[r+1]=sg(n[r+1])),GI(n,l,r,!0),GI(n,l,r,!1),function SU(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&so(s,e)>=0&&(t[r+1]=ag(t[r+1]))}(e,l,n,r,s),o=Kl(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function qg(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=yu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function yu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),An(n,o,!!t||e[++s]))}return void 0===n?null:n}function ZI(n,e,t){An(n,e,_i(t))}function eT(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];id(function _0(n){return 1==(1&n)}(c)?tT(u,e,t,i,qr(c),o):void 0)||(id(s)||function y0(n){return 2==(2&n)}(c)&&(s=tT(u,null,t,i,a,o)),function I2(n,e,t,r,i){const s=Ge(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Sn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Sn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,El(en(),t),i,s))}function tT(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===Z&&(h=d?Ae:void 0);let f=d?Rp(h,r):l===r?h:void 0;if(c&&!id(f)&&(f=Rp(u,r)),id(f)&&(a=f,o))return a;const y=n[i+1];i=o?sr(y):qr(y)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Rp(u,r))}return a}function id(n){return void 0!==n}function nT(n,e){return 0!=(n.flags&(e?16:32))}function b(n,e=""){const t=S(),r=ye(),i=n+20,s=r.firstCreatePass?fo(r,i,1,e,null):r.data[i],o=t[i]=function Jp(n,e){return Ge(n)?n.createText(e):n.createTextNode(e)}(t[11],e);zl(r,t,o,s),vr(s,!1)}function B(n){return et("",n,""),B}function et(n,e,t){const r=S(),i=wo(r,n,e,t);return i!==Z&&zr(r,en(),i),et}const rs=void 0;var lB=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cB(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let xo={};function nn(n){const e=function dB(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=ET(e);if(t)return t;const r=e.split("-")[0];if(t=ET(r),t)return t;if("en"===r)return lB;throw new Error(`Missing locale data for the locale "${n}".`)}function ET(n){return n in xo||(xo[n]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[n]),xo[n]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const sd="en-US";let DT=sd;function Kg(n,e,t,r,i){if(n=re(n),Array.isArray(n))for(let s=0;s<n.length;s++)Kg(n[s],e,t,r,i);else{const s=ye(),o=S();let a=yo(n)?n:re(n.provide),u=J0(n);const c=ct(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(yo(n)||!n.multi){const f=new za(u,i,I),y=Yg(a,e,i?l:l+h,d);-1===y?(Pl(Ka(c,o),s,a),Qg(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[y]=f,o[y]=f)}else{const f=Yg(a,e,l+h,d),y=Yg(a,e,l,l+h),w=f>=0&&t[f],E=y>=0&&t[y];if(i&&!E||!i&&!w){Pl(Ka(c,o),s,a);const T=function cj(n,e,t,r,i){const s=new za(n,t,I);return s.multi=[],s.index=e,s.componentProviders=0,KT(s,i,r&&!t),s}(i?uj:aj,t.length,i,r,u);!i&&E&&(t[y].providerFactory=T),Qg(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(T),o.push(T)}else Qg(s,n,f>-1?f:y,KT(t[i?y:f],u,!i&&r));!i&&r&&E&&t[y].componentProviders++}}}function Qg(n,e,t,r){const i=yo(e),s=function xV(n){return!!n.useClass}(e);if(i||s){const u=(s?re(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function KT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Yg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function aj(n,e,t,r){return Jg(this.multi,[])}function uj(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Qa(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Jg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Jg(i,s);return s}function Jg(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Le(n,e=[]){return t=>{t.providersResolver=(r,i)=>function oj(n,e,t){const r=ye();if(r.firstCreatePass){const i=rr(n);Kg(t,r.data,r.blueprint,i,!0),Kg(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class QT{}class hj{resolveComponentFactory(e){throw function dj(n){const e=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ro=(()=>{class n{}return n.NULL=new hj,n})();function fj(){return ko(ct(),S())}function ko(n,e){return new xn($n(n,e))}let xn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=fj,n})();class JT{}let Wr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mj(){const n=S(),t=Tn(ct().index,n);return function gj(n){return n[11]}(_r(t)?t:n)}(),n})(),yj=(()=>{class n{}return n.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null}),n})();class Cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _j=new Cu("13.1.3"),Xg={};function ld(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Xe(s)),nr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ld(u[1],u,c,r)}const o=t.type;if(8&o)ld(n,e,t.child,r);else if(32&o){const a=Kp(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=o0(e,t);if(Array.isArray(a))r.push(...a);else{const u=cu(e[16]);ld(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Eu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ld(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(nr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Zp(e,r),Ll(t,r))}this._attachedToViewContainer=!1}YD(this._lView[1],this._lView)}onDestroy(e){!function R0(n,e,t,r){const i=H0(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&$0(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Cg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function vV(n,e,t){Il(!0);try{Dg(n,e,t)}finally{Il(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g2(n,e){lu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new me(902,"");this._appRef=e}}class vj extends Eu{constructor(e){super(e),this._view=e}detectChanges(){j0(this._view)}checkNoChanges(){!function wV(n){Il(!0);try{j0(n)}finally{Il(!1)}}(this._view)}get context(){return null}}class XT extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=jt(e);return new Zg(t,this.ngModule)}}function ZT(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const bj=new de("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>HD});class Zg extends QT{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function P2(n){return n.map(O2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ZT(this.componentDef.inputs)}get outputs(){return ZT(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function Cj(n,e){return{get:(t,r,i)=>{const s=n.get(t,Xg,i);return s!==Xg||r===Xg?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(JT,BE),a=s.get(yj,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function N0(n,e,t){if(Ge(n))return n.selectRootElement(e,t===yr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Xp(o.createRenderer(null,this.componentDef),c,function wj(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function cI(n,e){return{components:[],scheduler:n||HD,clean:bV,playerHandler:e||null,flags:0}}(),f=Jl(0,null,null,1,0,null,null,null,null,null),y=du(null,f,h,d,null,null,o,u,a,s);let w,E;Tl(y);try{const T=function aI(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=fo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Zl(u,c,!0),null!==n&&(Nl(i,n,c),null!==u.classes&&ig(i,n,u.classes),null!==u.styles&&c0(i,n,u.styles)));const l=r.createRenderer(n,e),d=du(t,M0(e),null,e.onPush?64:16,t[20],u,r,l,s||null,null);return o.firstCreatePass&&(Pl(Ka(u,t),o,e.type),L0(o,u),V0(u,t.length,1)),Xl(t,d),t[20]=d}(l,this.componentDef,y,o,u);if(l)if(r)Nl(u,l,["ng-version",_j.full]);else{const{attrs:C,classes:P}=function F2(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ir(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Nl(u,l,C),P&&P.length>0&&ig(u,l,P.join(" "))}if(E=gp(f,20),void 0!==t){const C=E.projection=[];for(let P=0;P<this.ngContentSelectors.length;P++){const G=t[P];C.push(null!=G?Array.from(G):null)}}w=function uI(n,e,t,r,i){const s=t[1],o=function rV(n,e,t){const r=ct();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),U0(n,r,e,po(n,e,1,null),t));const i=Qa(e,n,r.directiveStart,r);$t(i,e);const s=$n(r,e);return s&&$t(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ct();e.contentQueries(1,o,u.directiveStart)}const a=ct();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),P0(t[1],a,0,a.directiveStart,a.directiveEnd,e),F0(e,o)),o}(T,this.componentDef,y,h,[jV]),hu(f,y,null)}finally{Al()}return new Dj(this.componentType,w,ko(E,y),y,E)}}class Dj extends class lj{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new vj(i),this.componentType=e}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Kr{}class e1{}const Oo=new Map;class r1 extends Kr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XT(this);const r=Bn(e);this._bootstrapComponents=Er(r.bootstrap),this._r3Injector=Y0(e,t,[{provide:Kr,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],Ce(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Gt.THROW_IF_NOT_FOUND,r=te.Default){return e===Gt||e===Kr||e===Tg?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class em extends e1{constructor(e){super(),this.moduleType=e,null!==Bn(e)&&function Tj(n){const e=new Set;!function t(r){const i=Bn(r,!0),s=i.id;null!==s&&(function t1(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ce(e)} vs ${Ce(e.name)}`)}(s,Oo.get(s),r),Oo.set(s,r));const o=Er(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new r1(this.moduleType,e)}}function dd(n,e,t){const r=Zt()+n,i=S();return i[r]===Z?Ir(i,r,t?e.call(t):e()):function gu(n,e){return n[e]}(i,r)}function i1(n,e,t,r){return function s1(n,e,t,r,i,s){const o=e+t;return qt(n,o,i)?Ir(n,o+1,s?r.call(s,i):r(i)):Du(n,o+1)}(S(),Zt(),n,e,t,r)}function Du(n,e){const t=n[e];return t===Z?void 0:t}function o1(n,e,t,r,i,s,o){const a=e+t;return function ns(n,e,t,r){const i=qt(n,e,t);return qt(n,e+1,r)||i}(n,a,i,s)?Ir(n,a+2,o?r.call(o,i,s):r(i,s)):Du(n,a+2)}function ae(n,e){const t=ye();let r;const i=n+20;t.firstCreatePass?(r=function Pj(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Zi(r.type)),o=hi(I);try{const a=kl(!1),u=s();return kl(a),function ZV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,S(),i,u),u}finally{hi(o)}}function ue(n,e,t,r){const i=n+20,s=S(),o=function Ys(n,e){return n[e]}(s,i);return function Iu(n,e){return n[1].data[e].pure}(s,i)?o1(s,Zt(),e,o.transform,t,r,o):o.transform(t,r)}function tm(n){return e=>{setTimeout(n,void 0,e)}}const je=class Bj extends Vr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=tm(u),a&&(a=tm(a)),c&&(c=tm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Ln&&e.add(l),l}};Symbol;let Qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gj,n})();const Hj=Qr,$j=class extends Hj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=du(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),hu(t,r,e),new Eu(r)}};function Gj(){return function hd(n,e){return 4&n.type?new $j(e,n,ko(n,e)):null}(ct(),S())}let cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=qj,n})();function qj(){return function h1(n,e){let t;const r=e[n.index];if(nr(r))t=r;else{let i;if(8&n.type)i=Xe(r);else{const s=e[11];i=s.createComment("");const o=$n(n,e);ts(s,ql(s,o),i,function C2(n,e){return Ge(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=B0(r,e,i,n),Xl(e,t)}return new l1(t,n,e)}(ct(),S())}const zj=cr,l1=class extends zj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ol(this._hostTNode,this._hostLView);if(nD(e)){const t=Zs(e,this._hostLView),r=Xs(e);return new eo(t[1].data[r+8],t)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=d1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Xa(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Zg(jt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(Kr,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function pF(n){return nr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new l1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function y2(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],hD(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function _2(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=ng(s,o),u=r[11],c=ql(u,o[7]);return null!==c&&function p2(n,e,t,r,i,s){r[0]=i,r[6]=e,lu(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),hD(rm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=d1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Zp(this._lContainer,t);r&&(Ll(rm(this._lContainer),t),YD(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Zp(this._lContainer,t);return r&&null!=Ll(rm(this._lContainer),t)?new Eu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function d1(n){return n[8]}function rm(n){return n[8]||(n[8]=[])}function gd(...n){}const md=new de("Application Initializer");let Fo=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gd,this.reject=gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(mu(s))t.push(s);else if(Bg(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(W(md,8))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const Au=new de("AppId"),w3={provide:Au,useFactory:function v3(){return`${ym()}${ym()}${ym()}`},deps:[]};function ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const O1=new de("Platform Initializer"),_m=new de("Platform ID"),P1=new de("appBootstrapListener");let F1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const bi=new de("LocaleId"),L1=new de("DefaultCurrencyCode");class b3{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let yd=(()=>{class n{compileModuleSync(t){return new em(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Er(Bn(t).declarations).reduce((o,a)=>{const u=jt(a);return u&&o.push(new Zg(u)),o},[]);return new b3(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const E3=(()=>Promise.resolve(0))();function vm(n){"undefined"==typeof Zone?E3.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function D3(){let n=De.requestAnimationFrame,e=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function A3(n){const e=()=>{!function T3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(De,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bm(n),n.isCheckStableRunning=!0,wm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return V1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),U1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return V1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),U1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,bm(n),wm(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,I3,gd,gd);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const I3={};function wm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function V1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U1(n){n._nesting--,wm(n)}class S3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Cm=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),vm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vm(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(W(ft))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),B1=(()=>{class n{constructor(){this._applications=new Map,Em.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Em.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class M3{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let lr,Em=new M3;const j1=new de("AllowMultipleToken");class H1{constructor(e,t){this.name=e,this.token=t}}function $1(n,e,t=[]){const r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=G1();if(!o||o.injector.get(j1,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Ag,useValue:"platform"});!function k3(n){if(lr&&!lr.destroyed&&!lr.injector.get(j1,!1))throw new me(400,"");lr=n.get(q1);const e=n.get(O1,null);e&&e.forEach(t=>t())}(Gt.create({providers:a,name:r}))}return function O3(n){const e=G1();if(!e)throw new me(401,"");return e}()}}function G1(){return lr&&!lr.destroyed?lr:null}let q1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function P3(n,e){let t;return t="noop"===n?new S3:("zone.js"===n?void 0:n)||new ft({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:ft,useValue:a}];return a.run(()=>{const c=Gt.create({providers:u,parent:this.injector,name:t.moduleType.name}),l=t.create(c),d=l.injector.get(co,null);if(!d)throw new me(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Dm(this._modules,l),h.unsubscribe()})}),function F3(n,e,t){try{const r=t();return mu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Fo);return h.runInitializers(),h.donePromise.then(()=>(function gB(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(DT=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(bi,sd)||sd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=z1({},r);return function N3(n,e,t){const r=new em(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new me(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(W(Gt))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function z1(n,e){return Array.isArray(e)?e.reduce(z1,n):Object.assign(Object.assign({},n),e)}let Su=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Be(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Be(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),vm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function FP(...n){const e=Ba(n),t=function MP(n,e){return"number"==typeof Xf(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?mr(r[0]):Ua(t)(Et(r,e)):Br}(a,u.pipe(function LP(n={}){const{connector:e=(()=>new Vr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},y=()=>{const w=o;f(),null==w||w.unsubscribe()};return Rt((w,E)=>{c++,!d&&!l&&h();const T=u=null!=u?u:e();E.add(()=>{c--,0===c&&!d&&!l&&(a=Zf(y,i))}),T.subscribe(E),o||(o=new Wf({next:C=>T.next(C),error:C=>{d=!0,h(),a=Zf(f,t,C),T.error(C)},complete:()=>{l=!0,h(),a=Zf(f,r),T.complete()}}),Et(w).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new me(405,"");let i;i=t instanceof QT?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function R3(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Kr),a=i.create(Gt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Cm,null),l=c&&a.injector.get(B1);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Dm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new me(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Dm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(P1,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(W(ft),W(Gt),W(co),W(Ro),W(Fo))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function Dm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let K1=!0,Im=(()=>{class n{}return n.__NG_ELEMENT_ID__=U3,n})();function U3(n){return function B3(n,e,t){if(bl(n)&&!t){const r=Tn(n.index,e);return new Eu(r,r)}return 47&n.type?new Eu(e[16],e):null}(ct(),S(),16==(16&n))}class tA{constructor(){}supports(e){return pu(e)}create(e){return new z3(e)}}const q3=(n,e)=>e;class z3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q3}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rA(r,i,s)?t:r,a=rA(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,y=f+h;l<=y&&y<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pu(e))throw new me(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function JV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[_o()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new W3(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W3{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new K3,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iA{constructor(){}supports(e){return e instanceof Map||kg(e)}create(){return new Q3}}class Q3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||kg(e)))throw new me(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Y3(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Y3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sA(){return new Mu([new tA])}let Mu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sA()),deps:[[n,new oo,new br]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new me(901,"")}}return n.\u0275prov=ce({token:n,providedIn:"root",factory:sA}),n})();function oA(){return new Lo([new iA])}let Lo=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oA()),deps:[[n,new oo,new br]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new me(901,"")}}return n.\u0275prov=ce({token:n,providedIn:"root",factory:oA}),n})();const J3=[new iA],Z3=new Mu([new tA]),eH=new Lo(J3),tH=$1(null,"core",[{provide:_m,useValue:"unknown"},{provide:q1,deps:[Gt]},{provide:B1,deps:[]},{provide:F1,deps:[]}]),oH=[{provide:Su,useClass:Su,deps:[ft,Gt,co,Ro,Fo]},{provide:bj,deps:[ft],useFactory:function aH(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Fo,useClass:Fo,deps:[[new br,md]]},{provide:yd,useClass:yd,deps:[]},w3,{provide:Mu,useFactory:function nH(){return Z3},deps:[]},{provide:Lo,useFactory:function rH(){return eH},deps:[]},{provide:bi,useFactory:function iH(n){return n||function sH(){return"undefined"!=typeof $localize&&$localize.locale||sd}()},deps:[[new ru(bi),new br,new oo]]},{provide:L1,useValue:"USD"}];let uH=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(W(Su))},n.\u0275mod=Un({type:n}),n.\u0275inj=En({providers:oH}),n})(),vd=null;function Sr(){return vd}const zn=new de("DocumentToken");let ss=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:function(){return function hH(){return W(aA)}()},providedIn:"platform"}),n})();const fH=new de("Location Initialized");let aA=(()=>{class n extends ss{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){uA()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){uA()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(W(zn))},n.\u0275prov=ce({token:n,factory:function(){return function pH(){return new aA(W(zn))}()},providedIn:"platform"}),n})();function uA(){return!!window.history.pushState}function xm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Yr(n){return n&&"?"!==n[0]?"?"+n:n}let Vo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:function(){return function gH(n){const e=W(zn).location;return new lA(W(ss),e&&e.origin||"")}()},providedIn:"root"}),n})();const Nm=new de("appBaseHref");let lA=(()=>{class n extends Vo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Yr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(W(ss),W(Nm,8))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),mH=(()=>{class n extends Vo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(W(ss),W(Nm,8))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),Rm=(()=>{class n{constructor(t,r){this._subject=new je,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=cA(dA(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yr(r))}normalize(t){return n.stripTrailingSlash(function _H(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,dA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Yr,n.joinWithSlash=xm,n.stripTrailingSlash=cA,n.\u0275fac=function(t){return new(t||n)(W(Vo),W(ss))},n.\u0275prov=ce({token:n,factory:function(){return function yH(){return new Rm(W(Vo),W(ss))}()},providedIn:"root"}),n})();function dA(n){return n.replace(/\/index.html$/,"")}const hA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var gn=(()=>((gn=gn||{})[gn.Decimal=0]="Decimal",gn[gn.Percent=1]="Percent",gn[gn.Currency=2]="Currency",gn[gn.Scientific=3]="Scientific",gn))(),tt=(()=>((tt=tt||{})[tt.Zero=0]="Zero",tt[tt.One=1]="One",tt[tt.Two=2]="Two",tt[tt.Few=3]="Few",tt[tt.Many=4]="Many",tt[tt.Other=5]="Other",tt))(),Ye=(()=>((Ye=Ye||{})[Ye.Format=0]="Format",Ye[Ye.Standalone=1]="Standalone",Ye))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),He=(()=>((He=He||{})[He.Short=0]="Short",He[He.Medium=1]="Medium",He[He.Long=2]="Long",He[He.Full=3]="Full",He))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function wd(n,e){return Kn(nn(n)[V.DateFormat],e)}function bd(n,e){return Kn(nn(n)[V.TimeFormat],e)}function Cd(n,e){return Kn(nn(n)[V.DateTimeFormat],e)}function Wn(n,e){const t=nn(n),r=t[V.NumberSymbols][e];if(void 0===r){if(e===q.CurrencyDecimal)return t[V.NumberSymbols][q.Decimal];if(e===q.CurrencyGroup)return t[V.NumberSymbols][q.Group]}return r}const IH=function CT(n){return nn(n)[V.PluralCase]};function fA(n){if(!n[V.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[V.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Om(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const NH=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xu={},RH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.ShortGMT=1]="ShortGMT",pt[pt.Long=2]="Long",pt[pt.Extended=3]="Extended",pt))(),K=(()=>((K=K||{})[K.FullYear=0]="FullYear",K[K.Month=1]="Month",K[K.Date=2]="Date",K[K.Hours=3]="Hours",K[K.Minutes=4]="Minutes",K[K.Seconds=5]="Seconds",K[K.FractionalSeconds=6]="FractionalSeconds",K[K.Day=7]="Day",K))(),se=(()=>((se=se||{})[se.DayPeriods=0]="DayPeriods",se[se.Days=1]="Days",se[se.Months=2]="Months",se[se.Eras=3]="Eras",se))();function kH(n,e,t,r){let i=function HH(n){if(mA(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Ed(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(NH))return function $H(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(n);if(!mA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Jr(t,e)||e;let a,o=[];for(;e;){if(a=RH.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=gA(r,u),i=function jH(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function BH(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(gA(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function UH(n){if(Fm[n])return Fm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(se.Eras,fe.Abbreviated);break;case"GGGG":e=Re(se.Eras,fe.Wide);break;case"GGGGG":e=Re(se.Eras,fe.Narrow);break;case"y":e=nt(K.FullYear,1,0,!1,!0);break;case"yy":e=nt(K.FullYear,2,0,!0,!0);break;case"yyy":e=nt(K.FullYear,3,0,!1,!0);break;case"yyyy":e=nt(K.FullYear,4,0,!1,!0);break;case"Y":e=Ad(1);break;case"YY":e=Ad(2,!0);break;case"YYY":e=Ad(3);break;case"YYYY":e=Ad(4);break;case"M":case"L":e=nt(K.Month,1,1);break;case"MM":case"LL":e=nt(K.Month,2,1);break;case"MMM":e=Re(se.Months,fe.Abbreviated);break;case"MMMM":e=Re(se.Months,fe.Wide);break;case"MMMMM":e=Re(se.Months,fe.Narrow);break;case"LLL":e=Re(se.Months,fe.Abbreviated,Ye.Standalone);break;case"LLLL":e=Re(se.Months,fe.Wide,Ye.Standalone);break;case"LLLLL":e=Re(se.Months,fe.Narrow,Ye.Standalone);break;case"w":e=Pm(1);break;case"ww":e=Pm(2);break;case"W":e=Pm(1,!0);break;case"d":e=nt(K.Date,1);break;case"dd":e=nt(K.Date,2);break;case"c":case"cc":e=nt(K.Day,1);break;case"ccc":e=Re(se.Days,fe.Abbreviated,Ye.Standalone);break;case"cccc":e=Re(se.Days,fe.Wide,Ye.Standalone);break;case"ccccc":e=Re(se.Days,fe.Narrow,Ye.Standalone);break;case"cccccc":e=Re(se.Days,fe.Short,Ye.Standalone);break;case"E":case"EE":case"EEE":e=Re(se.Days,fe.Abbreviated);break;case"EEEE":e=Re(se.Days,fe.Wide);break;case"EEEEE":e=Re(se.Days,fe.Narrow);break;case"EEEEEE":e=Re(se.Days,fe.Short);break;case"a":case"aa":case"aaa":e=Re(se.DayPeriods,fe.Abbreviated);break;case"aaaa":e=Re(se.DayPeriods,fe.Wide);break;case"aaaaa":e=Re(se.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":e=Re(se.DayPeriods,fe.Abbreviated,Ye.Standalone,!0);break;case"bbbb":e=Re(se.DayPeriods,fe.Wide,Ye.Standalone,!0);break;case"bbbbb":e=Re(se.DayPeriods,fe.Narrow,Ye.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(se.DayPeriods,fe.Abbreviated,Ye.Format,!0);break;case"BBBB":e=Re(se.DayPeriods,fe.Wide,Ye.Format,!0);break;case"BBBBB":e=Re(se.DayPeriods,fe.Narrow,Ye.Format,!0);break;case"h":e=nt(K.Hours,1,-12);break;case"hh":e=nt(K.Hours,2,-12);break;case"H":e=nt(K.Hours,1);break;case"HH":e=nt(K.Hours,2);break;case"m":e=nt(K.Minutes,1);break;case"mm":e=nt(K.Minutes,2);break;case"s":e=nt(K.Seconds,1);break;case"ss":e=nt(K.Seconds,2);break;case"S":e=nt(K.FractionalSeconds,1);break;case"SS":e=nt(K.FractionalSeconds,2);break;case"SSS":e=nt(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Id(pt.Short);break;case"ZZZZZ":e=Id(pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Id(pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Id(pt.Long);break;default:return null}return Fm[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ed(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Jr(n,e){const t=function vH(n){return nn(n)[V.LocaleId]}(n);if(xu[t]=xu[t]||{},xu[t][e])return xu[t][e];let r="";switch(e){case"shortDate":r=wd(n,He.Short);break;case"mediumDate":r=wd(n,He.Medium);break;case"longDate":r=wd(n,He.Long);break;case"fullDate":r=wd(n,He.Full);break;case"shortTime":r=bd(n,He.Short);break;case"mediumTime":r=bd(n,He.Medium);break;case"longTime":r=bd(n,He.Long);break;case"fullTime":r=bd(n,He.Full);break;case"short":const i=Jr(n,"shortTime"),s=Jr(n,"shortDate");r=Dd(Cd(n,He.Short),[i,s]);break;case"medium":const o=Jr(n,"mediumTime"),a=Jr(n,"mediumDate");r=Dd(Cd(n,He.Medium),[o,a]);break;case"long":const u=Jr(n,"longTime"),c=Jr(n,"longDate");r=Dd(Cd(n,He.Long),[u,c]);break;case"full":const l=Jr(n,"fullTime"),d=Jr(n,"fullDate");r=Dd(Cd(n,He.Full),[l,d])}return r&&(xu[t][e]=r),r}function Dd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function dr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function nt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function PH(n,e){switch(n){case K.FullYear:return e.getFullYear();case K.Month:return e.getMonth();case K.Date:return e.getDate();case K.Hours:return e.getHours();case K.Minutes:return e.getMinutes();case K.Seconds:return e.getSeconds();case K.FractionalSeconds:return e.getMilliseconds();case K.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===K.Hours)0===a&&-12===t&&(a=12);else if(n===K.FractionalSeconds)return function OH(n,e){return dr(n,3).substr(0,e)}(a,e);const u=Wn(o,q.MinusSign);return dr(a,e,u,r,i)}}function Re(n,e,t=Ye.Format,r=!1){return function(i,s){return function FH(n,e,t,r,i,s){switch(t){case se.Months:return function CH(n,e,t){const r=nn(n),s=Kn([r[V.MonthsFormat],r[V.MonthsStandalone]],e);return Kn(s,t)}(e,i,r)[n.getMonth()];case se.Days:return function bH(n,e,t){const r=nn(n),s=Kn([r[V.DaysFormat],r[V.DaysStandalone]],e);return Kn(s,t)}(e,i,r)[n.getDay()];case se.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function TH(n){const e=nn(n);return fA(e),(e[V.ExtraData][2]||[]).map(r=>"string"==typeof r?Om(r):[Om(r[0]),Om(r[1])])}(e),l=function AH(n,e,t){const r=nn(n);fA(r);const s=Kn([r[V.ExtraData][0],r[V.ExtraData][1]],e)||[];return Kn(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,y]=h,w=o>=f.hours&&a>=f.minutes,E=o<y.hours||o===y.hours&&a<y.minutes;if(f.hours<y.hours){if(w&&E)return!0}else if(w||E)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function wH(n,e,t){const r=nn(n),s=Kn([r[V.DayPeriodsFormat],r[V.DayPeriodsStandalone]],e);return Kn(s,t)}(e,i,r)[o<12?0:1];case se.Eras:return function EH(n,e){return Kn(nn(n)[V.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Id(n){return function(e,t,r){const i=-1*r,s=Wn(t,q.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case pt.Short:return(i>=0?"+":"")+dr(o,2,s)+dr(Math.abs(i%60),2,s);case pt.ShortGMT:return"GMT"+(i>=0?"+":"")+dr(o,1,s);case pt.Long:return"GMT"+(i>=0?"+":"")+dr(o,2,s)+":"+dr(Math.abs(i%60),2,s);case pt.Extended:return 0===r?"Z":(i>=0?"+":"")+dr(o,2,s)+":"+dr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function pA(n){return Ed(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Pm(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=pA(t),o=function VH(n){const e=Ed(n,0,1).getDay();return Ed(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return dr(i,n,Wn(r,q.MinusSign))}}function Ad(n,e=!1){return function(t,r){return dr(pA(t).getFullYear(),n,Wn(r,q.MinusSign),e)}}const Fm={};function gA(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function mA(n){return n instanceof Date&&!isNaN(n.valueOf())}const GH=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function KH(n,e,t,r,i){const o=function Um(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const d=u.charAt(l);"0"===d?t.minFrac=t.maxFrac=l+1:"#"===d?t.maxFrac=l+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substr(0,d).replace(/'/g,""),t.negSuf=s.substr(d+l).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function km(n,e){return nn(n)[V.NumberFormats][e]}(e,gn.Currency),Wn(e,q.MinusSign));return o.minFrac=function xH(n){let e;const t=hA[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function Vm(n,e,t,r,i,s,o=!1){let a="",u=!1;if(isFinite(n)){let c=function XH(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function JH(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const C=s.match(GH);if(null===C)throw new Error(`${s} is not a valid digit info`);const P=C[1],G=C[3],ne=C[5];null!=P&&(l=Bm(P)),null!=G&&(d=Bm(G)),null!=ne?h=Bm(ne):null!=G&&d>h&&(h=d)}!function ZH(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+n.integerLen,l=r.reduceRight(function(d,h,f,y){return y[f]=(h+=d)<10?h:h-10,u&&(0===y[f]&&f>=c?y.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),n.integerLen++)}(c,d,h);let f=c.digits,y=c.integerLen;const w=c.exponent;let E=[];for(u=f.every(C=>!C);y<l;y++)f.unshift(0);for(;y<0;y++)f.unshift(0);y>0?E=f.splice(y,f.length):(E=f,f=[0]);const T=[];for(f.length>=e.lgSize&&T.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)T.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&T.unshift(f.join("")),a=T.join(Wn(t,r)),E.length&&(a+=Wn(t,i)+E.join("")),w&&(a+=Wn(t,q.Exponential)+"+"+w)}else a=Wn(t,q.Infinity);return a=n<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,q.CurrencyGroup,q.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Bm(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Md{}let e$=(()=>{class n extends Md{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(IH(r||this.locale)(t)){case tt.Zero:return"zero";case tt.One:return"one";case tt.Two:return"two";case tt.Few:return"few";case tt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(W(bi))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),wA=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(pu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(I(Mu),I(Lo),I(xn),I(Wr))},n.\u0275dir=z({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class r${constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uo=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new r$(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),bA(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{bA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(cr),I(Qr),I(Mu))},n.\u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function bA(n,e){n.context.$implicit=e.item}let jm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new i$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){CA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){CA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(cr),I(Qr))},n.\u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class i${constructor(){this.$implicit=null,this.ngIf=null}}function CA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(e)}'.`)}function hr(n,e){return new me(2100,"")}const v$=new de("DATE_PIPE_DEFAULT_TIMEZONE");let Gm=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var o;if(null==t||""===t||t!=t)return null;try{return kH(t,r,s||this.locale,null!==(o=null!=i?i:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw hr()}}}return n.\u0275fac=function(t){return new(t||n)(I(bi,16),I(v$,24))},n.\u0275pipe=hn({name:"date",type:n,pure:!0}),n})(),xd=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function qm(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function SH(n,e,t="en"){const r=function DH(n){return nn(n)[V.Currencies]}(t)[n]||hA[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return KH(function zm(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(u){throw hr()}}}return n.\u0275fac=function(t){return new(t||n)(I(bi,16),I(L1,16))},n.\u0275pipe=hn({name:"currency",type:n,pure:!0}),n})();let M$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({providers:[{provide:Md,useClass:e$}]}),n})();let k$=(()=>{class n{}return n.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new O$(W(zn),window)}),n})();class O${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function P$(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=TA(this.window.history)||TA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function TA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wm extends class L$ extends class dH{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function lH(n){vd||(vd=n)}(new Wm)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function V$(){return Ru=Ru||document.querySelector("base"),Ru?Ru.getAttribute("href"):null}();return null==t?null:function U$(n){Nd=Nd||document.createElement("a"),Nd.setAttribute("href",n);const e=Nd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function t$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Nd,Ru=null;const AA=new de("TRANSITION_ID"),j$=[{provide:md,useFactory:function B$(n,e,t){return()=>{t.get(Fo).donePromise.then(()=>{const r=Sr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[AA,zn,Gt],multi:!0}];class Km{static init(){!function x3(n){Em=n}(new Km)}addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Sr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let H$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const Rd=new de("EventManagerPlugins");let kd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(W(Rd),W(ft))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class SA{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Sr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let MA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),ku=(()=>{class n extends MA{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(xA),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xA))}}return n.\u0275fac=function(t){return new(t||n)(W(zn))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function xA(n){Sr().remove(n)}const Qm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ym=/%COMP%/g;function Od(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Od(n,i,t):(i=i.replace(Ym,n),t.push(i))}return t}function kA(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jm=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xm(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case yr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new K$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case yr.ShadowDom:return new Q$(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Od(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(W(kd),W(ku),W(Au))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class Xm{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qm[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Qm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(t,r,i&Sn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kA(r)):this.eventManager.addEventListener(e,t,kA(r))}}class K$ extends Xm{constructor(e,t,r,i){super(e),this.component=r;const s=Od(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function q$(n){return"_ngcontent-%COMP%".replace(Ym,n)}(i+"-"+r.id),this.hostAttr=function z$(n){return"_nghost-%COMP%".replace(Ym,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Q$ extends Xm{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Od(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Y$=(()=>{class n extends SA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(W(zn))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const PA=["alt","control","meta","shift"],X$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Z$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let eG=(()=>{class n extends SA{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(PA.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function tG(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&FA.hasOwnProperty(e)&&(e=FA[e]))}return X$[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PA.forEach(s=>{s!=i&&Z$[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(W(zn))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const sG=$1(tH,"browser",[{provide:_m,useValue:"browser"},{provide:O1,useValue:function nG(){Wm.makeCurrent(),Km.init()},multi:!0},{provide:zn,useFactory:function iG(){return function lF(n){fp=n}(document),document},deps:[]}]),oG=[{provide:Ag,useValue:"root"},{provide:co,useFactory:function rG(){return new co},deps:[]},{provide:Rd,useClass:Y$,multi:!0,deps:[zn,ft,_m]},{provide:Rd,useClass:eG,multi:!0,deps:[zn]},{provide:Jm,useClass:Jm,deps:[kd,ku,Au]},{provide:JT,useExisting:Jm},{provide:MA,useExisting:ku},{provide:ku,useClass:ku,deps:[zn]},{provide:Cm,useClass:Cm,deps:[ft]},{provide:kd,useClass:kd,deps:[Rd,ft]},{provide:class F${},useClass:H$,deps:[]}];let aG=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Au,useValue:t.appId},{provide:AA,useExisting:Au},j$]}}}return n.\u0275fac=function(t){return new(t||n)(W(n,12))},n.\u0275mod=Un({type:n}),n.\u0275inj=En({providers:oG,imports:[M$,uH]}),n})();"undefined"!=typeof window&&window;const{isArray:_G}=Array,{getPrototypeOf:vG,prototype:wG,keys:bG}=Object;function UA(n){if(1===n.length){const e=n[0];if(_G(e))return{args:e,keys:null};if(function CG(n){return n&&"object"==typeof n&&vG(n)===wG}(e)){const t=bG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:EG}=Array;function BA(n){return Me(e=>function DG(n,e){return EG(e)?n(...e):n(e)}(n,e))}function jA(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let HA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(I(Wr),I(xn))},n.\u0275dir=z({type:n}),n})(),os=(()=>{class n extends HA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,features:[Se]}),n})();const Mr=new de("NgValueAccessor"),AG={provide:Mr,useExisting:xe(()=>Xr),multi:!0},MG=new de("CompositionEventMode");let Xr=(()=>{class n extends HA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SG(){const n=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Wr),I(xn),I(MG,8))},n.\u0275dir=z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&R("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([AG]),Se]}),n})();function Ei(n){return null==n||0===n.length}const zt=new de("NgValidators"),Di=new de("NgAsyncValidators");function Ou(n){return null}function ZA(n){return null!=n}function eS(n){const e=mu(n)?Et(n):n;return Bg(e),e}function tS(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function nS(n,e){return e.map(t=>t(n))}function rS(n){return n.map(e=>function NG(n){return!n.validate}(e)?e:t=>e.validate(t))}function ey(n){return null!=n?function iS(n){if(!n)return null;const e=n.filter(ZA);return 0==e.length?null:function(t){return tS(nS(t,e))}}(rS(n)):null}function ty(n){return null!=n?function sS(n){if(!n)return null;const e=n.filter(ZA);return 0==e.length?null:function(t){return function IG(...n){const e=wE(n),{args:t,keys:r}=UA(n),i=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;mr(t[l]).subscribe(new bt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?jA(r,a):a),s.complete())}))}});return e?i.pipe(BA(e)):i}(nS(t,e).map(eS)).pipe(Me(tS))}}(rS(n)):null}function oS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aS(n){return n._rawValidators}function uS(n){return n._rawAsyncValidators}function ny(n){return n?Array.isArray(n)?n:[n]:[]}function Pd(n,e){return Array.isArray(n)?n.includes(e):n===e}function cS(n,e){const t=ny(e);return ny(n).forEach(i=>{Pd(t,i)||t.push(i)}),t}function lS(n,e){return ny(e).filter(t=>!Pd(n,t))}class dS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ey(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ty(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ii extends dS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sn extends dS{get formDirective(){return null}get path(){return null}}class hS{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let as=(()=>{class n extends hS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Ii,2))},n.\u0275dir=z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&rd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Se]}),n})(),Fd=(()=>{class n extends hS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(sn,10))},n.\u0275dir=z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&rd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Se]}),n})();function Vd(n,e){return[...e.path,n]}function Pu(n,e){sy(n,e),e.valueAccessor.writeValue(n.value),function UG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pS(n,e)})}(n,e),function jG(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VG(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ud(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sy(n,e){const t=aS(n);null!==e.validator?n.setValidators(oS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=uS(n);null!==e.asyncValidator?n.setAsyncValidators(oS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bd(e._rawValidators,i),Bd(e._rawAsyncValidators,i)}function jd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=aS(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=uS(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Bd(e._rawValidators,r),Bd(e._rawAsyncValidators,r),t}function pS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gS(n,e){sy(n,e)}function oy(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function mS(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ay(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xr?t=s:function GG(n){return Object.getPrototypeOf(n.constructor)===os}(s)?r=s:i=s}),i||r||t||null}function Hd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fu="VALID",$d="INVALID",Bo="PENDING",Lu="DISABLED";function cy(n){return(dy(n)?n.validators:n)||null}function yS(n){return Array.isArray(n)?ey(n):n||null}function ly(n,e){return(dy(e)?e.asyncValidators:n)||null}function _S(n){return Array.isArray(n)?ty(n):n||null}function dy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const hy=n=>n instanceof py,Gd=n=>n instanceof qd,vS=n=>n instanceof ES;function wS(n){return hy(n)?n.value:n.getRawValue()}function bS(n,e){const t=Gd(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new me(1e3,"");if(!r[e])throw new me(1001,"")}function CS(n,e){Gd(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new me(1002,"")})}class fy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yS(this._rawValidators),this._composedAsyncValidatorFn=_S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fu}get invalid(){return this.status===$d}get pending(){return this.status==Bo}get disabled(){return this.status===Lu}get enabled(){return this.status!==Lu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_S(e)}addValidators(e){this.setValidators(cS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lS(e,this._rawAsyncValidators))}hasValidator(e){return Pd(this._rawValidators,e)}hasAsyncValidator(e){return Pd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fu||this.status===Bo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lu:Fu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;const t=eS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function qG(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Gd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:vS(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Lu:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus($d)?$d:Fu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class py extends fy{constructor(e=null,t,r){super(cy(t),ly(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qd extends fy{constructor(e,t,r){super(cy(t),ly(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){CS(this,e),Object.keys(e).forEach(r=>{bS(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=wS(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ES extends fy{constructor(e,t,r){super(cy(t),ly(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){CS(this,e),e.forEach((r,i)=>{bS(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>wS(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const zG={provide:sn,useExisting:xe(()=>zd)},Vu=(()=>Promise.resolve(null))();let zd=(()=>{class n extends sn{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new je,this.form=new qd({},ey(t),ty(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Pu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Hd(this._directives,t)})}addFormGroup(t){Vu.then(()=>{const r=this._findContainer(t.path),i=new qd({});gS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Vu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,mS(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(I(zt,10),I(Di,10))},n.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&R("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([zG]),Se]}),n})();const KG={provide:Ii,useExisting:xe(()=>us)},TS=(()=>Promise.resolve(null))();let us=(()=>{class n extends Ii{constructor(t,r,i,s){super(),this.control=new py,this._registered=!1,this.update=new je,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ay(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),oy(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Vd(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){TS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;TS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(I(sn,9),I(zt,10),I(Di,10),I(Mr,10))},n.\u0275dir=z({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([KG]),Se,In]}),n})(),Wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const QG={provide:Mr,useExisting:xe(()=>jo),multi:!0};let jo=(()=>{class n extends os{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&R("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Le([QG]),Se]}),n})(),AS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({}),n})();const gy=new de("NgModelWithFormControlWarning"),e4={provide:sn,useExisting:xe(()=>Uu)};let Uu=(()=>{class n extends sn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new je,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Pu(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ud(t.control||null,t,!1),Hd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,mS(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ud(r||null,t),hy(i)&&(Pu(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);gS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function HG(n,e){return jd(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sy(this.form,this),this._oldForm&&jd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(I(zt,10),I(Di,10))},n.\u0275dir=z({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&R("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([e4]),Se,In]}),n})();const r4={provide:Ii,useExisting:xe(()=>Kd)};let Kd=(()=>{class n extends Ii{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new je,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ay(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),oy(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Vd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(I(sn,13),I(zt,10),I(Di,10),I(Mr,10),I(gy,8))},n.\u0275dir=z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([r4]),Se,In]}),n})();const i4={provide:Mr,useExisting:xe(()=>_y),multi:!0};function RS(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let _y=(()=>{class n extends os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const i=RS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function s4(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&R("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([i4]),Se]}),n})(),vy=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(RS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(I(xn),I(Wr),I(_y,9))},n.\u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const o4={provide:Mr,useExisting:xe(()=>wy),multi:!0};function kS(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let wy=(()=>{class n extends os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function a4(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&R("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([o4]),Se]}),n})(),by=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(I(xn),I(Wr),I(wy,9))},n.\u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function PS(n){return"number"==typeof n?n:parseFloat(n)}let Bu=(()=>{class n{constructor(){this._validator=Ou}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ou,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,features:[In]}),n})();const u4={provide:zt,useExisting:xe(()=>Cy),multi:!0};let Cy=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>PS(t),this.createValidator=t=>function zA(n){return e=>{if(Ei(e.value)||Ei(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Tr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Le([u4]),Se]}),n})();const c4={provide:zt,useExisting:xe(()=>Ho),multi:!0};let Ho=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>PS(t),this.createValidator=t=>function qA(n){return e=>{if(Ei(e.value)||Ei(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pn(n)))(r||n)}}(),n.\u0275dir=z({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Tr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Le([c4]),Se]}),n})(),jS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({imports:[[AS]]}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({imports:[jS]}),n})(),HS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({imports:[jS]}),n})(),$S=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let a,s=null,o=null;return null!=r&&(function y4(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new qd(i,{asyncValidators:o,updateOn:a,validators:s})}control(t,r,i){return new py(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new ES(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return hy(t)||Gd(t)||vS(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:HS}),n})();function oe(...n){return Et(n,Ba(n))}class fr extends Vr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function GS(n,e,t){n?Ur(t,n,e):e()}const Qd=La(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Dy(...n){return function w4(){return Ua(1)}()(Et(n,Ba(n)))}function qS(n){return new Be(e=>{mr(n()).subscribe(e)})}function zS(){return Rt((n,e)=>{let t=null;n._refCount++;const r=new bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class b4 extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const t=this.getSubject();e.add(this.source.subscribe(new bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return zS()(this)}}function cs(n,e){return Rt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new bt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;mr(n(u,l)).subscribe(i=new bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function E4(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(new bt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function WS(n,e){return Rt(E4(n,e,arguments.length>=2,!0))}function $o(n,e){return Rt((t,r)=>{let i=0;t.subscribe(new bt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ti(n){return Rt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new bt(t,void 0,void 0,o=>{s=mr(n(o,Ti(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ju(n,e){return ke(e)?Ct(n,e,1):Ct(n,1)}function Iy(n){return n<=0?()=>Br:Rt((e,t)=>{let r=[];e.subscribe(new bt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function KS(n=D4){return Rt((e,t)=>{let r=!1;e.subscribe(new bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function D4(){return new Qd}function QS(n){return Rt((e,t)=>{let r=!1;e.subscribe(new bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Go(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$o((i,s)=>n(i,s,r)):Wi,pl(1),t?QS(e):KS(()=>new Qd))}function Nn(n,e,t){const r=ke(n)||e||t?{next:n,error:e,complete:t}:n;return r?Rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new bt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Wi}class Zr{constructor(e,t){this.id=e,this.url=t}}class Ty extends Zr{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends Zr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class YS extends Zr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class A4 extends Zr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S4 extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M4 extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x4 extends Zr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class N4 extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R4 extends Zr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JS{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XS{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k4{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O4{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P4{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F4{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZS{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const he="primary";class L4{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qo(n){return new L4(n)}const eM="ngNavigationCancelingError";function Ay(n){const e=Error("NavigationCancelingError: "+n);return e[eM]=!0,e}function U4(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!tM(n[i],e[i]))return!1;return!0}function tM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function nM(n){return Array.prototype.concat.apply([],n)}function rM(n){return n.length>0?n[n.length-1]:null}function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nr(n){return Bg(n)?n:mu(n)?Et(Promise.resolve(n)):oe(n)}const H4={exact:function oM(n,e,t){if(!ds(n.segments,e.segments)||!Yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!oM(n.children[r],e.children[r],t))return!1;return!0},subset:aM},iM={exact:function $4(n,e){return xr(n,e)},subset:function G4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tM(n[t],e[t]))},ignored:()=>!0};function sM(n,e,t){return H4[t.paths](n.root,e.root,t.matrixParams)&&iM[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function aM(n,e,t){return uM(n,e,e.segments,t)}function uM(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ds(i,t)||e.hasChildren()||!Yd(i,t,r))}if(n.segments.length===t.length){if(!ds(n.segments,t)||!Yd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!aM(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ds(n.segments,i)&&Yd(n.segments,i,r)&&n.children[he])&&uM(n.children[he],e,s,r)}}function Yd(n,e,t){return e.every((r,i)=>iM[t](n[i].parameters,r.parameters))}class ls{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return W4.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}}class $u{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qo(this.parameters)),this._parameterMap}toString(){return fM(this)}}function ds(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class cM{}class lM{parse(e){const t=new nq(e);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gu(e.root,!0)}`,r=function Y4(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Xd(t)}=${Xd(i)}`).join("&"):`${Xd(t)}=${Xd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function K4(n){return encodeURI(n)}(e.fragment)}`:""}`}}const W4=new lM;function Jd(n){return n.segments.map(e=>fM(e)).join("/")}function Gu(n,e){if(!n.hasChildren())return Jd(n);if(e){const t=n.children[he]?Gu(n.children[he],!1):"",r=[];return kt(n.children,(i,s)=>{s!==he&&r.push(`${s}:${Gu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function z4(n,e){let t=[];return kt(n.children,(r,i)=>{i===he&&(t=t.concat(e(r,i)))}),kt(n.children,(r,i)=>{i!==he&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===he?[Gu(n.children[he],!1)]:[`${i}:${Gu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${Jd(n)}/${t[0]}`:`${Jd(n)}/(${t.join("//")})`}}function dM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xd(n){return dM(n).replace(/%3B/gi,";")}function Sy(n){return dM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(n){return decodeURIComponent(n)}function hM(n){return Zd(n.replace(/\+/g,"%20"))}function fM(n){return`${Sy(n.path)}${function Q4(n){return Object.keys(n).map(e=>`;${Sy(e)}=${Sy(n[e])}`).join("")}(n.parameters)}`}const J4=/^[^\/()?;=#]+/;function eh(n){const e=n.match(J4);return e?e[0]:""}const X4=/^[^=?&#]+/,eq=/^[^&#]+/;class nq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new pe(e,t)),r}parseSegment(){const e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $u(Zd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eh(this.remaining);i&&(r=i,this.capture(r))}e[Zd(t)]=Zd(r)}parseQueryParam(e){const t=function Z4(n){const e=n.match(X4);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function tq(n){const e=n.match(eq);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=hM(t),s=hM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[he]:new pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class pM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=My(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=My(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xy(e,this._root).map(t=>t.value)}}function My(n,e){if(n===e.value)return e;for(const t of e.children){const r=My(n,t);if(r)return r}return null}function xy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xy(n,t);if(r.length)return r.unshift(e),r}return[]}class ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gM extends pM{constructor(e,t){super(e),this.snapshot=t,Ny(this,e)}toString(){return this.snapshot.toString()}}function mM(n,e){const t=function rq(n,e){const o=new th([],{},{},"",{},he,e,null,n.root,-1,{});return new _M("",new ei(o,[]))}(n,e),r=new fr([new $u("",{})]),i=new fr({}),s=new fr({}),o=new fr({}),a=new fr(""),u=new Wo(r,i,o,a,s,he,e,t.root);return u.snapshot=t.root,new gM(new ei(u,[]),t)}class Wo{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>qo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>qo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function iq(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class th{constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _M extends pM{constructor(e,t){super(t),this.url=e,Ny(this,t)}toString(){return vM(this._root)}}function Ny(n,e){e.value._routerState=n,e.children.forEach(t=>Ny(n,t))}function vM(n){const e=n.children.length>0?` { ${n.children.map(vM).join(", ")} } `:"";return`${n.value}${e}`}function Ry(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xr(e.params,t.params)||n.params.next(t.params),function B4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ky(n,e){const t=xr(n.params,e.params)&&function q4(n,e){return ds(n,e)&&n.every((t,r)=>xr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ky(n.parent,e.parent))}function qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function oq(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qu(n,r,i);return qu(n,r)})}(n,e,t);return new ei(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>qu(n,a)),o}}const r=function aq(n){return new Wo(new fr(n.url),new fr(n.params),new fr(n.queryParams),new fr(n.fragment),new fr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>qu(n,s));return new ei(r,i)}}function nh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zu(n){return"object"==typeof n&&null!=n&&n.outlets}function Oy(n,e,t,r,i){let s={};return r&&kt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new ls(t.root===n?e:wM(t.root,n,e),s,i)}function wM(n,e,t){const r={};return kt(n.children,(i,s)=>{r[s]=i===e?t:wM(i,e,t)}),new pe(n.segments,r)}class bM{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(zu);if(i&&i!==rM(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Py{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function CM(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return rh(n,e,t);const r=function fq(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(zu(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!DM(u,c,o))return s;r+=2}else{if(!DM(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new pe(n.segments.slice(0,r.pathIndex),{});return s.children[he]=new pe(n.segments.slice(r.pathIndex),n.children),rh(s,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Fy(n,e,t):r.match?rh(n,0,i):Fy(n,e,t)}function rh(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function hq(n){return zu(n[0])?n[0].outlets:{[he]:n}}(t),i={};return kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=CM(n.children[o],e,s))}),kt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new pe(n.segments,i)}}function Fy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(zu(s)){const u=pq(s.outlets);return new pe(r,u)}if(0===i&&nh(t[0])){r.push(new $u(n.segments[e].path,EM(t[0]))),i++;continue}const o=zu(s)?s.outlets[he]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&nh(a)?(r.push(new $u(o,EM(a))),i+=2):(r.push(new $u(o,{})),i++)}return new pe(r,{})}function pq(n){const e={};return kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fy(new pe([],{}),0,t))}),e}function EM(n){const e={};return kt(n,(t,r)=>e[r]=`${t}`),e}function DM(n,e,t){return n==t.path&&xr(e,t.parameters)}class mq{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ry(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zo(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zo(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new F4(s.value.snapshot))}),e.children.length&&this.forwardEvent(new O4(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Ry(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ry(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function yq(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Ly{constructor(e,t){this.routes=e,this.module=t}}function Ai(n){return"function"==typeof n}function hs(n){return n instanceof ls}const Wu=Symbol("INITIAL_VALUE");function Ku(){return cs(n=>function _4(...n){const e=Ba(n),t=wE(n),{args:r,keys:i}=UA(n);if(0===r.length)return Et([],e);const s=new Be(function v4(n,e,t=Wi){return r=>{GS(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)GS(e,()=>{const c=Et(n[u],e);let l=!1;c.subscribe(new bt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>jA(i,o):Wi));return t?s.pipe(BA(t)):s}(n.map(e=>e.pipe(pl(1),function C4(...n){const e=Ba(n);return Rt((t,r)=>{(e?Dy(n,t,e):Dy(n,t)).subscribe(r)})}(Wu)))).pipe(WS((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Wu?i:(s===Wu&&(r=!0),r||!1!==s&&o!==t.length-1&&!hs(s)?i:s),e)},Wu),$o(e=>e!==Wu),Me(e=>hs(e)?e:!0===e),pl(1)))}class Eq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qu,this.attachRef=null}}class Qu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Eq,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ih=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.name=s||he,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Dq(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(I(Qu),I(cr),I(Ro),Ya("name"),I(Im))},n.\u0275dir=z({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dq{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wo?this.route:e===Qu?this.childContexts:this.parent.get(e,t)}}let IM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Vn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&M(0,"router-outlet")},directives:[ih],encapsulation:2}),n})();function TM(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Iq(r,Tq(e,r))}}function Iq(n,e){n.children&&TM(n.children,e)}function Tq(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Vy(n){const e=n.children&&n.children.map(Vy),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=IM),t}function Qn(n){return n.outlet||he}function AM(n,e){const t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}const SM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},SM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||U4)(t,n,e);if(!s)return Object.assign({},SM);const o={};kt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function oh(n,e,t,r,i="corrected"){if(t.length>0&&function Mq(n,e,t){return t.some(r=>ah(n,e,r)&&Qn(r)!==he)}(n,t,r)){const o=new pe(e,function Sq(n,e,t,r){const i={};i[he]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Qn(s)!==he){const o=new pe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Qn(s)]=o}return i}(n,e,r,new pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function xq(n,e,t){return t.some(r=>ah(n,e,r))}(n,t,r)){const o=new pe(n.segments,function Aq(n,e,t,r,i,s){const o={};for(const a of r)if(ah(n,t,a)&&!i[Qn(a)]){const u=new pe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Qn(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ah(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function MM(n,e,t,r){return!!(Qn(n)===r||r!==he&&ah(e,t,n))&&("**"===n.path||sh(e,n,t).matched)}function xM(n,e,t){return 0===e.length&&!n.children[t]}class Yu{constructor(e){this.segmentGroup=e||null}}class NM{constructor(e){this.urlTree=e}}function uh(n){return new Be(e=>e.error(new Yu(n)))}function RM(n){return new Be(e=>e.error(new NM(n)))}function Nq(n){return new Be(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Oq{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Kr)}apply(){const e=oh(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,he).pipe(Me(s=>this.createUrlTree(Uy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ti(s=>{if(s instanceof NM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,he).pipe(Me(i=>this.createUrlTree(Uy(i),e.queryParams,e.fragment))).pipe(Ti(i=>{throw i instanceof Yu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new pe([],{[he]:e}):e;return new ls(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Me(s=>new pe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Et(i).pipe(ju(s=>{const o=r.children[s],a=AM(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Me(u=>({segment:u,outlet:s})))}),WS((s,o)=>(s[o.outlet]=o.segment,s),{}),function I4(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$o((i,s)=>n(i,s,r)):Wi,Iy(1),t?QS(e):KS(()=>new Qd))}())}expandSegment(e,t,r,i,s,o){return Et(r).pipe(ju(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Ti(c=>{if(c instanceof Yu)return oe(null);throw c}))),Go(a=>!!a),Ti((a,u)=>{if(a instanceof Qd||"EmptyError"===a.name){if(xM(t,i,s))return oe(new pe([],{}));throw new Yu(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return MM(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):uh(t):uh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RM(s):this.lineralizeSegments(r,s).pipe(Ct(o=>{const a=new pe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=sh(t,i,s);if(!a)return uh(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?RM(d):this.lineralizeSegments(i,d).pipe(Ct(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?oe(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Me(h=>(r._loadedConfig=h,new pe(i,{})))):oe(new pe(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=sh(t,r,i);if(!o)return uh(t);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Ct(d=>{const h=d.module,f=d.routes,{segmentGroup:y,slicedSegments:w}=oh(t,a,c,f),E=new pe(y.segments,y.children);if(0===w.length&&E.hasChildren())return this.expandChildren(h,f,E).pipe(Me(G=>new pe(a,G)));if(0===f.length&&0===w.length)return oe(new pe(a,{}));const T=Qn(r)===s;return this.expandSegment(h,E,f,w,T?he:s,!0).pipe(Me(P=>new pe(a.concat(P.segments),P.children)))}))}getChildConfig(e,t,r){return t.children?oe(new Ly(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?oe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Ct(i=>i?this.configLoader.load(e.injector,t).pipe(Me(s=>(t._loadedConfig=s,s))):function Rq(n){return new Be(e=>e.error(Ay(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):oe(new Ly([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?oe(i.map(o=>{const a=e.get(o);let u;if(function vq(n){return n&&Ai(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Ai(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Nr(u)})).pipe(Ku(),Nn(o=>{if(!hs(o))return;const a=Ay(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Me(o=>!0===o)):oe(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return oe(r);if(i.numberOfChildren>1||!i.children[he])return Nq(e.redirectTo);i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ls(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return kt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Uy(n){const e={};for(const r of Object.keys(n.children)){const s=Uy(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Pq(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}class kM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ch{constructor(e,t){this.component=e,this.route=t}}function Lq(n,e,t){const r=n._root;return Ju(r,e?e._root:null,t,[r.value])}function lh(n,e,t){const r=function Uq(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ju(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zo(e);return n.children.forEach(o=>{(function Bq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function jq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(n.url,e.url)||!xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ky(n,e)||!xr(n.queryParams,e.queryParams);default:return!ky(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kM(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ju(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ch(a.outlet.component,o))}else o&&Xu(e,a,i),i.canActivateChecks.push(new kM(r)),Ju(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),kt(s,(o,a)=>Xu(o,t.getContext(a),i)),i}function Xu(n,e,t){const r=zo(n),i=n.value;kt(r,(s,o)=>{Xu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ch(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Yq{}function OM(n){return new Be(e=>e.error(n))}class Xq{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=oh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,he);if(null===t)return null;const r=new th([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ei(r,t),s=new _M(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=yM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=AM(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=PM(r);return function Zq(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return xM(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!MM(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?rM(r).parameters:{};s=new th(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VM(e),Qn(e),e.component,e,FM(t),LM(t)+r.length,UM(e))}else{const f=sh(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new th(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VM(e),Qn(e),e.component,e,FM(t),LM(t)+o.length,UM(e))}const u=function e8(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=oh(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ei(s,f)]}if(0===u.length&&0===l.length)return[new ei(s,[])];const d=Qn(e)===i,h=this.processSegment(u,c,l,d?he:i);return null===h?null:[new ei(s,h)]}}function t8(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PM(n){const e=[],t=new Set;for(const r of n){if(!t8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=PM(r.children);e.push(new ei(r.value,i))}return e.filter(r=>!t.has(r))}function FM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function LM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function VM(n){return n.data||{}}function UM(n){return n.resolve||{}}function By(n){return cs(e=>{const t=n(e);return t?Et(t).pipe(Me(()=>e)):oe(e)})}class c8 extends class u8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const jy=new de("ROUTES");class BM{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Ly(nM(o.injector.get(jy,void 0,te.Self|te.Optional)).map(Vy),o)}),Ti(s=>{throw t._loader$=void 0,s}));return t._loader$=new b4(i,()=>new Vr).pipe(zS()),t._loader$}loadModuleFactory(e){return Nr(e()).pipe(Ct(t=>t instanceof e1?oe(t):Et(this.compiler.compileModuleAsync(t))))}}class d8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function h8(n){throw n}function f8(n,e,t){return e.parse("/")}function jM(n,e){return oe(null)}const p8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vr,this.errorHandler=h8,this.malformedUriErrorHandler=f8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jM,afterPreactivation:jM},this.urlHandlingStrategy=new d8,this.routeReuseStrategy=new c8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Kr),this.console=o.get(F1);const d=o.get(ft);this.isNgZoneEnabled=d instanceof ft&&ft.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function j4(){return new ls(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new BM(o,a,h=>this.triggerEvent(new JS(h)),h=>this.triggerEvent(new XS(h))),this.routerState=mM(this.currentUrlTree,this.rootComponentType),this.transitions=new fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($o(i=>0!==i.id),Me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),cs(i=>{let s=!1,o=!1;return oe(i).pipe(Nn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return dh(a.source)&&(this.browserUrlTree=a.extractedUrl),oe(a).pipe(cs(d=>{const h=this.transitions.getValue();return r.next(new Ty(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Br:Promise.resolve(d)}),function Fq(n,e,t,r){return cs(i=>function kq(n,e,t,r,i){return new Oq(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Nn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function n8(n,e,t,r,i){return Ct(s=>function Jq(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Xq(n,e,t,r,i,s).recognize();return null===o?OM(new Yq):oe(o)}catch(o){return OM(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new S4(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:y,restoredState:w,extras:E}=a,T=new Ty(h,this.serializeUrl(f),y,w);r.next(T);const C=mM(f,this.rootComponentType).snapshot;return oe(Object.assign(Object.assign({},a),{targetSnapshot:C,urlAfterRedirects:f,extras:Object.assign(Object.assign({},E),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Br}),By(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Nn(a=>{const u=new M4(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Me(a=>Object.assign(Object.assign({},a),{guards:Lq(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Hq(n,e){return Ct(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?oe(Object.assign(Object.assign({},t),{guardsResult:!0})):function $q(n,e,t,r){return Et(n).pipe(Ct(i=>function Qq(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?oe(s.map(a=>{const u=lh(a,e,i);let c;if(function Cq(n){return n&&Ai(n.canDeactivate)}(u))c=Nr(u.canDeactivate(n,e,t,r));else{if(!Ai(u))throw new Error("Invalid CanDeactivate guard");c=Nr(u(n,e,t,r))}return c.pipe(Go())})).pipe(Ku()):oe(!0)}(i.component,i.route,t,e,r)),Go(i=>!0!==i,!0))}(o,r,i,n).pipe(Ct(a=>a&&function _q(n){return"boolean"==typeof n}(a)?function Gq(n,e,t,r){return Et(e).pipe(ju(i=>Dy(function zq(n,e){return null!==n&&e&&e(new k4(n)),oe(!0)}(i.route.parent,r),function qq(n,e){return null!==n&&e&&e(new P4(n)),oe(!0)}(i.route,r),function Kq(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Vq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qS(()=>oe(o.guards.map(u=>{const c=lh(u,o.node,t);let l;if(function bq(n){return n&&Ai(n.canActivateChild)}(c))l=Nr(c.canActivateChild(r,n));else{if(!Ai(c))throw new Error("Invalid CanActivateChild guard");l=Nr(c(r,n))}return l.pipe(Go())})).pipe(Ku())));return oe(s).pipe(Ku())}(n,i.path,t),function Wq(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return oe(!0);const i=r.map(s=>qS(()=>{const o=lh(s,e,t);let a;if(function wq(n){return n&&Ai(n.canActivate)}(o))a=Nr(o.canActivate(e,n));else{if(!Ai(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,n))}return a.pipe(Go())}));return oe(i).pipe(Ku())}(n,i.route,t))),Go(i=>!0!==i,!0))}(r,s,n,e):oe(a)),Me(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Nn(a=>{if(hs(a.guardsResult)){const c=Ay(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new x4(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),$o(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),By(a=>{if(a.guards.canActivateChecks.length)return oe(a).pipe(Nn(u=>{const c=new N4(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),cs(u=>{let c=!1;return oe(u).pipe(function r8(n,e){return Ct(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return oe(t);let s=0;return Et(i).pipe(ju(o=>function i8(n,e,t,r){return function s8(n,e,t,r){const i=Object.keys(n);if(0===i.length)return oe({});const s={};return Et(i).pipe(Ct(o=>function o8(n,e,t,r){const i=lh(n,e,r);return Nr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Nn(a=>{s[o]=a}))),Iy(1),Ct(()=>Object.keys(s).length===i.length?oe(s):Br))}(n._resolve,n,e,r).pipe(Me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),yM(n,t).resolve),null)))}(o.route,r,n,e)),Nn(()=>s++),Iy(1),Ct(o=>s===i.length?oe(t):Br))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Nn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Nn(u=>{const c=new R4(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),By(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Me(a=>{const u=function sq(n,e,t){const r=qu(n,e._root,t?t._root:void 0);return new gM(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Nn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Me(r=>(new mq(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Nn({next(){s=!0},complete(){s=!0}}),function T4(n){return Rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ti(a=>{if(o=!0,function V4(n){return n&&n[eM]}(a)){const u=hs(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new YS(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dh(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new A4(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Br}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){TM(t),this.config=t.map(Vy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function uq(n,e,t,r,i){if(0===t.length)return Oy(e.root,e.root,e,r,i);const s=function cq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bM(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new bM(t,e,r)}(t);if(s.toRoot())return Oy(e.root,new pe([],{}),e,r,i);const o=function lq(n,e,t){if(n.isAbsolute)return new Py(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Py(s,s===e.root,0)}const r=nh(n.commands[0])?0:1;return function dq(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Py(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?rh(o.segmentGroup,o.index,s.commands):CM(o.segmentGroup,o.index,s.commands);return Oy(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=l?l:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=hs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function m8(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},p8):!1===r?Object.assign({},g8):r,hs(t))return sM(this.currentUrlTree,t,i);const s=this.parseUrl(t);return sM(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Hu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=dh(r)&&l&&!dh(l.source),h=l.rawUrl.toString()===t.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let w,E,T;o?(w=o.resolve,E=o.reject,T=o.promise):T=new Promise((G,ne)=>{w=G,E=ne});const C=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),P=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):P=0,this.setTransition({id:C,targetPageId:P,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:w,reject:E,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new YS(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Vg()},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function dh(n){return"imperative"!==n}let hh=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Vr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ko(this.skipLocationChange),replaceUrl:Ko(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ko(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(I(gt),I(Wo),Ya("tabindex"),I(Wr),I(xn))},n.\u0275dir=z({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&R("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[In]}),n})(),fh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Vr,this.subscription=t.events.subscribe(s=>{s instanceof Hu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ko(this.skipLocationChange),replaceUrl:Ko(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ko(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(I(gt),I(Wo),I(Vo))},n.\u0275dir=z({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&R("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Tr("target",r.target)("href",r.href,es)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[In]}),n})();function Ko(n){return""===n||!!n}class HM{}class $M{preload(e,t){return oe(null)}}let GM=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new BM(i,r,u=>t.triggerEvent(new JS(u)),u=>t.triggerEvent(new XS(u)))}setUpPreloading(){this.subscription=this.router.events.pipe($o(t=>t instanceof Hu),ju(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Kr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Et(i).pipe(Ua(),Me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?oe(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Ct(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(W(gt),W(yd),W(Gt),W(HM))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ty?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ZS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Vg()},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const fs=new de("ROUTER_CONFIGURATION"),qM=new de("ROUTER_FORROOT_GUARD"),w8=[Rm,{provide:cM,useClass:lM},{provide:gt,useFactory:function I8(n,e,t,r,i,s,o={},a,u){const c=new gt(null,n,e,t,r,i,nM(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function T8(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[cM,Qu,Rm,Gt,yd,jy,fs,[class l8{},new br],[class a8{},new br]]},Qu,{provide:Wo,useFactory:function A8(n){return n.routerState.root},deps:[gt]},GM,$M,class v8{preload(e,t){return t().pipe(Ti(()=>oe(null)))}},{provide:fs,useValue:{enableTracing:!1}}];function b8(){return new H1("Router",gt)}let zM=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[w8,WM(t),{provide:qM,useFactory:D8,deps:[[gt,new br,new oo]]},{provide:fs,useValue:r||{}},{provide:Vo,useFactory:E8,deps:[ss,[new ru(Nm),new br],fs]},{provide:Hy,useFactory:C8,deps:[gt,k$,fs]},{provide:HM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:$M},{provide:H1,multi:!0,useFactory:b8},[$y,{provide:md,multi:!0,useFactory:S8,deps:[$y]},{provide:KM,useFactory:M8,deps:[$y]},{provide:P1,multi:!0,useExisting:KM}]]}}static forChild(t){return{ngModule:n,providers:[WM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(W(qM,8),W(gt,8))},n.\u0275mod=Un({type:n}),n.\u0275inj=En({}),n})();function C8(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hy(n,e,t)}function E8(n,e,t={}){return t.useHash?new mH(n,e):new lA(n,e)}function D8(n){return"guarded"}function WM(n){return[{provide:zF,multi:!0,useValue:n},{provide:jy,multi:!0,useValue:n}]}let $y=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vr}appInitializer(){return this.injector.get(fH,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(gt),o=this.injector.get(fs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?oe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(fs),i=this.injector.get(GM),s=this.injector.get(Hy),o=this.injector.get(gt),a=this.injector.get(Su);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(W(Gt))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function S8(n){return n.appInitializer.bind(n)}function M8(n){return n.bootstrapListener.bind(n)}const KM=new de("Router Initializer");function QM(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){QM(s,r,i,o,a,"next",u)}function a(u){QM(s,r,i,o,a,"throw",u)}o(void 0)})}}const JM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function It(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ex(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function tx(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function nx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rx(){const n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}class ps extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function j8(n,e){return n.replace(H8,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ps(i,`${this.serviceName}: ${o} (${i}).`,r)}}const H8=/\{\$([^}]+)}/g;function gh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(sx(s)&&sx(o)){if(!gh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function sx(n){return null!==n&&"object"==typeof n}function mh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class q8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function z8(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=zy),void 0===i.error&&(i.error=zy),void 0===i.complete&&(i.complete=zy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zy(){}function on(n){return n&&n._delegate?n._delegate:n}class Qo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class X8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new F8;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function e6(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===gs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class t6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ky=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const ox={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},n6=ve.INFO,r6={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},i6=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=r6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Qy{constructor(e){this.name=e,this._logLevel=n6,this._logHandler=i6,this._userLogHandler=null,Ky.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}class s6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function o6(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Yy="@firebase/app",Jy=new Qy("@firebase/app"),Xy="[DEFAULT]",R6={[Yy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ms=new Map,yh=new Map;function k6(n,e){try{n.container.addComponent(e)}catch(t){Jy.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function nc(n){const e=n.name;if(yh.has(e))return Jy.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,n);for(const t of ms.values())k6(t,n);return!0}function _h(n,e){return n.container.getProvider(e)}const rc=new Zu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class P6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rc.create("app-deleted",{appName:this._name})}}function ux(n=Xy){const e=ms.get(n);if(!e)throw rc.create("no-app",{appName:n});return e}function Si(n,e,t){var r;let i=null!==(r=R6[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Jy.warn(a.join(" "))}nc(new Qo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function L6(n){nc(new Qo("platform-logger",e=>new s6(e),"PRIVATE")),Si(Yy,"0.7.14",n),Si(Yy,"0.7.14","esm2017"),Si("fire-js","")}("");var j,V6="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ti={},e_=e_||{},J=V6||self;function vh(){}function t_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var n_="closure_uid_"+(1e9*Math.random()>>>0),B6=0;function j6(n,e,t){return n.call.apply(n.bind,arguments)}function H6(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ot(n,e,t){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j6:H6).apply(null,arguments)}function wh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mi(){this.s=this.s,this.o=this.o}var G6={};Mi.prototype.s=!1,Mi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function U6(n){return Object.prototype.hasOwnProperty.call(n,n_)&&n[n_]||(n[n_]=++B6)}(this);delete G6[n]}},Mi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},lx=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function dx(n){return Array.prototype.concat.apply([],arguments)}function r_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bh(n){return/^[\s\xa0]*$/.test(n)}var un,hx=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function an(n,e){return-1!=n.indexOf(e)}function i_(n,e){return n<e?-1:n>e?1:0}e:{var fx=J.navigator;if(fx){var px=fx.userAgent;if(px){un=px;break e}}un=""}function s_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gx(n){const e={};for(const t in n)e[t]=n[t];return e}var mx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yx(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<mx.length;s++)t=mx[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function o_(n){return o_[" "](n),n}o_[" "]=vh;var Ch,n,W6=an(un,"Opera"),Yo=an(un,"Trident")||an(un,"MSIE"),_x=an(un,"Edge"),a_=_x||Yo,vx=an(un,"Gecko")&&!(an(un.toLowerCase(),"webkit")&&!an(un,"Edge"))&&!(an(un,"Trident")||an(un,"MSIE"))&&!an(un,"Edge"),K6=an(un.toLowerCase(),"webkit")&&!an(un,"Edge");function wx(){var n=J.document;return n?n.documentMode:void 0}e:{var u_="",c_=(n=un,vx?/rv:([^\);]+)(\)|;)/.exec(n):_x?/Edge\/([\d\.]+)/.exec(n):Yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):K6?/WebKit\/(\S+)/.exec(n):W6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(c_&&(u_=c_?c_[1]:""),Yo){var l_=wx();if(null!=l_&&l_>parseFloat(u_)){Ch=String(l_);break e}}Ch=u_}var Q6={};var J6=J.document&&Yo&&(wx()||parseInt(Ch,10))||void 0,X6=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{J.addEventListener("test",vh,e),J.removeEventListener("test",vh,e)}catch(t){}return n}();function Wt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function oc(n,e){if(Wt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vx){e:{try{o_(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Z6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oc.Z.h.call(this)}}Wt.prototype.h=function(){this.defaultPrevented=!0},Pt(oc,Wt);var Z6={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),e5=0;function t5(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++e5,this.ca=this.fa=!1}function Eh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Dh(n){this.src=n,this.g={},this.h=0}function h_(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=cx(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Eh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function f_(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Dh.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=f_(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new t5(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var p_="closure_lm_"+(1e6*Math.random()|0),g_={};function Cx(n,e,t,r,i){if(r&&r.once)return Dx(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cx(n,e[s],t,r,i);return null}return t=v_(t),n&&n[ac]?n.N(e,t,sc(r)?!!r.capture:!!r,i):Ex(n,e,t,!1,r,i)}function Ex(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=sc(i)?!!i.capture:!!i,a=y_(n);if(a||(n[p_]=a=new Dh(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function n5(){var e=r5;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)X6||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Tx(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Dx(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Dx(n,e[s],t,r,i);return null}return t=v_(t),n&&n[ac]?n.O(e,t,sc(r)?!!r.capture:!!r,i):Ex(n,e,t,!0,r,i)}function Ix(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ix(n,e[s],t,r,i);else r=sc(r)?!!r.capture:!!r,t=v_(t),n&&n[ac]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=f_(s=n.g[e],t,r,i))&&(Eh(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=y_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=f_(e,t,r,i)),(t=-1<n?e[n]:null)&&m_(t))}function m_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ac])h_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Tx(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=y_(e))?(h_(t,n),0==t.h&&(t.src=null,e[p_]=null)):Eh(n)}}}function Tx(n){return n in g_?g_[n]:g_[n]="on"+n}function r5(n,e){if(n.ca)n=!0;else{e=new oc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&m_(n),n=t.call(r,e)}return n}function y_(n){return(n=n[p_])instanceof Dh?n:null}var __="__closure_events_fn_"+(1e9*Math.random()>>>0);function v_(n){return"function"==typeof n?n:(n[__]||(n[__]=function(e){return n.handleEvent(e)}),n[__])}function Tt(){Mi.call(this),this.i=new Dh(this),this.P=this,this.I=null}function Ft(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Wt(e,n);else if(e instanceof Wt)e.target=e.target||n;else{var i=e;yx(e=new Wt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Ih(o,r,!0,e)&&i}if(i=Ih(o=e.g=n,r,!0,e)&&i,i=Ih(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ih(o=e.g=t[s],r,!1,e)&&i}function Ih(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&h_(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Pt(Tt,Mi),Tt.prototype[ac]=!0,Tt.prototype.removeEventListener=function(n,e,t,r){Ix(this,n,e,t,r)},Tt.prototype.M=function(){if(Tt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eh(t[r]);delete n.g[e],n.h--}}this.I=null},Tt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Tt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var w_=J.JSON.stringify;function i5(){var n=Sx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var C_,Ax=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new o5,n=>n.reset());class o5{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function a5(n){J.setTimeout(()=>{throw n},0)}function b_(n,e){C_||function u5(){var n=J.Promise.resolve(void 0);C_=function(){n.then(c5)}}(),E_||(C_(),E_=!0),Sx.add(n,e)}var E_=!1,Sx=new class s5{constructor(){this.h=this.g=null}add(e,t){const r=Ax.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function c5(){for(var n;n=i5();){try{n.h.call(n.g)}catch(t){a5(t)}var e=Ax;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}E_=!1}function Th(n,e){Tt.call(this),this.h=n||1,this.g=e||J,this.j=Ot(this.kb,this),this.l=Date.now()}function D_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function I_(n,e,t){if("function"==typeof n)t&&(n=Ot(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ot(n.handleEvent,n)}return 2147483647<Number(e)?-1:J.setTimeout(n,e||0)}function Mx(n){n.g=I_(()=>{n.g=null,n.i&&(n.i=!1,Mx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pt(Th,Tt),(j=Th.prototype).da=!1,j.S=null,j.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ft(this,"tick"),this.da&&(D_(this),this.start()))}},j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.M=function(){Th.Z.M.call(this),D_(this),delete this.g};class l5 extends Mi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mx(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uc(n){Mi.call(this),this.h=n,this.g={}}Pt(uc,Mi);var xx=[];function Nx(n,e,t,r){Array.isArray(t)||(t&&(xx[0]=t.toString()),t=xx);for(var i=0;i<t.length;i++){var s=Cx(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Rx(n){s_(n.g,function(e,t){this.g.hasOwnProperty(t)&&m_(e)},n),n.g={}}function Ah(){this.g=!0}function Jo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function p5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return w_(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}uc.prototype.M=function(){uc.Z.M.call(this),Rx(this)},uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ah.prototype.Aa=function(){this.g=!1},Ah.prototype.info=function(){};var ys={},kx=null;function Sh(){return kx=kx||new Tt}function Ox(n){Wt.call(this,ys.Ma,n)}function cc(n){const e=Sh();Ft(e,new Ox(e,n))}function Px(n,e){Wt.call(this,ys.STAT_EVENT,n),this.stat=e}function cn(n){const e=Sh();Ft(e,new Px(e,n))}function Fx(n,e){Wt.call(this,ys.Na,n),this.size=e}function lc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){n()},e)}ys.Ma="serverreachability",Pt(Ox,Wt),ys.STAT_EVENT="statevent",Pt(Px,Wt),ys.Na="timingevent",Pt(Fx,Wt);var Mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lx={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function T_(){}function Ux(){}T_.prototype.h=null;var M_,dc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function A_(){Wt.call(this,"d")}function S_(){Wt.call(this,"c")}function xh(){}function hc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new uc(this),this.P=g5,this.W=new Th(n=a_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bx}function Bx(){this.i=null,this.g="",this.h=!1}Pt(A_,Wt),Pt(S_,Wt),Pt(xh,T_),xh.prototype.g=function(){return new XMLHttpRequest},xh.prototype.i=function(){return{}},M_=new xh;var g5=45e3,x_={},Nh={};function N_(n,e,t){n.K=1,n.v=Fh(ni(e)),n.s=t,n.U=!0,jx(n,null)}function jx(n,e){n.F=Date.now(),fc(n),n.A=ni(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Yx(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Bx,n.g=vN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new l5(Ot(n.Ia,n,n.g),n.O)),Nx(n.V,n.g,"readystatechange",n.gb),e=n.H?gx(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),cc(1),function d5(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Hx(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function $x(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=m5(n,t),i==Nh){4==e&&(n.o=4,cn(14),r=!1),Jo(n.j,n.m,null,"[Incomplete Response]");break}if(i==x_){n.o=4,cn(15),Jo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Jo(n.j,n.m,i,null),R_(n,i)}Hx(n)&&i!=Nh&&i!=x_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),$_(e),e.L=!0,cn(11))):(Jo(n.j,n.m,t,"[Invalid Chunked Response]"),_s(n),pc(n))}function m5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Nh:(t=Number(e.substring(t,r)),isNaN(t)?x_:(r+=1)+t>e.length?Nh:(e=e.substr(r,t),n.C=r+t,e))}function fc(n){n.Y=Date.now()+n.P,Gx(n,n.P)}function Gx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lc(Ot(n.eb,n),e)}function Rh(n){n.B&&(J.clearTimeout(n.B),n.B=null)}function pc(n){0==n.l.G||n.I||gN(n.l,n)}function _s(n){Rh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,D_(n.W),Rx(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function R_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||P_(t.i,n)))if(t.I=n.N,!n.J&&P_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=lc(Ot(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Hh(t),Bh(t)}H_(t),cn(18)}if(1>=Zx(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else bs(t,11)}else if((n.J||t.g==n)&&Hh(t),!bh(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const l=c[3];null!=l&&(t.ma=l,t.h.info("VER="+t.ma));const d=c[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;!s.g&&(an(y,"spdy")||an(y,"quic")||an(y,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(F_(s,s.h),s.h=null))}if(r.D){const w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.sa=w,Ve(r.F,r.D,w))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=_N(r,r.H?r.la:null,r.W),o.J){eN(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Rh(a),fc(a)),r.g=o}else fN(r);0<t.l.length&&jh(t)}else"stop"!=c[0]&&"close"!=c[0]||bs(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bs(t,7):B_(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}cc(4)}catch(c){}}function k_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(t_(n)||"string"==typeof n)lx(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(t_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function y5(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(t_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Xo(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Xo)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function O_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vs(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vs(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(j=hc.prototype).setTimeout=function(n){this.P=n},j.gb=function(n){n=n.target;const e=this.L;e&&3==ri(n)?e.l():this.Ia(n)},j.Ia=function(n){try{if(n==this.g)e:{const l=ri(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||a_||this.g&&(this.h.h||this.g.ga()||uN(this.g)))){this.I||4!=l||7==e||cc(8==e||0>=d?3:2),Rh(this);var t=this.g.ba();this.N=t;t:if(Hx(this)){var r=uN(this.g);n="";var i=r.length,s=4==ri(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_s(this),pc(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function h5(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,cn(12),_s(this),pc(this);break e}Jo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,R_(this,t)}this.U?($x(this,l,o),a_&&this.i&&3==l&&(Nx(this.V,this.W,"tick",this.fb),this.W.start())):(Jo(this.j,this.m,o,null),R_(this,o)),4==l&&_s(this),this.i&&!this.I&&(4==l?gN(this.l,this):(this.i=!1,fc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),_s(this),pc(this)}}}catch(l){}},j.fb=function(){if(this.g){var n=ri(this.g),e=this.g.ga();this.C<e.length&&(Rh(this),$x(this,n,e),this.i&&4!=n&&fc(this))}},j.cancel=function(){this.I=!0,_s(this)},j.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function f5(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cc(3),cn(17)),_s(this),this.o=2,pc(this)):Gx(this,this.Y-n)},(j=Xo.prototype).R=function(){O_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},j.T=function(){return O_(this),this.g.concat()},j.get=function(n,e){return vs(this.h,n)?this.h[n]:e},j.set=function(n,e){vs(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},j.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var qx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ws(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ws){this.g=void 0!==e?e:n.g,kh(this,n.j),this.s=n.s,Oh(this,n.i),Ph(this,n.m),this.l=n.l,e=n.h;var t=new yc;t.i=e.i,e.g&&(t.g=new Xo(e.g),t.h=e.h),zx(this,t),this.o=n.o}else n&&(t=String(n).match(qx))?(this.g=!!e,kh(this,t[1]||"",!0),this.s=gc(t[2]||""),Oh(this,t[3]||"",!0),Ph(this,t[4]),this.l=gc(t[5]||"",!0),zx(this,t[6]||"",!0),this.o=gc(t[7]||"")):(this.g=!!e,this.h=new yc(null,this.g))}function ni(n){return new ws(n)}function kh(n,e,t){n.j=t?gc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Oh(n,e,t){n.i=t?gc(e,!0):e}function Ph(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zx(n,e,t){e instanceof yc?(n.h=e,function T5(n,e){e&&!n.j&&(xi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Kx(this,r),Yx(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=mc(e,D5)),n.h=new yc(e,n.g))}function Ve(n,e,t){n.h.set(e,t)}function Fh(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,b5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function b5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ws.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mc(e,Wx,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mc(e,Wx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(mc(t,"/"==t.charAt(0)?E5:C5,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mc(t,I5)),n.join("")};var Wx=/[#\/\?@]/g,C5=/[#\?:]/g,E5=/[#\?]/g,D5=/[#\?@]/g,I5=/#/g;function yc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xi(n){n.g||(n.g=new Xo,n.h=0,n.i&&function _5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kx(n,e){xi(n),e=Zo(n,e),vs(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vs((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&O_(n)))}function Qx(n,e){return xi(n),e=Zo(n,e),vs(n.g.h,e)}function Yx(n,e,t){Kx(n,e),0<t.length&&(n.i=null,n.g.set(Zo(n,e),r_(t)),n.h+=t.length)}function Zo(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jx(n){this.l=n||S5,n=J.PerformanceNavigationTiming?0<(n=J.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(J.g&&J.g.Ea&&J.g.Ea()&&J.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=yc.prototype).add=function(n,e){xi(this),this.i=null,n=Zo(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},j.forEach=function(n,e){xi(this),this.g.forEach(function(t,r){lx(t,function(i){n.call(e,i,r,this)},this)},this)},j.T=function(){xi(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},j.R=function(n){xi(this);var e=[];if("string"==typeof n)Qx(this,n)&&(e=dx(e,this.g.get(Zo(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=dx(e,n[t])}return e},j.set=function(n,e){return xi(this),this.i=null,Qx(this,n=Zo(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},j.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var S5=10;function Xx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Zx(n){return n.h?1:n.g?n.g.size:0}function P_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function F_(n,e){n.g?n.g.add(e):n.h=e}function eN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return r_(n.i)}function L_(){}function M5(){this.g=new L_}function x5(n,e,t){const r=t||"";try{k_(n,function(i,s){let o=i;sc(i)&&(o=w_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function _c(n){this.l=n.$b||null,this.j=n.ib||!1}function Vh(n,e){Tt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=V_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jx.prototype.cancel=function(){if(this.i=tN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},L_.prototype.stringify=function(n){return J.JSON.stringify(n,void 0)},L_.prototype.parse=function(n){return J.JSON.parse(n,void 0)},Pt(_c,T_),_c.prototype.g=function(){return new Vh(this.l,this.j)},_c.prototype.i=function(n){return function(){return n}}({}),Pt(Vh,Tt);var V_=0;function nN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function vc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wc(n)}function wc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(j=Vh.prototype).open=function(n,e){if(this.readyState!=V_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wc(this)},j.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||J).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vc(this)),this.readyState=V_},j.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==J.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},j.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vc(this):wc(this),3==this.readyState&&nN(this)}},j.Ua=function(n){this.g&&(this.response=this.responseText=n,vc(this))},j.Ta=function(n){this.g&&(this.response=n,vc(this))},j.ha=function(){this.g&&vc(this)},j.setRequestHeader=function(n,e){this.v.append(n,e)},j.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var R5=J.JSON.parse;function rt(n){Tt.call(this),this.headers=new Xo,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rN,this.K=this.L=!1}Pt(rt,Tt);var rN="",k5=/^https?$/i,O5=["POST","PUT"];function F5(n){return"content-type"==n.toLowerCase()}function iN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sN(n),Uh(n)}function sN(n){n.D||(n.D=!0,Ft(n,"complete"),Ft(n,"error"))}function oN(n){if(n.h&&void 0!==e_&&(!n.C[1]||4!=ri(n)||2!=n.ba()))if(n.v&&4==ri(n))I_(n.Fa,0,n);else if(Ft(n,"readystatechange"),4==ri(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(qx)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!k5.test(i?i.toLowerCase():"")}t=r}if(t)Ft(n,"complete"),Ft(n,"success");else{n.m=6;try{var o=2<ri(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",sN(n)}}finally{Uh(n)}}}function Uh(n,e){if(n.g){aN(n);const t=n.g,r=n.C[0]?vh:null;n.g=null,n.C=null,e||Ft(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function aN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(J.clearTimeout(n.A),n.A=null)}function ri(n){return n.g?n.g.readyState:0}function uN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function U_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function L5(n){let e="";return s_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ve(n,e,t))}function bc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function cN(n){this.za=0,this.l=[],this.h=new Ah,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bc("baseRetryDelayMs",5e3,n),this.$a=bc("retryDelaySeedMs",1e4,n),this.Ya=bc("forwardChannelMaxRetries",2,n),this.ra=bc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Jx(n&&n.concurrentRequestLimit),this.Ca=new M5,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function B_(n){if(lN(n),3==n.G){var e=n.V++,t=ni(n.F);Ve(t,"SID",n.J),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),Cc(n,t),(e=new hc(n,n.h,e,void 0)).K=2,e.v=Fh(ni(t)),t=!1,J.navigator&&J.navigator.sendBeacon&&(t=J.navigator.sendBeacon(e.v.toString(),"")),!t&&J.Image&&((new Image).src=e.v,t=!0),t||(e.g=vN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fc(e)}yN(n)}function Bh(n){n.g&&($_(n),n.g.cancel(),n.g=null)}function lN(n){Bh(n),n.u&&(J.clearTimeout(n.u),n.u=null),Hh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&J.clearTimeout(n.m),n.m=null)}function j_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&jh(n)}function jh(n){Xx(n.i)||n.m||(n.m=!0,b_(n.Ha,n),n.C=0)}function dN(n,e){var t;t=e?e.m:n.V++;const r=ni(n.F);Ve(r,"SID",n.J),Ve(r,"RID",t),Ve(r,"AID",n.U),Cc(n,r),n.o&&n.s&&U_(r,n.o,n.s),t=new hc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=hN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),F_(n.i,t),N_(t,r,e)}function Cc(n,e){n.j&&k_({},function(t,r){Ve(e,r,t)})}function hN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ot(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{x5(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function fN(n){n.g||n.u||(n.Y=1,b_(n.Ga,n),n.A=0)}function H_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lc(Ot(n.Ga,n),mN(n,n.A)),n.A++,0))}function $_(n){null!=n.B&&(J.clearTimeout(n.B),n.B=null)}function pN(n){n.g=new hc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ni(n.oa);Ve(e,"RID","rpc"),Ve(e,"SID",n.J),Ve(e,"CI",n.N?"0":"1"),Ve(e,"AID",n.U),Cc(n,e),Ve(e,"TYPE","xmlhttp"),n.o&&n.s&&U_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Fh(ni(e)),t.s=null,t.U=!0,jx(t,n)}function Hh(n){null!=n.v&&(J.clearTimeout(n.v),n.v=null)}function gN(n,e){var t=null;if(n.g==e){Hh(n),$_(n),n.g=null;var r=2}else{if(!P_(n.i,e))return;t=e.D,eN(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ft(r=Sh(),new Fx(r,t,e,i)),jh(n)}else fN(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function V5(n,e){return!(Zx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lc(Ot(n.Ha,n,e),mN(n,n.C)),n.C++,0)))}(n,e)||2==r&&H_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:bs(n,5);break;case 4:bs(n,10);break;case 3:bs(n,6);break;default:bs(n,2)}}function mN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function bs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ot(n.jb,n);t||(t=new ws("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||kh(t,"https"),Fh(t)),function N5(n,e){const t=new Ah;if(J.Image){const r=new Image;r.onload=wh(Lh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=wh(Lh,t,r,"TestLoadImage: error",!1,e),r.onabort=wh(Lh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=wh(Lh,t,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else cn(2);n.G=0,n.j&&n.j.va(e),yN(n),lN(n)}function yN(n){n.G=0,n.I=-1,n.j&&((0!=tN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,r_(n.l),n.l.length=0),n.j.ua())}function _N(n,e,t){let r=function v5(n){return n instanceof ws?ni(n):new ws(n,void 0)}(t);if(""!=r.i)e&&Oh(r,e+"."+r.i),Ph(r,r.m);else{const i=J.location;r=function w5(n,e,t,r){var i=new ws(null,void 0);return n&&kh(i,n),e&&Oh(i,e),t&&Ph(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&s_(n.aa,function(i,s){Ve(r,s,i)}),t=n.sa,(e=n.D)&&t&&Ve(r,e,t),Ve(r,"VER",n.ma),Cc(n,r),r}function vN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rt(t&&n.Ba&&!n.qa?new _c({ib:!0}):n.qa)).L=n.H,e}function wN(){}function $h(){if(Yo&&!(10<=Number(J6)))throw Error("Environmental error: no available transport.")}function Rn(n,e){Tt.call(this),this.g=new cN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!bh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ea(this)}function bN(n){A_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function CN(){S_.call(this),this.status=1}function ea(n){this.g=n}(j=rt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():M_.g(),this.C=function Vx(n){return n.h||(n.h=n.i())}(this.u?this.u:M_),this.g.onreadystatechange=Ot(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void iN(this,s)}n=t||"";const i=new Xo(this.headers);r&&k_(r,function(s,o){i.set(o,s)}),r=function q6(n){e:{var e=F5;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=J.FormData&&n instanceof J.FormData,!(0<=cx(O5,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aN(this),0<this.B&&((this.K=function P5(n){return Yo&&function Y6(){return function z6(n){var e=Q6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=hx(String(Ch)).split("."),t=hx("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=i_(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||i_(0==i[2].length,0==s[2].length)||i_(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.pa,this)):this.A=I_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){iN(this,s)}},j.pa=function(){void 0!==e_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},j.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ft(this,"complete"),Ft(this,"abort"),Uh(this))},j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uh(this,!0)),rt.Z.M.call(this)},j.Fa=function(){this.s||(this.F||this.v||this.l?oN(this):this.cb())},j.cb=function(){oN(this)},j.ba=function(){try{return 2<ri(this)?this.g.status:-1}catch(n){return-1}},j.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},j.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),R5(e)}},j.Da=function(){return this.m},j.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=cN.prototype).ma=8,j.G=1,j.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},j.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new hc(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=gx(s),yx(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hN(this,i,e),Ve(t=ni(this.F),"RID",n),Ve(t,"CVER",22),this.D&&Ve(t,"X-HTTP-Session-Id",this.D),Cc(this,t),this.o&&s&&U_(t,this.o,s),F_(this.i,i),this.Ra&&Ve(t,"TYPE","init"),this.ja?(Ve(t,"$req",e),Ve(t,"SID","null"),i.$=!0,N_(i,t,null)):N_(i,t,e),this.G=2}}else 3==this.G&&(n?dN(this,n):0==this.l.length||Xx(this.i)||dN(this))},j.Ga=function(){if(this.u=null,pN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lc(Ot(this.bb,this),n)}},j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cn(10),Bh(this),pN(this))},j.ab=function(){null!=this.v&&(this.v=null,Bh(this),H_(this),cn(19))},j.jb=function(n){n?(this.h.info("Successfully pinged google.com"),cn(2)):(this.h.info("Failed to ping google.com"),cn(1))},(j=wN.prototype).xa=function(){},j.wa=function(){},j.va=function(){},j.ua=function(){},j.Oa=function(){},$h.prototype.g=function(n,e){return new Rn(n,e)},Pt(Rn,Tt),Rn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),b_(Ot(n.hb,n,e))),cn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=_N(n,null,n.W),jh(n)},Rn.prototype.close=function(){B_(this.g)},Rn.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,j_(this.g,e)}else this.v?((e={}).__data__=w_(n),j_(this.g,e)):j_(this.g,n)},Rn.prototype.M=function(){this.g.j=null,delete this.j,B_(this.g),delete this.g,Rn.Z.M.call(this)},Pt(bN,A_),Pt(CN,S_),Pt(ea,wN),ea.prototype.xa=function(){Ft(this.g,"a")},ea.prototype.wa=function(n){Ft(this.g,new bN(n))},ea.prototype.va=function(n){Ft(this.g,new CN(n))},ea.prototype.ua=function(){Ft(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,Rn.prototype.send=Rn.prototype.u,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,Lx.COMPLETE="complete",Ux.EventType=dc,dc.OPEN="a",dc.CLOSE="b",dc.ERROR="c",dc.MESSAGE="d",Tt.prototype.listen=Tt.prototype.N,rt.prototype.listenOnce=rt.prototype.O,rt.prototype.getLastError=rt.prototype.La,rt.prototype.getLastErrorCode=rt.prototype.Da,rt.prototype.getStatus=rt.prototype.ba,rt.prototype.getResponseJson=rt.prototype.Qa,rt.prototype.getResponseText=rt.prototype.ga,rt.prototype.send=rt.prototype.ea;var U5=ti.createWebChannelTransport=function(){return new $h},B5=ti.getStatEventTarget=function(){return Sh()},G_=ti.ErrorCode=Mh,j5=ti.EventType=Lx,H5=ti.Event=ys,EN=ti.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$5=ti.FetchXmlHttpFactory=_c,Gh=ti.WebChannel=Ux,G5=ti.XhrIo=rt;const DN="@firebase/firestore";class Lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");let ta="9.6.3";const Ni=new Qy("@firebase/firestore");function q_(){return Ni.logLevel}function N(n,...e){if(Ni.logLevel<=ve.DEBUG){const t=e.map(z_);Ni.debug(`Firestore (${ta}): ${n}`,...t)}}function it(n,...e){if(Ni.logLevel<=ve.ERROR){const t=e.map(z_);Ni.error(`Firestore (${ta}): ${n}`,...t)}}function qh(n,...e){if(Ni.logLevel<=ve.WARN){const t=e.map(z_);Ni.warn(`Firestore (${ta}): ${n}`,...t)}}function z_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+n;throw it(e),new Error(e)}function Q(n,e){n||$()}function O(n,e){return n}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class At{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}}class W5{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new At;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new At,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new At)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Q("string"==typeof r.accessToken),new IN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Q(null===e||"string"==typeof e),new Lt(e)}}class K5{constructor(e,t,r){this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Q5{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new K5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y5{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),t(s.token);var s})};const r=i=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Q("string"==typeof t.token),new TN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function J5(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}kn.I=-1;class AN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=J5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(n,e){return n<e?-1:n>e?1:0}function na(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Vt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function MN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ec{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ec.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class be extends Ec{construct(e,t,r){return new be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new be(t)}static emptyPath(){return new be([])}}const X5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ec{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return X5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}class ra{constructor(e){this.fields=e,e.sort(Kt.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(n){if(Q(!!n),"string"==typeof n){let e=0;const t=Z5.exec(n);if(Q(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ia(n){return"string"==typeof n?mt.fromBase64String(n):mt.fromUint8Array(n)}function W_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function NN(n){const e=n.mapValue.fields.__previous_value__;return W_(e)?NN(e):e}function Dc(n){const e=Ri(n.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}function Es(n){return null==n}function zh(n){return 0===n&&1/n==-1/0}class H{constructor(e){this.path=e}static fromPath(e){return new H(be.fromString(e))}static fromName(e){return new H(be.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new be(e.slice()))}}function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W_(n)?4:10:$()}function Rr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dc(n).isEqual(Dc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ia(n.bytesValue).isEqual(ia(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),o=st(i.doubleValue);return s===o?zh(s)===zh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(MN(s)!==MN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Rr(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function Ic(n,e){return void 0!==(n.values||[]).find(t=>Rr(t,e))}function sa(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return ge(t,r);switch(t){case 0:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=st(i.integerValue||i.doubleValue),a=st(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return kN(n.timestampValue,e.timestampValue);case 4:return kN(Dc(n),Dc(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ia(i),a=ia(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ge(o[u],a[u]);if(0!==c)return c}return ge(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ge(st(i.latitude),st(s.latitude));return 0!==o?o:ge(st(i.longitude),st(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=sa(o[u],a[u]);if(c)return c}return ge(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ge(a[l],c[l]);if(0!==d)return d;const h=sa(o[a[l]],u[c[l]]);if(0!==h)return h}return ge(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function kN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ge(n,e);const t=Ri(n),r=Ri(e),i=ge(t.seconds,r.seconds);return 0!==i?i:ge(t.nanos,r.nanos)}function K_(n){return Q_(n)}function Q_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ia(n.bytesValue).toBase64():"referenceValue"in n?H.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Q_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Q_(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function Y_(n){return!!n&&"integerValue"in n}function J_(n){return!!n&&"arrayValue"in n}function ON(n){return!!n&&"nullValue"in n}function PN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function Tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Tc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(Tc(this.value))}}function FN(n){const e=[];return Cs(n.fields,(t,r)=>{const i=new Kt([t]);if(Kh(r)){const s=FN(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ra(e)}class Ue{constructor(e,t,r,i,s){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ue(e,0,ee.min(),Qt.empty(),0)}static newFoundDocument(e,t,r){return new Ue(e,1,t,r,0)}static newNoDocument(e,t){return new Ue(e,2,t,Qt.empty(),0)}static newUnknownDocument(e,t){return new Ue(e,3,t,Qt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ez{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function LN(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ez(n,e,t,r,i,s,o)}function Ac(n){const e=O(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function nz(n){return n.field.canonicalString()+n.op.toString()+K_(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Es(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Jh(e.startAt)),e.endAt&&(t+="|ub:",t+=Jh(e.endAt)),e.R=t}return e.R}function Qh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!lz(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Rr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BN(n.startAt,e.startAt)&&BN(n.endAt,e.endAt)}function Yh(n){return H.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ln extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new rz(e,t,r):"array-contains"===t?new oz(e,r):"in"===t?new az(e,r):"not-in"===t?new uz(e,r):"array-contains-any"===t?new cz(e,r):new ln(e,t,r)}static P(e,t,r){return"in"===t?new iz(e,r):new sz(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(sa(t,this.value)):null!==t&&Ds(this.value)===Ds(t)&&this.v(sa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rz extends ln{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){const t=H.comparator(e.key,this.key);return this.v(t)}}class iz extends ln{constructor(e,t){super(e,"in",t),this.keys=VN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sz extends ln{constructor(e,t){super(e,"not-in",t),this.keys=VN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}class oz extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J_(t)&&Ic(t.arrayValue,this.value)}}class az extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ic(this.value.arrayValue,t)}}class uz extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ic(this.value.arrayValue,t)}}class cz extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}class Sc{constructor(e,t){this.position=e,this.before=t}}function Jh(n){return`${n.before?"b":"a"}:${n.position.map(e=>K_(e)).join(",")}`}class oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function lz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function UN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?H.comparator(H.fromName(o.referenceValue),t.key):sa(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function BN(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}class ii{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function aa(n){return new ii(n)}function Xh(n){return!Es(n.limit)&&"F"===n.limitType}function Zh(n){return!Es(n.limit)&&"L"===n.limitType}function ua(n){const e=O(n);if(null===e.S){e.S=[];const t=function Z_(n){for(const e of n.filters)if(e.V())return e.field;return null}(e),r=function X_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new oa(t)),e.S.push(new oa(Kt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new oa(Kt.keyField(),s))}}}return e.S}function Yn(n){const e=O(n);if(!e.D)if("F"===e.limitType)e.D=LN(e.path,e.collectionGroup,ua(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ua(e))t.push(new oa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Sc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Sc(e.startAt.position,!e.startAt.before):null;e.D=LN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function Mc(n,e){return Qh(Yn(n),Yn(e))&&n.limitType===e.limitType}function $N(n){return`${Ac(Yn(n))}|lt:${n.limitType}`}function tv(n){return`Query(target=${function tz(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${K_(r.value)}`;var r}).join(", ")}]`),Es(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Jh(n.startAt)),n.endAt&&(e+=", endAt: "+Jh(n.endAt)),`Target(${e})`}(Yn(n))}; limitType=${n.limitType})`}function xc(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):H.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!UN(t.startAt,ua(t),r)||t.endAt&&UN(t.endAt,ua(t),r)));var t,r}function GN(n){return(e,t)=>{let r=!1;for(const i of ua(n)){const s=dz(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dz(n,e,t){const r=n.field.isKeyField()?H.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?sa(a,u):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function qN(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function zN(n){return{integerValue:""+n}}function WN(n,e){return function RN(n){return"number"==typeof n&&Number.isInteger(n)&&!zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?zN(e):qN(n,e)}class ef{constructor(){this._=void 0}}function hz(n,e,t){return n instanceof ca?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Is?QN(n,e):n instanceof Ts?YN(n,e):function(r,i){const s=KN(r,i),o=JN(s)+JN(r.N);return Y_(s)&&Y_(r.N)?zN(o):qN(r.k,o)}(n,e)}function fz(n,e,t){return n instanceof Is?QN(n,e):n instanceof Ts?YN(n,e):t}function KN(n,e){return n instanceof la?Y_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ca extends ef{}class Is extends ef{constructor(e){super(),this.elements=e}}function QN(n,e){const t=XN(e);for(const r of n.elements)t.some(i=>Rr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ts extends ef{constructor(e){super(),this.elements=e}}function YN(n,e){let t=XN(e);for(const r of n.elements)t=t.filter(i=>!Rr(i,r));return{arrayValue:{values:t}}}class la extends ef{constructor(e,t){super(),this.k=e,this.N=t}}function JN(n){return st(n.integerValue||n.doubleValue)}function XN(n){return J_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gz{constructor(e,t){this.version=e,this.transformResults=t}}class ot{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ot}static exists(e){return new ot(void 0,e)}static updateTime(e){return new ot(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nf{}function mz(n,e,t){n instanceof Rc?function(r,i,s){const o=r.value.clone(),a=nR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(r,i,s){if(!tf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=nR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(tR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nv(n,e,t){var i;n instanceof Rc?function(r,i,s){if(!tf(r.precondition,i))return;const o=r.value.clone(),a=rR(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(eR(i),o).setHasLocalMutations()}(n,e,t):n instanceof ki?function(r,i,s){if(!tf(r.precondition,i))return;const o=rR(r.fieldTransforms,s,i),a=i.data;a.setAll(tR(r)),a.setAll(o),i.convertToFoundDocument(eR(i),a).setHasLocalMutations()}(n,e,t):tf(n.precondition,i=e)&&i.convertToNoDocument(ee.min())}function yz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=KN(r.transform,i||null);null!=s&&(null==t&&(t=Qt.empty()),t.set(r.field,s))}return t||null}function ZN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&na(t,r,(i,s)=>function pz(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Is&&r instanceof Is||t instanceof Ts&&r instanceof Ts?na(t.elements,r.elements,Rr):t instanceof la&&r instanceof la?Rr(t.N,r.N):t instanceof ca&&r instanceof ca);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function eR(n){return n.isFoundDocument()?n.version:ee.min()}class Rc extends nf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ki extends nf{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function tR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nR(n,e,t){const r=new Map;Q(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fz(o,a,t[i]))}return r}function rR(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,hz(s,o,e))}return r}class kc extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class rv extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class _z{constructor(e){this.count=e}}var at,_e;function iR(n){switch(n){default:return $();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function sR(n){if(void 0===n)return it("GRPC error has no .code"),D.UNKNOWN;switch(n){case at.OK:return D.OK;case at.CANCELLED:return D.CANCELLED;case at.UNKNOWN:return D.UNKNOWN;case at.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case at.INTERNAL:return D.INTERNAL;case at.UNAVAILABLE:return D.UNAVAILABLE;case at.UNAUTHENTICATED:return D.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case at.NOT_FOUND:return D.NOT_FOUND;case at.ALREADY_EXISTS:return D.ALREADY_EXISTS;case at.PERMISSION_DENIED:return D.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case at.ABORTED:return D.ABORTED;case at.OUT_OF_RANGE:return D.OUT_OF_RANGE;case at.UNIMPLEMENTED:return D.UNIMPLEMENTED;case at.DATA_LOSS:return D.DATA_LOSS;default:return $()}}(_e=at||(at={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class yt{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Ut.RED,this.left=null!=i?i:Ut.EMPTY,this.right=null!=s?s:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ut(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1,Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ut(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oR(this.data.getIterator())}getIteratorFrom(e){return new oR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new We(this.comparator);return t.data=e,t}}class oR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const vz=new yt(H.comparator);function Jn(){return vz}const wz=new yt(H.comparator);function iv(){return wz}const bz=new yt(H.comparator);const Cz=new We(H.comparator);function Ee(...n){let e=Cz;for(const t of n)e=e.add(t);return e}const Ez=new We(ge);function sf(){return Ez}class Oc{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Oc(ee.min(),r,sf(),Jn(),Ee())}}class Pc{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Pc(mt.EMPTY_BYTE_STRING,t,Ee(),Ee(),Ee())}}class of{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class uR{constructor(e,t){this.targetId=e,this.M=t}}class cR{constructor(e,t,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lR{constructor(){this.F=0,this.L=hR(),this.B=mt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Ee(),t=Ee(),r=Ee();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Pc(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=hR()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Dz{constructor(e){this.et=e,this.nt=new Map,this.st=Jn(),this.it=dR(),this.rt=new We(ge)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const s=i.target;if(Yh(s))if(0===r){const o=new H(s.path);this.at(t,o,Ue.newNoDocument(o,ee.min()))}else Q(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Yh(a.target)){const u=new H(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.at(o,u,Ue.newNoDocument(u,e))}s.j&&(t.set(o,s.G()),s.H())}});let r=Ee();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Oc(e,t,this.rt,this.st,r);return this.st=Jn(),this.it=dR(),this.rt=new We(ge),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new lR,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new We(ge),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||N("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new lR),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function dR(){return new yt(H.comparator)}function hR(){return new yt(H.comparator)}const Iz={asc:"ASCENDING",desc:"DESCENDING"},Tz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Az{constructor(e,t){this.databaseId=e,this.C=t}}function Fc(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(n,e){return n.C?e.toBase64():e.toUint8Array()}function Sz(n,e){return Fc(n,e.toTimestamp())}function St(n){return Q(!!n),ee.fromTimestamp(function(e){const t=Ri(e);return new Vt(t.seconds,t.nanos)}(n))}function sv(n,e){return(t=n,new be(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pR(n){const e=be.fromString(n);return Q(TR(e)),e}function Lc(n,e){return sv(n.databaseId,e.path)}function kr(n,e){const t=pR(e);if(t.get(1)!==n.databaseId.projectId)throw new x(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(mR(t))}function ov(n,e){return sv(n.databaseId,e)}function Vc(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mR(n){return Q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yR(n,e,t){return{name:Lc(n,e),fields:t.value.mapValue.fields}}function af(n,e){let t;if(e instanceof Rc)t={update:yR(n,e.key,e.value)};else if(e instanceof kc)t={delete:Lc(n,e.key)};else if(e instanceof ki)t={update:yR(n,e.key,e.data),updateMask:Lz(e.fieldMask)};else{if(!(e instanceof rv))return $();t={verify:Lc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof la)return{fieldPath:s.field.canonicalString(),increment:o.N};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Sz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}function wR(n,e){return{documents:[ov(n,e.path)]}}function bR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ov(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ov(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(PN(l.value))return{unaryFilter:{field:da(l.field),op:"IS_NAN"}};if(ON(l.value))return{unaryFilter:{field:da(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(PN(l.value))return{unaryFilter:{field:da(l.field),op:"IS_NOT_NAN"}};if(ON(l.value))return{unaryFilter:{field:da(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(l.field),op:Oz(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:da((c=u).field),direction:kz(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.C||Es(u)?u:{value:u});var u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=DR(e.startAt)),e.endAt&&(t.structuredQuery.endAt=DR(e.endAt)),t}function CR(n){let e=function gR(n){const e=pR(n);return 4===e.length?be.emptyPath():mR(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Q(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=ER(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new oa(ha((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Es(d)?null:d}(t.limit));let u=null;t.startAt&&(u=IR(t.startAt));let c=null;return t.endAt&&(c=IR(t.endAt)),function jN(n,e,t,r,i,s,o,a){return new ii(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function ER(n){return n?void 0!==n.unaryFilter?[Fz(n)]:void 0!==n.fieldFilter?[Pz(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ER(e)).reduce((e,t)=>e.concat(t)):$():[]}function DR(n){return{before:n.before,values:n.position}}function IR(n){return new Sc(n.values||[],!!n.before)}function kz(n){return Iz[n]}function Oz(n){return Tz[n]}function da(n){return{fieldPath:n.canonicalString()}}function ha(n){return Kt.fromServerFormat(n.fieldPath)}function Pz(n){return ln.create(ha(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}function Fz(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ha(n.unaryFilter.field);return ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ha(n.unaryFilter.field);return ln.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ha(n.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ha(n.unaryFilter.field);return ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $()}}function Lz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function pr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AR(e)),e=Vz(n.get(t),e);return AR(e)}function Vz(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function AR(n){return n+"\x01\x01"}class On{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}On.store="owner",On.key="owner";class Oi{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Oi.store="mutationQueues",Oi.keyPath="userId";class Pe{constructor(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Pe.store="mutations",Pe.keyPath="batchId",Pe.userMutationsIndex="userMutationsIndex",Pe.userMutationsKeyPath=["userId","batchId"];class Yt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pr(t)]}static key(e,t,r){return[e,pr(t),r]}}Yt.store="documentMutations",Yt.PLACEHOLDER=new Yt;class Ke{constructor(e,t,r,i,s,o){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ke.store="remoteDocuments",Ke.readTimeIndex="readTimeIndex",Ke.readTimeIndexPath="readTime",Ke.collectionReadTimeIndex="collectionReadTimeIndex",Ke.collectionReadTimeIndexPath=["parentPath","readTime"];class Or{constructor(e){this.byteSize=e}}Or.store="remoteDocumentGlobal",Or.key="remoteDocumentGlobalKey";class mn{constructor(e,t,r,i,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}mn.store="targets",mn.keyPath="targetId",mn.queryTargetsIndexName="queryTargetsIndex",mn.queryTargetsKeyPath=["canonicalId","targetId"];class Bt{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Bt.store="targetDocuments",Bt.keyPath=["targetId","path"],Bt.documentTargetsIndex="documentTargetsIndex",Bt.documentTargetsKeyPath=["path","targetId"];class Pn{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Pn.key="targetGlobalKey",Pn.store="targetGlobal";class As{constructor(e,t){this.collectionId=e,this.parent=t}}As.store="collectionParents",As.keyPath=["collectionId","parent"];class oi{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}oi.store="clientMetadata",oi.keyPath="clientId";class fa{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}fa.store="bundles",fa.keyPath="bundleId";class pa{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}pa.store="namedQueries",pa.keyPath="name";const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof A?t:A.resolve(t)}catch(t){return A.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):A.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):A.reject(t)}static resolve(e){return new A((t,r)=>{t(e)})}static reject(e){return new A((t,r)=>{r(e)})}static waitFor(e){return new A((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=A.resolve(!1);for(const r of e)t=t.next(i=>i?A.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function Ss(n){return"IndexedDbTransactionError"===n.name}class uv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mz(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&nv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&nv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ee())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,r)=>ZN(t,r))&&na(this.baseMutations,e.baseMutations,(t,r)=>ZN(t,r))}}class cv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Q(e.mutations.length===r.length);let i=function aR(){return bz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cv(e,t,r,i)}}class Pi{constructor(e,t,r,i,s=ee.min(),o=ee.min(),a=mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NR{constructor(e){this.Gt=e}}function hv(n){const e=CR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function HN(n,e,t){return new ii(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class Wz{constructor(){this.zt=new fv}addToCollectionParentIndex(e,t){return this.zt.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.zt.getEntries(t))}}class fv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new We(be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(be.comparator)).toArray()}}class _n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class xs{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new xs(0)}static re(){return new xs(-1)}}function Ns(n){return gv.apply(this,arguments)}function gv(){return gv=_(function*(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==SR)throw n;N("LocalStore","Unexpectedly lost primary lease")}),gv.apply(this,arguments)}class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){Cs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xN(this.inner)}}class zR{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return H.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):function ev(n){return null!==n.collectionGroup}(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new H(t)).next(r=>{let i=iv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let s=iv();return this.Jt.getCollectionParents(e,i).next(o=>A.forEach(o,a=>{const u=(c=t,l=a.child(i),new ii(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,t,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,t,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Ue.newInvalidDocument(l),i=i.insert(l,d)),nv(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{xc(t,a)||(i=i.remove(o))}),i))}Nn(e,t,r){let i=Ee();for(const o of t)for(const a of o.mutations)a instanceof ki&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class vv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=Ee(),i=Ee();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vv(e,t.fromCache,r,i)}}class WR{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ee.min())?this.Fn(e,t):this.Mn.vn(e,i).next(s=>{const o=this.Ln(t,s);return(Xh(t)||Zh(t))&&this.Bn(t.limitType,o,i,r)?this.Fn(e,t):(q_()<=ve.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tv(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,t){let r=new We(GN(e));return t.forEach((i,s)=>{xc(e,s)&&(r=r.add(s))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,t){return q_()<=ve.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",tv(t)),this.Mn.getDocumentsMatchingQuery(e,t,ee.min())}}class s7{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new yt(ge),this.Kn=new wa(s=>Ac(s),Qh),this.jn=ee.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new zR(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function QR(n,e){return wv.apply(this,arguments)}function wv(){return wv=_(function*(n,e){const t=O(n);let r=t.An,i=t.Wn;const s=yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.An.getAllMutationBatches(o).next(u=>(a=u,r=t.persistence.getMutationQueue(e),i=new zR(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=Ee();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),s}),wv.apply(this,arguments)}function o7(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=A.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(y=>{const w=u.docVersions.get(f);Q(null!==w),y.version.compareTo(w)<0&&(l.applyToRemoteDocument(y,u),y.isValidDocument()&&c.addEntry(y,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function YR(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function a7(n,e){const t=O(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(t.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>t.He.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,y,w;e.targetMismatches.has(l)?h=h.withResumeToken(mt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),y=h,w=c,(0===(f=d).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0)&&a.push(t.He.updateTargetData(s,h))});let u=Jn();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function JR(n,e,t,r,i){let s=Ee();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let a=Jn();return t.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):N("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ee.min())){const c=t.He.getLastRemoteSnapshotVersion(s).next(l=>t.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>t.Wn.Vn(s,u)).next(()=>u)}).then(s=>(t.qn=i,s))}function u7(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function ba(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):t.He.allocateTargetId(r).next(o=>(i=new Pi(e,o,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Ca(n,e,t){return bv.apply(this,arguments)}function bv(){return bv=_(function*(n,e,t){const r=O(n),i=r.qn.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ss(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),bv.apply(this,arguments)}function ff(n,e,t){const r=O(n);let i=ee.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=O(a),d=l.Kn.get(c);return void 0!==d?A.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,t?i:ee.min(),t?s:Ee())).next(a=>({documents:a,zn:s})))}class h7{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return A.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:St(r.createTime)}),A.resolve()}getNamedQuery(e,t){return A.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:hv(r.bundledQuery),readTime:St(r.readTime)}),A.resolve();var r}}class Iv{constructor(){this.ts=new We(Mt.es),this.ns=new We(Mt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Mt(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Mt(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new H(new be([])),r=new Mt(t,e),i=new Mt(t,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new H(new be([])),r=new Mt(t,e),i=new Mt(t,e+1);let s=Ee();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mt(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mt{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return H.comparator(e.key,t.key)||ge(e.fs,t.fs)}static ss(e,t){return ge(e.fs,t.fs)||H.comparator(e.key,t.key)}}class f7{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new We(Mt.es)}checkEmpty(e){return A.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const s=this.ds;this.ds++;const o=new uv(s,t,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new Mt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,t){return A.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),s=i<0?0:i;return A.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return A.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(ge);return t.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),A.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new H(s),0);let a=new We(ge);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),A.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Q(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return A.forEach(t.mutations,i=>{const s=new Mt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Mt(t,0),i=this.ws.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return A.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class p7{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new yt(H.comparator),this.size=0}addEntry(e,t,r){const i=t.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return A.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=Jn();const s=new H(t.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!t.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||xc(t,u)&&(i=i.insert(u.key,u.mutableCopy()))}return A.resolve(i)}Es(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new g7(this)}getSize(e){return A.resolve(this.size)}}class g7 extends class e7{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ee.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ue.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?A.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class m7{constructor(e){this.persistence=e,this.Is=new wa(t=>Ac(t),Qh),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.As=0,this.Rs=new Iv,this.targetCount=0,this.bs=xs.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),A.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new xs(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.ae(t),A.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),A.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),A.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this.Rs.containsKey(t))}}class y7{constructor(e,t){this.Ps={},this.Be=new kn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new m7(this),this.Jt=new Wz,this.Je=new p7(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new NR(t),this.Ye=new h7(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new f7(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){N("MemoryPersistence","Starting transaction:",e);const i=new _7(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,t){return A.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class _7 extends class $z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Tv{constructor(e){this.persistence=e,this.Cs=new Iv,this.Ns=null}static ks(e){return new Tv(e)}get xs(){if(this.Ns)return this.Ns;throw $()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),A.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.xs,r=>{const i=H.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return A.or([()=>A.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class Mv{constructor(){this.activeTargetIds=sf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nk{constructor(){this.pi=new Mv,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Mv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class v7{Ei(e){}shutdown(){}}class rk{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const w7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class b7{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class C7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,s){const o=this.Ui(e,t);N("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(N("RestConnection","Received: ",u),u),u=>{throw qh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,t,r,i,s){return this.Bi(e,t,r,i,s)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${w7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((s,o)=>{const a=new G5;a.listenOnce(j5.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case G_.NO_ERROR:const c=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(c)),s(c);break;case G_.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new x(D.DEADLINE_EXCEEDED,"Request time out"));break;case G_.HTTP_ERROR:const l=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const y=f.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(d.status);o(new x(h,d.message))}else o(new x(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new x(D.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=U5(),o=B5(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new $5({})),this.qi(a.initMessageHeaders,t,r),ex()||nx()||function V8(){return It().indexOf("Electron/")>=0}()||rx()||function U8(){return It().indexOf("MSAppHost/")>=0}()||tx()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");N("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new b7({Vi:y=>{d?N("Connection","Not sending because WebChannel is closed:",y):(l||(N("Connection","Opening WebChannel transport."),c.open(),l=!0),N("Connection","WebChannel sending:",y),c.send(y))},Si:()=>c.close()}),f=(y,w,E)=>{y.listen(w,T=>{try{E(T)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Gh.EventType.OPEN,()=>{d||N("Connection","WebChannel transport opened.")}),f(c,Gh.EventType.CLOSE,()=>{d||(d=!0,N("Connection","WebChannel transport closed"),h.Oi())}),f(c,Gh.EventType.ERROR,y=>{d||(d=!0,qh("Connection","WebChannel transport errored:",y),h.Oi(new x(D.UNAVAILABLE,"The operation could not be completed")))}),f(c,Gh.EventType.MESSAGE,y=>{var w;if(!d){const E=y.data[0];Q(!!E);const T=E,C=T.error||(null===(w=T[0])||void 0===w?void 0:w.error);if(C){N("Connection","WebChannel received error:",C);const P=C.status;let G=function(wt){const Fn=at[wt];if(void 0!==Fn)return sR(Fn)}(P),ne=C.message;void 0===G&&(G=D.INTERNAL,ne="Unknown error status: "+P+" with message "+C.message),d=!0,h.Oi(new x(G,ne)),c.close()}else N("Connection","WebChannel received:",E),h.Mi(E)}}),f(o,H5.STAT_EVENT,y=>{y.stat===EN.PROXY?N("Connection","Detected buffering proxy"):y.stat===EN.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function mf(){return"undefined"!=typeof document?document:null}function $c(n){return new Az(n,!0)}class Nv{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class sk{constructor(e,t,r,i,s,o,a,u){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Nv(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return _(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return _(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return _(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(it(t.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new x(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(_(function*(){e.state=0,e.start()}))}Ar(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E7 extends sk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.k=s}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function xz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(Q(void 0===c||"string"==typeof c),mt.fromBase64String(c||"")):(Q(void 0===c||c instanceof Uint8Array),mt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?D.UNKNOWN:sR(u.code);return new x(c,u.message||"")}(o);t=new cR(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=kr(n,r.document.name),s=St(r.document.updateTime),o=new Qt({mapValue:{fields:r.document.fields}}),a=Ue.newFoundDocument(i,s,o);t=new of(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=kr(n,r.document),s=r.readTime?St(r.readTime):ee.min(),o=Ue.newNoDocument(i,s);t=new of([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=kr(n,r.document);t=new of([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new _z(r.count||0);t=new uR(r.targetId,s)}}var u;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?St(s.readTime):ee.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Vc(this.k),t.addTarget=function(i,s){let o;const a=s.target;return o=Yh(a)?{documents:wR(i,a)}:{query:bR(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=fR(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Fc(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function Rz(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Vc(this.k),t.removeTarget=e,this.gr(t)}}class D7 extends sk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function Nz(n,e){return n&&n.length>0?(Q(void 0!==e),n.map(t=>function(r,i){let s=St(r.updateTime?r.updateTime:i);return s.isEqual(ee.min())&&(s=St(i)),new gz(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.Cr(r,t)}return Q(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Vc(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>af(this.k,r))};this.gr(t)}}class I7 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new x(D.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(D.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(D.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class T7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(it(t),this.Lr=!1):N("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class A7{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(_(function*(){var u;Ui(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=O(c);l.Gr.add(4),yield Ea(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield Gc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new T7(r,i)}}function Gc(n){return Rv.apply(this,arguments)}function Rv(){return Rv=_(function*(n){if(Ui(n))for(const e of n.zr)yield e(!0)}),Rv.apply(this,arguments)}function Ea(n){return kv.apply(this,arguments)}function kv(){return kv=_(function*(n){for(const e of n.zr)yield e(!1)}),kv.apply(this,arguments)}function yf(n,e){const t=O(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Fv(t)?Pv(t):Ia(t).lr()&&Ov(t,e))}function qc(n,e){const t=O(n),r=Ia(t);t.Wr.delete(e),r.lr()&&ok(t,e),0===t.Wr.size&&(r.lr()?r._r():Ui(t)&&t.Jr.set("Unknown"))}function Ov(n,e){n.Yr.X(e.targetId),Ia(n).Pr(e)}function ok(n,e){n.Yr.X(e),Ia(n).vr(e)}function Pv(n){n.Yr=new Dz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Ia(n).start(),n.Jr.Br()}function Fv(n){return Ui(n)&&!Ia(n).hr()&&n.Wr.size>0}function Ui(n){return 0===O(n).Gr.size}function ak(n){n.Yr=void 0}function S7(n){return Lv.apply(this,arguments)}function Lv(){return Lv=_(function*(n){n.Wr.forEach((e,t)=>{Ov(n,e)})}),Lv.apply(this,arguments)}function M7(n,e){return Vv.apply(this,arguments)}function Vv(){return Vv=_(function*(n,e){ak(n),Fv(n)?(n.Jr.Kr(e),Pv(n)):n.Jr.set("Unknown")}),Vv.apply(this,arguments)}function x7(n,e,t){return Uv.apply(this,arguments)}function Uv(){return Uv=_(function*(n,e,t){if(n.Jr.set("Online"),e instanceof cR&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _f(n,r)}else if(e instanceof of?n.Yr.ot(e):e instanceof uR?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(ee.min()))try{const r=yield YR(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(mt.EMPTY_BYTE_STRING,u.snapshotVersion)),ok(i,a);const c=new Pi(u.target,a,1,u.sequenceNumber);Ov(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield _f(n,r)}var r}),Uv.apply(this,arguments)}function _f(n,e,t){return Bv.apply(this,arguments)}function Bv(){return Bv=_(function*(n,e,t){if(!Ss(e))throw e;n.Gr.add(1),yield Ea(n),n.Jr.set("Offline"),t||(t=()=>YR(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){N("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Gc(n)}))}),Bv.apply(this,arguments)}function uk(n,e){return e().catch(t=>_f(n,t,e))}function Da(n){return jv.apply(this,arguments)}function jv(){return jv=_(function*(n){const e=O(n),t=Bi(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;N7(e);)try{const i=yield u7(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,R7(e,i)}catch(i){yield _f(e,i)}ck(e)&&lk(e)}),jv.apply(this,arguments)}function N7(n){return Ui(n)&&n.Qr.length<10}function R7(n,e){n.Qr.push(e);const t=Bi(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function ck(n){return Ui(n)&&!Bi(n).hr()&&n.Qr.length>0}function lk(n){Bi(n).start()}function k7(n){return Hv.apply(this,arguments)}function Hv(){return Hv=_(function*(n){Bi(n).kr()}),Hv.apply(this,arguments)}function O7(n){return $v.apply(this,arguments)}function $v(){return $v=_(function*(n){const e=Bi(n);for(const t of n.Qr)e.Dr(t.mutations)}),$v.apply(this,arguments)}function P7(n,e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=_(function*(n,e,t){const r=n.Qr.shift(),i=cv.from(r,e,t);yield uk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Da(n)}),Gv.apply(this,arguments)}function F7(n,e){return qv.apply(this,arguments)}function qv(){return qv=_(function*(n,e){var t;e&&Bi(n).Sr&&(yield(t=_(function*(r,i){if(iR(s=i.code)&&s!==D.ABORTED){const o=r.Qr.shift();Bi(r).wr(),yield uk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Da(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),ck(n)&&lk(n)}),qv.apply(this,arguments)}function Wv(){return Wv=_(function*(n,e){const t=O(n);e?(t.Gr.delete(2),yield Gc(t)):e||(t.Gr.add(2),yield Ea(t),t.Jr.set("Unknown"))}),Wv.apply(this,arguments)}function Ia(n){return n.Xr||(n.Xr=function(e,t,r){const i=O(e);return i.Or(),new E7(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:S7.bind(null,n),Ni:M7.bind(null,n),br:x7.bind(null,n)}),n.zr.push(function(){var e=_(function*(t){t?(n.Xr.wr(),Fv(n)?Pv(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),ak(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Bi(n){return n.Zr||(n.Zr=function(e,t,r){const i=O(e);return i.Or(),new D7(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:k7.bind(null,n),Ni:F7.bind(null,n),Nr:O7.bind(null,n),Cr:P7.bind(null,n)}),n.zr.push(function(){var e=_(function*(t){t?(n.Zr.wr(),yield Da(n)):(yield n.Zr.stop(),n.Qr.length>0&&(N("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Kv{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Kv(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ta(n,e){if(it("AsyncQueue",`${e}: ${n}`),Ss(n))return new x(D.UNAVAILABLE,`${e}: ${n}`);throw n}class Aa{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=iv(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dk{constructor(){this.eo=new yt(H.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):$():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sa{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Sa(e,t,Aa.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class L7{constructor(){this.so=void 0,this.listeners=[]}}class V7{constructor(){this.queries=new wa(e=>$N(e),Mc),this.onlineState="Unknown",this.io=new Set}}function Qv(n,e){return Yv.apply(this,arguments)}function Yv(){return Yv=_(function*(n,e){const t=O(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new L7),i)try{s.so=yield t.onListen(r)}catch(o){const a=Ta(o,`Initialization of query '${tv(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ro(t.onlineState),s.so&&e.oo(s.so)&&Zv(t)}),Yv.apply(this,arguments)}function Jv(n,e){return Xv.apply(this,arguments)}function Xv(){return Xv=_(function*(n,e){const t=O(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Xv.apply(this,arguments)}function U7(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&Zv(t)}function B7(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Zv(n){n.io.forEach(e=>{e.next()})}class ew{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class pk{constructor(e){this.key=e}}class gk{constructor(e){this.key=e}}class mk{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Ee(),this.mutatedKeys=Ee(),this.Ao=GN(e),this.Ro=new Aa(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new dk,i=t?t.Ro:this.Ro;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Xh(this.query)&&i.size===this.query.limit?i.last():null,c=Zh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=xc(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?y!==w&&(r.track({type:3,doc:f}),E=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),E=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(u||c)&&(a=!0)),E&&(f?(o=o.add(f),s=w?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Xh(this.query)||Zh(this.query))for(;o.size>this.query.limit;){const l=Xh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new Sa(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new dk,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Ee(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new gk(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new pk(r))}),t}ko(e){this.To=e.zn,this.Io=Ee();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Sa.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class $7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class G7{constructor(e){this.key=e,this.$o=!1}}class q7{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new wa(a=>$N(a),Mc),this.Fo=new Map,this.Lo=new Set,this.Bo=new yt(H.comparator),this.Uo=new Map,this.qo=new Iv,this.Ko={},this.jo=new Map,this.Qo=xs.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function z7(n,e){return tw.apply(this,arguments)}function tw(){return tw=_(function*(n,e){const t=Dw(n);let r,i;const s=t.Mo.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield ba(t.localStore,Yn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield nw(t,e,r,"current"===a),t.isPrimaryClient&&yf(t.remoteStore,o)}return i}),tw.apply(this,arguments)}function nw(n,e,t,r){return rw.apply(this,arguments)}function rw(){return rw=_(function*(n,e,t,r){n.Go=(l,d,h)=>{return(f=_(function*(y,w,E,T){let C=w.view.Po(E);C.Bn&&(C=yield ff(y.localStore,w.query,!1).then(({documents:ne})=>w.view.Po(ne,C)));const P=T&&T.targetChanges.get(w.targetId),G=w.view.applyChanges(C,y.isPrimaryClient,P);return fw(y,w.targetId,G.Co),G.snapshot}),function(y,w,E,T){return f.apply(this,arguments)})(n,l,d,h);var f};const i=yield ff(n.localStore,e,!0),s=new mk(e,i.zn),o=s.Po(i.documents),a=Pc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);fw(n,t,u.Co);const c=new $7(e,t,s);return n.Mo.set(e,c),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),u.snapshot}),rw.apply(this,arguments)}function W7(n,e){return iw.apply(this,arguments)}function iw(){return iw=_(function*(n,e){const t=O(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(s=>!Mc(s,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ca(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qc(t.remoteStore,r.targetId),Ma(t,r.targetId)}).catch(Ns))):(Ma(t,r.targetId),yield Ca(t.localStore,r.targetId,!0))}),iw.apply(this,arguments)}function sw(){return sw=_(function*(n,e,t){const r=Iw(n);try{const i=yield function(s,o){const a=O(s),u=Vt.now(),c=o.reduce((d,h)=>d.add(h.key),Ee());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const y of o){const w=yz(y,l.get(y.key));null!=w&&f.push(new ki(y.key,w,FN(w.value.mapValue),ot.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new yt(ge)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ai(r,i.changes),yield Da(r.remoteStore)}catch(i){const s=Ta(i,"Failed to persist write");t.reject(s)}}),sw.apply(this,arguments)}function yk(n,e){return ow.apply(this,arguments)}function ow(){return ow=_(function*(n,e){const t=O(n);try{const r=yield a7(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Uo.get(s);o&&(Q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?Q(o.$o):i.removedDocuments.size>0&&(Q(o.$o),o.$o=!1))}),yield ai(t,r,e)}catch(r){yield Ns(r)}}),ow.apply(this,arguments)}function _k(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&Zv(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q7(n,e,t){return aw.apply(this,arguments)}function aw(){return aw=_(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new yt(H.comparator);o=o.insert(s,Ue.newNoDocument(s,ee.min()));const a=Ee().add(s),u=new Oc(ee.min(),new Map,new We(ge),o,a);yield yk(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),pw(r)}else yield Ca(r.localStore,e,!1).then(()=>Ma(r,e,t)).catch(Ns)}),aw.apply(this,arguments)}function Y7(n,e){return uw.apply(this,arguments)}function uw(){return uw=_(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield o7(t.localStore,e);hw(t,r,null),dw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ai(t,i)}catch(i){yield Ns(i)}}),uw.apply(this,arguments)}function J7(n,e,t){return cw.apply(this,arguments)}function cw(){return cw=_(function*(n,e,t){const r=O(n);try{const i=yield function(s,o){const a=O(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(Q(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);hw(r,e,t),dw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ai(r,i)}catch(i){yield Ns(i)}}),cw.apply(this,arguments)}function dw(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function hw(n,e,t){const r=O(n);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Ma(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||vk(n,r)})}function vk(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(qc(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),pw(n))}function fw(n,e,t){for(const r of t)r instanceof pk?(n.qo.addReference(r.key,e),Z7(n,r)):r instanceof gk?(N("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||vk(n,r.key)):$()}function Z7(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(N("SyncEngine","New document in limbo: "+t),n.Lo.add(r),pw(n))}function pw(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new H(be.fromString(e)),r=n.Qo.next();n.Uo.set(r,new G7(t)),n.Bo=n.Bo.insert(t,r),yf(n.remoteStore,new Pi(Yn(aa(t.path)),r,2,kn.I))}}function ai(n,e,t){return gw.apply(this,arguments)}function gw(){return gw=_(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((a,u)=>{o.push(r.Go(u,e,t).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=vv.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=_(function*(u,c){const l=O(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(c,h=>A.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ss(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),w=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,w)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),gw.apply(this,arguments)}function eW(n,e){return mw.apply(this,arguments)}function mw(){return mw=_(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield QR(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(o=>{o.forEach(a=>{a.reject(new x(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ai(t,r.Gn)}var i}),mw.apply(this,arguments)}function tW(n,e){const t=O(n),r=t.Uo.get(e);if(r&&r.$o)return Ee().add(r.key);{let i=Ee();const s=t.Fo.get(e);if(!s)return i;for(const o of s){const a=t.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function Dw(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q7.bind(null,e),e.Oo.br=U7.bind(null,e.eventManager),e.Oo.zo=B7.bind(null,e.eventManager),e}function Iw(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J7.bind(null,e),e}class lW{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.k=$c(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return function KR(n,e,t,r){return new s7(n,e,t,r)}(this.persistence,new WR,e.initialUser,this.k)}Yo(e){return new y7(Tv.ks,this.k)}Jo(e){return new nk}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tw{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_k(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=eW.bind(null,r.syncEngine),yield function zv(n,e){return Wv.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new V7}createDatastore(e){const t=$c(e.databaseInfo.databaseId),r=new C7(e.databaseInfo);return new I7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>_k(this.syncEngine,a,0),o=rk.Pt()?new rk:new v7,new A7(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new q7(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=O(t);N("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Ea(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class pW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return _(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new x(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=_(function*(s,o){const a=O(s),u=Vc(a.k)+"/documents",c={documents:o.map(f=>Lc(a.k,f))},l=yield a.ji("BatchGetDocuments",u,c),d=new Map;l.forEach(f=>{const y=function Mz(n,e){return"found"in e?function(t,r){Q(!!r.found);const i=kr(t,r.found.name),s=St(r.found.updateTime),o=new Qt({mapValue:{fields:r.found.fields}});return Ue.newFoundDocument(i,s,o)}(n,e):"missing"in e?function(t,r){Q(!!r.missing),Q(!!r.readTime);const i=kr(t,r.missing),s=St(r.readTime);return Ue.newNoDocument(i,s)}(n,e):$()}(a.k,f);d.set(y.key.toString(),y)});const h=[];return o.forEach(f=>{const y=d.get(f.toString());Q(!!y),h.push(y)}),h}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return _(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=H.fromPath(i);e.mutations.push(new rv(s,e.precondition(s)))}),yield(r=_(function*(i,s){const o=O(i),a=Vc(o.k)+"/documents",u={writes:s.map(c=>af(o.k,c))};yield o.Bi("Commit",a,u)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $();t=ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new x(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ot.updateTime(t):ot.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ee.min()))throw new x(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(t)}return ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gW{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Nv(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi(_(function*(){const t=new pW(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.wc(s)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!Es(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!iR(t)}return!1}}class mW{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=AN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ta(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ek(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield QR(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Aw.apply(this,arguments)}function Dk(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Mw(n);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(s=_(function*(o,a){const u=O(o);u.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const c=Ui(u);u.Gr.add(3),yield Ea(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield Gc(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),n.onlineComponents=e}),Sw.apply(this,arguments)}function Mw(n){return xw.apply(this,arguments)}function xw(){return xw=_(function*(n){return n.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),yield Ek(n,new lW)),n.offlineComponents}),xw.apply(this,arguments)}function wf(n){return Nw.apply(this,arguments)}function Nw(){return Nw=_(function*(n){return n.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),yield Dk(n,new Tw)),n.onlineComponents}),Nw.apply(this,arguments)}function xa(n){return Ow.apply(this,arguments)}function Ow(){return Ow=_(function*(n){const e=yield wf(n),t=e.eventManager;return t.onListen=z7.bind(null,e.syncEngine),t.onUnlisten=W7.bind(null,e.syncEngine),t}),Ow.apply(this,arguments)}class IW{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class zc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}const Mk=new Map;function Pw(n,e,t){if(!t)throw new x(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xk(n){if(!H.isDocumentKey(n))throw new x(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nk(n){if(H.isDocumentKey(n))throw new x(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function we(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bf(n);throw new x(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class kk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function TW(n,e,t,r){if(!0===e&&!0===r)throw new x(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kk({}),this._settingsFrozen=!1,e instanceof zc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new x(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(i.options.projectId)}(e))}get app(){if(!this._app)throw new x(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new q5;switch(t.type){case"gapi":const r=t.client;return Q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Q5(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new x(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mk.get(e);t&&(N("ComponentProvider","Removing Datastore"),Mk.delete(e),t.terminate())}(this),Promise.resolve()}}class Je{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Jt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class Pr extends Jt{constructor(e,t,r){super(e,t,aa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new H(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Xn(n,e,...t){if(n=on(n),Pw("collection","path",e),n instanceof Wc){const r=be.fromString(e,...t);return Nk(r),new Pr(n,null,r)}{if(!(n instanceof Je||n instanceof Pr))throw new x(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return Nk(r),new Pr(n.firestore,null,r)}}function dn(n,e,...t){if(n=on(n),1===arguments.length&&(e=AN.A()),Pw("doc","path",e),n instanceof Wc){const r=be.fromString(e,...t);return xk(r),new Je(n,null,new H(r))}{if(!(n instanceof Je||n instanceof Pr))throw new x(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return xk(r),new Je(n.firestore,n instanceof Pr?n.converter:null,new H(r))}}class SW{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Nv(this,"async_queue_retry"),this.bc=()=>{const t=mf();t&&N("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=mf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=mf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new At;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return _(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Ss(t))throw t;N("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,it("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=Kv.createAndSchedule(this,e,t,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&$()}verifyOperationInProgress(){}Dc(){var e=this;return _(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}class $e extends Wc{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new SW,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Pk(this),this._firestoreClient.terminate()}}function Ok(n=ux()){return _h(n,"firestore").getImmediate()}function xt(n){return n._firestoreClient||Pk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Pk(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new IW(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new mW(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Rs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(mt.fromBase64String(e))}catch(t){throw new x(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ks(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lw{constructor(e){this._methodName=e}}class Vw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}const xW=/^__.*__$/;class NW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class Vk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Cf{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Df(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Uk(this.$c)&&xW.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class RW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||$c(e)}Qc(e,t,r,i=!1){return new Cf({$c:e,methodName:t,jc:r,path:Kt.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Os(n){const e=n._freezeSettings(),t=$c(n._databaseId);return new RW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ef(n,e,t,r,i,s={}){const o=n.Qc(s.merge||s.mergeFields?2:0,e,t,i);Hw("Data must be an object, but it was:",o,r);const a=Hk(r,o);let u,c;if(s.merge)u=new ra(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=$w(e,d,t);if(!o.contains(h))throw new x(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Gk(l,h)||l.push(h)}u=new ra(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new NW(new Qt(a),u,c)}class Kc extends Lw{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function Ps(n,e){if($k(n=on(n)))return Hw("Unsupported field value:",e,n),Hk(n,e);if(n instanceof Lw)return function(t,r){if(!Uk(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ps(o,r.Uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=on(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WN(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Vt.fromDate(t);return{timestampValue:Fc(r.k,i)}}if(t instanceof Vt){const i=new Vt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fc(r.k,i)}}if(t instanceof Vw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ks)return{bytesValue:fR(r.k,t._byteString)};if(t instanceof Je){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${bf(t)}`)}(n,e)}function Hk(n,e){const t={};return xN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(n,(r,i)=>{const s=Ps(i,e.Mc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function $k(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Vw||n instanceof ks||n instanceof Je||n instanceof Lw)}function Hw(n,e,t){if(!$k(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bf(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function $w(n,e,t){if((e=on(e))instanceof Rs)return e._internalPath;if("string"==typeof e)return Gw(n,e);throw Df("Field path arguments must be of type string or ",n,!1,void 0,t)}const FW=new RegExp("[~\\*/\\[\\]]");function Gw(n,e,t){if(e.search(FW)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rs(...e.split("."))._internalPath}catch(r){throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Df(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new x(D.INVALID_ARGUMENT,a+n+u)}function Gk(n,e){return n.some(t=>t.isEqual(e))}class Qc{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LW extends Qc{data(){return super.data()}}function If(n,e){return"string"==typeof e?Gw(n,e):e instanceof Rs?e._internalPath:e._delegate._internalPath}class Fs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends Qc{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Tf extends Na{data(e={}){return super.data(e)}}class Ra{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tf(this._firestore,this._userDataWriter,r.key,r,new Fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Tf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Tf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:VW(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Zk{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return Cs(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Vw(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=NN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const t=Ri(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=be.fromString(e);Q(TR(r));const i=new zc(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||it(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Af(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class HW extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}}function ji(n,e){if((n=on(n)).firestore!==e)throw new x(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Ls(n){n=we(n,Je);const e=we(n.firestore,$e);return function Ak(n,e,t={}){const r=new At;return n.asyncQueue.enqueueAndForget(_(function*(){return function(i,s,o,a,u){const c=new vf({next:d=>{s.enqueueAndForget(()=>Jv(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new x(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new x(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new ew(aa(o.path),c,{includeMetadataChanges:!0,wo:!0});return Qv(i,l)}(yield xa(n),n.asyncQueue,e,t,r)})),r.promise}(xt(e),n._key).then(t=>function zw(n,e,t){const r=t.docs.get(e._key),i=new Vs(n);return new Na(n,i,e._key,r,new Fs(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Vs extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}}function ka(n){n=we(n,Jt);const e=we(n.firestore,$e),t=xt(e),r=new Vs(e);return function qk(n){if(Zh(n)&&0===n.explicitOrderBy.length)throw new x(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function Sk(n,e,t={}){const r=new At;return n.asyncQueue.enqueueAndForget(_(function*(){return function(i,s,o,a,u){const c=new vf({next:d=>{s.enqueueAndForget(()=>Jv(i,l)),d.fromCache&&"server"===a.source?u.reject(new x(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new ew(o,c,{includeMetadataChanges:!0,wo:!0});return Qv(i,l)}(yield xa(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Ra(e,r,n,i))}function qw(n,e,t){n=we(n,Je);const r=we(n.firestore,$e),i=Af(n.converter,e,t);return Yc(r,[Ef(Os(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ot.none())])}function Oa(n,e){const t=we(n.firestore,$e),r=dn(n),i=Af(n.converter,e);return Yc(t,[Ef(Os(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ot.exists(!1))]).then(()=>r)}function Yc(n,e){return function(t,r){const i=new At;return t.asyncQueue.enqueueAndForget(_(function*(){return function K7(n,e,t){return sw.apply(this,arguments)}(yield function kw(n){return wf(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(xt(n),e)}class qW extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Os(e)}get(e){const t=ji(e,this._firestore),r=new HW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return $();const s=i[0];if(s.isFoundDocument())return new Qc(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Qc(this._firestore,r,t._key,null,t.converter);throw $()})}set(e,t,r){const i=ji(e,this._firestore),s=Af(i.converter,t,r),o=Ef(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=ji(e,this._firestore);let o;return o="string"==typeof(t=on(t))||t instanceof Rs?function jw(n,e,t,r,i,s){const o=n.Qc(1,e,t),a=[$w(e,r,t)],u=[i];if(s.length%2!=0)throw new x(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push($w(e,s[h])),u.push(s[h+1]);const c=[],l=Qt.empty();for(let h=a.length-1;h>=0;--h)if(!Gk(c,a[h])){const f=a[h];let y=u[h];y=on(y);const w=o.Bc(f);if(y instanceof Kc)c.push(f);else{const E=Ps(y,w);null!=E&&(c.push(f),l.set(f,E))}}const d=new ra(c);return new Vk(l,d,o.fieldTransforms)}(this._dataReader,"Transaction.update",s._key,t,r,i):function Bw(n,e,t,r){const i=n.Qc(1,e,t);Hw("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();Cs(r,(u,c)=>{const l=Gw(e,u,t);c=on(c);const d=i.Bc(l);if(c instanceof Kc)s.push(l);else{const h=Ps(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new ra(s);return new Vk(o,a,i.fieldTransforms)}(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=ji(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ji(e,this._firestore),r=new Vs(this._firestore);return super.get(e).then(i=>new Na(this._firestore,r,t._key,i._document,new Fs(!1,!1),t.converter))}}function Ww(n,e){return function CW(n,e){const t=new At;return n.asyncQueue.enqueueAndForget(_(function*(){const r=yield(i=n,wf(i).then(s=>s.datastore));var i;new gW(n.asyncQueue,r,e,t).run()})),t.promise}(xt(n=we(n,$e)),t=>e(new qW(n,t)))}function tO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}!function(n,e=!0){ta="9.6.4",nc(new Qo("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new $e(i,new W5(t.getProvider("auth-internal")),new Y5(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Si(DN,"3.4.3",n),Si(DN,"3.4.3","esm2017")}(),Si("firebase","9.6.4","app");const YW=function iO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},sO=new Zu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oO=new Qy("@firebase/auth");function Mf(n,...e){oO.logLevel<=ve.ERROR&&oO.error(`Auth (9.6.4): ${n}`,...e)}function vn(n,...e){throw Qw(n,...e)}function Fr(n,...e){return Qw(n,...e)}function aO(n,e,t){const r=Object.assign(Object.assign({},YW()),{[e]:t});return new Zu("auth","Firebase",r).create(e,{appName:n.name})}function Qw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sO.create(n,...e)}function k(n,e,...t){if(!n)throw Qw(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mf(e),new Error(e)}function Hi(n,e){n||Lr(e)}const uO=new Map;function ui(n){Hi(n instanceof Function,"Expected a class definition");let e=uO.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uO.set(n,e),e)}function Jc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function cO(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=ex()||nx()}get(){return function ZW(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yw(){return"http:"===cO()||"https:"===cO()}()||tx()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jw(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},n9=new Xc(3e4,6e4);function _t(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Nt(n,e,t,r){return Xw.apply(this,arguments)}function Xw(){return Xw=_(function*(n,e,t,r,i={}){return dO(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=mh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),lO.fetch()(hO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),Xw.apply(this,arguments)}function dO(n,e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},t9),e);try{const i=new r9(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw xf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw xf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw xf(n,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw aO(n,l,c);vn(n,l)}}catch(i){if(i instanceof ps)throw i;vn(n,"network-request-failed")}}),Zw.apply(this,arguments)}function ci(n,e,t,r){return eb.apply(this,arguments)}function eb(){return eb=_(function*(n,e,t,r,i={}){const s=yield Nt(n,e,t,r,i);return"mfaPendingCredential"in s&&vn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),eb.apply(this,arguments)}function hO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Jw(n.config,i):`${n.config.apiScheme}://${i}`}class r9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),n9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function tb(){return tb=_(function*(n,e){return Nt(n,"POST","/v1/accounts:delete",e)}),tb.apply(this,arguments)}function o9(n,e){return rb.apply(this,arguments)}function rb(){return rb=_(function*(n,e){return Nt(n,"POST","/v1/accounts:lookup",e)}),rb.apply(this,arguments)}function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function ib(){return ib=_(function*(n,e=!1){const t=on(n),r=yield t.getIdToken(e),i=Nf(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zc(sb(i.auth_time)),issuedAtTime:Zc(sb(i.iat)),expirationTime:Zc(sb(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),ib.apply(this,arguments)}function sb(n){return 1e3*Number(n)}function Nf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return JM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(Mf("Failed to decode base64 JWT payload"),null)}catch(i){return Mf("Caught error parsing JWT payload as JSON",i),null}}function li(n,e){return ob.apply(this,arguments)}function ob(){return ob=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ps&&c9(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),ob.apply(this,arguments)}function c9({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class l9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class fO{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function el(n){return ab.apply(this,arguments)}function ab(){return ab=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield li(n,o9(t,{idToken:r}));k(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?f9(s.providerUserInfo):[],a=h9(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),ab.apply(this,arguments)}function ub(){return ub=_(function*(n){const e=on(n);yield el(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),ub.apply(this,arguments)}function h9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f9(n){return n.map(e=>{var{providerId:t}=e,r=tO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function cb(){return cb=_(function*(n,e){const t=yield dO(n,{},_(function*(){const r=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=hO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),cb.apply(this,arguments)}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(void 0!==e.idToken,"internal-error"),k(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function u9(n){const e=Nf(n);return k(e,"internal-error"),k(void 0!==e.exp,"internal-error"),k(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function p9(n,e){return cb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new tl;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function $i(n,e){k("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Us{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=tO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new l9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new fO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield li(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function a9(n){return ib.apply(this,arguments)}(this,e)}reload(){return function d9(n){return ub.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield el(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield li(e,function i9(n,e){return tb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,y=null!==(o=t.photoURL)&&void 0!==o?o:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,T=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:P,emailVerified:G,isAnonymous:ne,providerData:wt,stsTokenManager:Fn}=t;k(P&&Fn,e,"internal-error");const ul=tl.fromJSON(this.name,Fn);k("string"==typeof P,e,"internal-error"),$i(d,e.name),$i(h,e.name),k("boolean"==typeof G,e,"internal-error"),k("boolean"==typeof ne,e,"internal-error"),$i(f,e.name),$i(y,e.name),$i(w,e.name),$i(E,e.name),$i(T,e.name),$i(C,e.name);const Gs=new Us({uid:P,auth:e,email:h,emailVerified:G,displayName:d,isAnonymous:ne,photoURL:y,phoneNumber:f,tenantId:w,stsTokenManager:ul,createdAt:T,lastLoginAt:C});return wt&&Array.isArray(wt)&&(Gs.providerData=wt.map(cl=>Object.assign({},cl))),E&&(Gs._redirectEventId=E),Gs}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new tl;i.updateFromServerResponse(t);const s=new Us({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield el(s),s})()}}const pO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Rf(n,e,t){return`firebase:${n}:${e}:${t}`}class Fa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Us._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Fa(ui(pO),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ui(pO);const o=Rf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Us._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Fa(s,e,r)):new Fa(s,e,r)})()}}function gO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wO(e))return"Blackberry";if(bO(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||yO(e))&&!e.includes("edge/"))return"Chrome";if(vO(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function mO(n=It()){return/firefox\//i.test(n)}function lb(n=It()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yO(n=It()){return/crios\//i.test(n)}function _O(n=It()){return/iemobile/i.test(n)}function vO(n=It()){return/android/i.test(n)}function wO(n=It()){return/blackberry/i.test(n)}function bO(n=It()){return/webos/i.test(n)}function kf(n=It()){return/iphone|ipad|ipod/i.test(n)}function CO(n=It()){return kf(n)||vO(n)||bO(n)||wO(n)||/windows phone/i.test(n)||_O(n)}function EO(n,e=[]){let t;switch(n){case"Browser":t=gO(It());break;case"Worker":t=`${gO(It())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.4/${e.length?e.join(","):"FirebaseCore-web"}`}class _9{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DO(this),this.idTokenSubscription=new DO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Fa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield el(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function e9(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?on(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return _(function*(){if(!t._deleted)return e&&k(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(_(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ui(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&ui(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield Fa.create(t,[ui(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function wn(n){return on(n)}class DO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function G8(n,e){const t=new q8(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class AO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}function MO(n,e){return hb.apply(this,arguments)}function hb(){return hb=_(function*(n,e){return Nt(n,"POST","/v1/accounts:update",e)}),hb.apply(this,arguments)}function pb(){return pb=_(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithPassword",_t(n,e))}),pb.apply(this,arguments)}function wb(){return wb=_(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithEmailLink",_t(n,e))}),wb.apply(this,arguments)}function bb(){return bb=_(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithEmailLink",_t(n,e))}),bb.apply(this,arguments)}class nl extends AO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new nl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return function C9(n,e){return pb.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function A9(n,e){return wb.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return MO(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function S9(n,e){return bb.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function di(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=_(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithIdp",_t(n,e))}),Cb.apply(this,arguments)}class sl{constructor(e){var t,r,i,s,o,a;const u=ec(tc(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function P9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);k(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function F9(n){const e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,r=ec(tc(n)).deep_link_id;return(r?ec(tc(r)).link:null)||r||t||e||n}(e);try{return new sl(t)}catch(r){return null}}}let xO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return nl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=sl.parseLink(r);return k(i,"argument-error"),nl._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class L9 extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Us._fromIdTokenResponse(e,r,i),o=RO(r);return new Zn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=RO(r);return new Zn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function RO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ff extends ps{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ff(e,t,r,i)}}function kO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ff._fromErrorAndOperation(n,s,e,r):s})}function Nb(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=_(function*(n,e,t=!1){const r=yield li(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zn._forOperation(n,"link",r)}),Rb.apply(this,arguments)}function Ob(){return Ob=_(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield li(n,kO(r,i,e,n),t);k(s.idToken,r,"internal-error");const o=Nf(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(n.uid===a,r,"user-mismatch"),Zn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&vn(r,"user-mismatch"),s}}),Ob.apply(this,arguments)}function FO(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=_(function*(n,e,t=!1){const r="signIn",i=yield kO(n,r,e),s=yield Zn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),Pb.apply(this,arguments)}function Lb(){return Lb=_(function*(n,e){return FO(wn(n),e)}),Lb.apply(this,arguments)}function iC(){return iC=_(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield li(n,MO(r,s));yield n._updateTokensIfNecessary(o,!0)}),iC.apply(this,arguments)}const Uf="__sak";class VO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sK=(()=>{class n extends VO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nK(){const n=It();return lb(n)||kf(n)}()&&function y9(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=CO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function m9(){return rx()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),UO=(()=>{class n extends VO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let aK=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function oK(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function lC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class uK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=lC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function vt(){return window}function dC(){return void 0!==vt().WorkerGlobalScope&&"function"==typeof vt().importScripts}function hC(){return(hC=_(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const BO="firebaseLocalStorageDb",Bf="firebaseLocalStorage",jO="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(n,e){return n.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function fC(){const n=indexedDB.open(BO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bf,{keyPath:jO})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),yield function pK(){const n=indexedDB.deleteDatabase(BO);return new al(n).toPromise()}(),e(yield fC()))}))})}function HO(n,e,t){return pC.apply(this,arguments)}function pC(){return pC=_(function*(n,e,t){const r=jf(n,!0).put({[jO]:e,value:t});return new al(r).toPromise()}),pC.apply(this,arguments)}function gC(){return gC=_(function*(n,e){const t=jf(n,!1).get(e),r=yield new al(t).toPromise();return void 0===r?null:r.value}),gC.apply(this,arguments)}function $O(n,e){const t=jf(n,!0).delete(e);return new al(t).toPromise()}const _K=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield fC()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return dC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=aK._getInstance(function hK(){return dC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function lK(){return hC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new uK(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function dK(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield fC();return yield HO(t,Uf,"1"),yield $O(t,Uf),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>HO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function gK(n,e){return gC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>$O(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=jf(o,!1).getAll();return new al(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function qO(n){return`__${n}${Math.floor(1e6*Math.random())}`}function js(n,e){return e?ui(e):(k(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}qO("rcb"),new Xc(3e4,6e4);class IC extends AO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return di(e,this._buildIdpRequest())}_linkToIdToken(e,t){return di(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return di(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PK(n){return FO(n.auth,new IC(n),n.bypassAuthState)}function FK(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),function PO(n,e){return Ob.apply(this,arguments)}(t,new IC(n),n.bypassAuthState)}function LK(n){return TC.apply(this,arguments)}function TC(){return TC=_(function*(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),Nb(t,new IC(n),n.bypassAuthState)}),TC.apply(this,arguments)}new Xc(2e3,1e4);const $f=new Map;class BK extends class VK{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PK;case"linkViaPopup":case"linkViaRedirect":return LK;case"reauthViaPopup":case"reauthViaRedirect":return FK;default:vn(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=$f.get(t.auth._key());if(!r){try{const s=(yield function jK(n,e){return NC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}$f.set(t.auth._key(),r)}return t.bypassAuthState||$f.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function NC(){return NC=_(function*(n,e){const t=KO(e),r=WO(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),NC.apply(this,arguments)}function WO(n){return ui(n._redirectPersistence)}function KO(n){return Rf("pendingRedirect",n.config.apiKey,n.name)}function QO(n,e){return VC.apply(this,arguments)}function VC(){return VC=_(function*(n,e,t=!1){const r=wn(n),i=js(r,e),o=yield new BK(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),VC.apply(this,arguments)}class zK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function WK(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(JO(e))}saveEventToCache(e){this.cachedEventUids.add(JO(e)),this.lastProcessedEventTime=Date.now()}}function JO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function KK(n){return BC.apply(this,arguments)}function BC(){return BC=_(function*(n,e={}){return Nt(n,"GET","/v1/projects",e)}),BC.apply(this,arguments)}const QK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YK=/^https?/;function jC(){return jC=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield KK(n);for(const t of e)try{if(XK(t))return}catch(r){}vn(n,"unauthorized-domain")}),jC.apply(this,arguments)}function XK(n){const e=Jc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!YK.test(t))return!1;if(QK.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ZK=new Xc(3e4,6e4);function ZO(){const n=vt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Gf=null;function tQ(n){return Gf=Gf||function eQ(n){return new Promise((e,t)=>{var r,i,s;function o(){ZO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZO(),t(Fr(n,"network-request-failed"))},timeout:ZK.get()})}if(null===(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=vt().gapi)||void 0===s?void 0:s.load)){const a=qO("iframefcb");return vt()[a]=()=>{gapi.load?o():t(Fr(n,"network-request-failed"))},function GO(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function CK(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Gf=null,e})}(n),Gf}const nQ=new Xc(5e3,15e3),sQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aQ(n){const e=n.config;k(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:"9.6.4"},i=oQ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${mh(r).slice(1)}`}function HC(){return HC=_(function*(n){const e=yield tQ(n),t=vt().gapi;return k(t,n,"internal-error"),e.open({where:document.body,url:aQ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sQ,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Fr(n,"network-request-failed"),u=vt().setTimeout(()=>{o(a)},nQ.get());function c(){vt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),HC.apply(this,arguments)}const cQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function tP(n,e,t,r,i,s){k(n.config.authDomain,n,"auth-domain-config-required"),k(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:"9.6.4",eventId:i};if(e instanceof Gi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function $8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof L9){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function _Q({config:n}){return n.emulator?Jw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${mh(a).slice(1)}`}const $C="webStorageSupport",wQ=class vQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UO,this._completeRedirectFn=QO}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;Hi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=tP(e,t,r,Jc(),i);return function pQ(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},cQ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=It().toLowerCase();t&&(a=yO(c)?"_blank":t),mO(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(function g9(n=It()){var e;return kf(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function gQ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new eP(null);const d=window.open(e||"",a,l);k(d,n,"popup-blocked");try{d.focus()}catch(h){}return new eP(d)}(e,a,lC())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function cK(n){vt().location.href=n}(tP(e,t,r,Jc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function uQ(n){return HC.apply(this,arguments)}(e),i=new zK(e);return r.register("authEvent",s=>(k(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($C,{type:$C},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[$C];void 0!==o&&t(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function JK(n){return jC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CO()||lb()||kf()}};var rP="@firebase/auth";class bQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function EQ(n){nc(new Qo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{k(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),k(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EO(n)},u=new _9(o,a);return function XW(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ui);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),nc(new Qo("auth-internal",e=>{const t=wn(e.getProvider("auth").getImmediate());return new bQ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(rP,"0.19.6",function CQ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Si(rP,"0.19.6","esm2017")}("Browser");let Hs=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyA-d67oIXZXuuQeM_kM0gWXjUNi51haGCs",authDomain:"oldvibescaffe.firebaseapp.com",projectId:"oldvibescaffe",storageBucket:"oldvibescaffe.appspot.com",messagingSenderId:"103711601789",appId:"1:103711601789:web:8e66066e603bb9fbc42d14",measurementId:"G-NJNQLF5PY9"},this.app=function F6(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw rc.create("bad-app-name",{appName:String(r)});const i=ms.get(r);if(i){if(gh(n,i.options)&&gh(t,i.config))return i;throw rc.create("duplicate-app",{appName:r})}const s=new t6(r);for(const a of yh.values())s.addComponent(a);const o=new P6(n,t,s);return ms.set(r,o),o}(this.firebaseConfig),this.auth=function DQ(n=ux()){const e=_h(n,"auth");return e.isInitialized()?e.getImmediate():function JW(n,e){const t=_h(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(gh(t.getOptions(),null!=e?e:{}))return i;vn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:wQ,persistence:[_K,sK,UO]})}(this.app)}getFirebaseApp(){return this.app}signinWithEmailPass(t,r){var i=this;return _(function*(){return yield function G9(n,e,t){return function Fb(n,e){return Lb.apply(this,arguments)}(on(n),xO.credential(e,t))}(i.auth,t,r).then(s=>{i.user=s.user}).catch(s=>{}),i.user})()}getUser(){return this.user}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$s=(()=>{class n{constructor(t){this.loginService=t,this.categories=[{name:"Breads & Omelettes",imageurl:"/assets/img1.jpg"},{name:"Pizza's & Pasta's",imageurl:"/assets/img2.jpg"},{name:"Burgers & Fries",imageurl:"/assets/img3.jpg"},{name:"TeaCoffee Mocktails",imageurl:"/assets/img4.jpg"},{name:"Smoothies & Desserts",imageurl:"/assets/img5.jpg"}],this.app=this.loginService.getFirebaseApp(),this.db=Ok(this.app)}getDatabase(){return this.db}getCategories(){return this.categories}getBreadsOmelettes(){var t=this;return _(function*(){var r=[];try{(yield ka(Xn(t.db,"FoodCategories/categories/breadsomelettes"))).forEach(s=>{let o={id:s.id,name:s.data().name,price:s.data().price,discount:s.data().discount,category:"breadsomelettes",subcategory:s.data().subcategory};o.discount||(o.discount=o.price),"subcategory"!=o.id&&r.push(o)})}catch(i){console.log(i)}return r})()}getPizzasPastas(){var t=this;return _(function*(){var r=[];try{(yield ka(Xn(t.db,"FoodCategories/categories/pizzaspastas"))).forEach(s=>{const o={id:s.id,name:s.data().name,price:s.data().price,discount:s.data().discount,category:"pizzaspastas",subcategory:s.data().subcategory};o.discount||(o.discount=o.price),"subcategory"!=o.id&&r.push(o)})}catch(i){console.log(i)}return r})()}getBurgersFries(){var t=this;return _(function*(){var r=[];try{(yield ka(Xn(t.db,"FoodCategories/categories/bergersfries"))).forEach(s=>{const o={id:s.id,name:s.data().name,price:s.data().price,discount:s.data().discount,category:"bergersfries",subcategory:s.data().subcategory};o.discount||(o.discount=o.price),"subcategory"!=o.id&&r.push(o)})}catch(i){console.log(i)}return r})()}getTeasCoffeesMocktails(){var t=this;return _(function*(){var r=[];try{(yield ka(Xn(t.db,"FoodCategories/categories/teascoffeesmocktails"))).forEach(s=>{const o={id:s.id,name:s.data().name,price:s.data().price,discount:s.data().discount,category:"teascoffeesmocktails",subcategory:s.data().subcategory};o.discount||(o.discount=o.price),"subcategory"!=o.id&&r.push(o)})}catch(i){console.log(i)}return r})()}getSmoothiesDesserts(){var t=this;return _(function*(){var r=[];try{(yield ka(Xn(t.db,"FoodCategories/categories/smoothiesdesserts"))).forEach(s=>{const o={id:s.id,name:s.data().name,price:s.data().price,discount:s.data().discount,category:"smoothiesdesserts",subcategory:s.data().subcategory};o.discount||(o.discount=o.price),"subcategory"!=o.id&&r.push(o)})}catch(i){console.log(i)}return r})()}addItemtoBreadsOmellettes(t,r,i){var s=this;return _(function*(){try{const o=Xn(s.db,"FoodCategories/categories/breadsomelettes");yield Oa(o,{name:t,price:r,discount:r,category:"breadsomelettes",subcategory:i})}catch(o){console.log(o)}})()}addItemtoPizzasPastas(t,r,i){var s=this;return _(function*(){try{const o=Xn(s.db,"FoodCategories/categories/pizzaspastas");yield Oa(o,{name:t,price:r,discount:r,subcategory:i,category:"pizzaspastas"})}catch(o){console.log(o)}})()}addItemtoBergersFries(t,r,i){var s=this;return _(function*(){try{const o=Xn(s.db,"FoodCategories/categories/bergersfries");yield Oa(o,{name:t,price:r,discount:r,subcategory:i,category:"bergersfries"})}catch(o){console.log(o)}})()}addItemtoTeasCoffeesMocktails(t,r,i){var s=this;return _(function*(){try{const o=Xn(s.db,"FoodCategories/categories/teascoffeesmocktails");yield Oa(o,{name:t,price:r,discount:r,subcategory:i,category:"teascoffeesmocktails"})}catch(o){console.log(o)}})()}addItemtoSmoothiesDesserts(t,r,i){var s=this;return _(function*(){try{const o=Xn(s.db,"FoodCategories/categories/smoothiesdesserts");yield Oa(o,{name:t,price:r,discount:r,subcategory:i,category:"smoothiesdesserts"})}catch(o){console.log(o)}})()}}return n.\u0275fac=function(t){return new(t||n)(W(Hs))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IQ(n,e){if(1&n){const t=dt();p(0,"div",13),p(1,"div",14),R("click",function(){const s=ut(t).$implicit;return U().changeList(s.name)}),p(2,"h6",15),b(3),g(),M(4,"img",16),g(),g()}if(2&n){const t=e.$implicit,r=e.index,i=U();m(1),v("classList",i.listHidden[r]?" bg-header":"clicked bg-header"),m(2),B(t.name),m(1),v("src",t.imageurl,es)}}function TQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function AQ(n,e){if(1&n&&(p(0,"div"),L(1,TQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Bread"==t.subcategory)}}function SQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function MQ(n,e){if(1&n&&(p(0,"div"),L(1,SQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Omelette"==t.subcategory)}}function xQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function NQ(n,e){if(1&n&&(p(0,"div"),L(1,xQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Bread"!=t.subcategory&&"Omelette"!=t.subcategory)}}function RQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function kQ(n,e){if(1&n&&(p(0,"div"),L(1,RQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pizza"==t.subcategory)}}function OQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function PQ(n,e){if(1&n&&(p(0,"div"),L(1,OQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pasta"==t.subcategory)}}function FQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function LQ(n,e){if(1&n&&(p(0,"div"),L(1,FQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pizza"!=t.subcategory&&"Pasta"!=t.subcategory)}}function VQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function UQ(n,e){if(1&n&&(p(0,"div"),L(1,VQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Burger"==t.subcategory)}}function BQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function jQ(n,e){if(1&n&&(p(0,"div"),L(1,BQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Fries"==t.subcategory)}}function HQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function $Q(n,e){if(1&n&&(p(0,"div"),L(1,HQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Burger"!=t.subcategory&&"Fries"!=t.subcategory)}}function GQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function qQ(n,e){if(1&n&&(p(0,"div"),L(1,GQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Tea"==t.subcategory)}}function zQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function WQ(n,e){if(1&n&&(p(0,"div"),L(1,zQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Coffee"==t.subcategory)}}function KQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function QQ(n,e){if(1&n&&(p(0,"div"),L(1,KQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Mocktail"==t.subcategory)}}function YQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function JQ(n,e){if(1&n&&(p(0,"div"),L(1,YQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Mocktail"!=t.subcategory&&"Tea"!=t.subcategory&&"Coffee"!=t.subcategory)}}function XQ(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function ZQ(n,e){if(1&n&&(p(0,"div"),L(1,XQ,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Smoothie"==t.subcategory)}}function eY(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function tY(n,e){if(1&n&&(p(0,"div"),L(1,eY,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Dessert"==t.subcategory)}}function nY(n,e){if(1&n&&(p(0,"div",18),p(1,"div",19),p(2,"span"),b(3),g(),g(),p(4,"div",20),p(5,"span"),b(6),ae(7,"currency"),g(),M(8,"br"),p(9,"span",21),b(10),ae(11,"currency"),g(),g(),g()),2&n){const t=U().$implicit;m(3),B(t.name),m(2),Ie(t.discount<t.price?"text-decoration: line-through;":""),m(1),B(ue(7,6,t.price,"INR")),m(3),v("hidden",t.discount==t.price),m(1),B(ue(11,9,t.discount,"INR"))}}function rY(n,e){if(1&n&&(p(0,"div"),L(1,nY,12,12,"div",17),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Smoothie"!=t.subcategory&&"Dessert"!=t.subcategory)}}let iY=(()=>{class n{constructor(t){this.firestoreservice=t,this.breadomelette=[],this.pizzapasta=[],this.burgerfries=[],this.teacoffeemocktails=[],this.smoothiesdesserts=[],this.listHidden=[!1,!0,!0,!0,!0]}ngOnInit(){var t=this;return _(function*(){t.categories=t.firestoreservice.getCategories(),yield t.firestoreservice.getBreadsOmelettes().then(r=>{t.breadomelette=r.sort(t.camparator)}),t.firestoreservice.getBurgersFries().then(r=>{t.burgerfries=r.sort(t.camparator)}),t.firestoreservice.getPizzasPastas().then(r=>{t.pizzapasta=r.sort(t.camparator)}),t.firestoreservice.getTeasCoffeesMocktails().then(r=>{t.teacoffeemocktails=r.sort(t.camparator)}),t.firestoreservice.getSmoothiesDesserts().then(r=>{t.smoothiesdesserts=r.sort(t.camparator)})})()}camparator(t,r){return t.price>r.price?1:-1}changeList(t){for(let r=0;r<5;r++)this.listHidden[r]=this.categories[r].name!=t}}return n.\u0275fac=function(t){return new(t||n)(I($s))},n.\u0275cmp=Vn({type:n,selectors:[["app-display"]],decls:52,vars:24,consts:[[1,"main"],[1,"header"],["id","header-name"],["id","header-button",3,"routerLink","replaceUrl"],[1,"menu"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"row","list1","list",3,"hidden"],[4,"ngFor","ngForOf"],[1,"row","list2","list",3,"hidden"],[1,"row","list3","list",3,"hidden"],[1,"row","list4","list",3,"hidden"],[1,"row","list5","list",3,"hidden"],[1,"col"],[3,"classList","click"],["id","category-text"],["id","category-img","alt","img",3,"src"],["class","item",4,"ngIf"],[1,"item"],[1,"name"],[1,"price"],[3,"hidden"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"h6",2),b(3,"Old Vibes Cafe"),g(),p(4,"button",3),b(5,"Admin Login"),g(),g(),p(6,"div",4),p(7,"div",5),L(8,IQ,5,3,"div",6),g(),p(9,"div",7),L(10,AQ,2,1,"div",8),M(11,"br"),M(12,"br"),L(13,MQ,2,1,"div",8),M(14,"br"),M(15,"br"),L(16,NQ,2,1,"div",8),g(),p(17,"div",9),L(18,kQ,2,1,"div",8),M(19,"br"),M(20,"br"),L(21,PQ,2,1,"div",8),M(22,"br"),M(23,"br"),L(24,LQ,2,1,"div",8),g(),p(25,"div",10),L(26,UQ,2,1,"div",8),M(27,"br"),M(28,"br"),L(29,jQ,2,1,"div",8),M(30,"br"),M(31,"br"),L(32,$Q,2,1,"div",8),g(),p(33,"div",11),L(34,qQ,2,1,"div",8),M(35,"br"),M(36,"br"),L(37,WQ,2,1,"div",8),M(38,"br"),M(39,"br"),L(40,QQ,2,1,"div",8),M(41,"br"),M(42,"br"),L(43,JQ,2,1,"div",8),g(),p(44,"div",12),L(45,ZQ,2,1,"div",8),M(46,"br"),M(47,"br"),L(48,tY,2,1,"div",8),M(49,"br"),M(50,"br"),L(51,rY,2,1,"div",8),g(),g(),g()),2&t&&(m(4),v("routerLink","login")("replaceUrl",!0),m(4),v("ngForOf",r.categories),m(1),v("hidden",r.listHidden[0]),m(1),v("ngForOf",r.breadomelette),m(3),v("ngForOf",r.breadomelette),m(3),v("ngForOf",r.breadomelette),m(1),v("hidden",r.listHidden[1]),m(1),v("ngForOf",r.pizzapasta),m(3),v("ngForOf",r.pizzapasta),m(3),v("ngForOf",r.pizzapasta),m(1),v("hidden",r.listHidden[2]),m(1),v("ngForOf",r.burgerfries),m(3),v("ngForOf",r.burgerfries),m(3),v("ngForOf",r.burgerfries),m(1),v("hidden",r.listHidden[3]),m(1),v("ngForOf",r.teacoffeemocktails),m(3),v("ngForOf",r.teacoffeemocktails),m(3),v("ngForOf",r.teacoffeemocktails),m(3),v("ngForOf",r.teacoffeemocktails),m(1),v("hidden",r.listHidden[4]),m(1),v("ngForOf",r.smoothiesdesserts),m(3),v("ngForOf",r.smoothiesdesserts),m(3),v("ngForOf",r.smoothiesdesserts))},directives:[hh,Uo,jm],pipes:[xd],styles:[".item[_ngcontent-%COMP%]{width:100%}.name[_ngcontent-%COMP%]{float:left;width:65%;text-align:end}.price[_ngcontent-%COMP%]{float:left;text-align:center;width:30%;margin-left:5%}.price[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:700;font-size:4vw}#header-name[_ngcontent-%COMP%]{font-size:6vw;margin-left:5px}#header-button[_ngcontent-%COMP%]{font-size:3vw}#category-text[_ngcontent-%COMP%]{text-align:center;font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:700;font-size:4vw}#category-img[_ngcontent-%COMP%]{width:100%;height:125px}.bg-header[_ngcontent-%COMP%]{margin-bottom:5px;cursor:pointer;padding-top:10px;background-color:#7fffd4;border-top-left-radius:5px;border-top-right-radius:5px}@media screen and (min-width:500px){#header-name[_ngcontent-%COMP%]{font-size:large;margin-left:100px;font-weight:500}#header-button[_ngcontent-%COMP%]{font-size:small}#category-text[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{font-size:medium}}@media screen and (min-width:800px){.item[_ngcontent-%COMP%]{width:50%;margin-inline:25%}.price[_ngcontent-%COMP%]{width:25%;text-align:center}.name[_ngcontent-%COMP%]{width:70%;text-align:end}.bg-header[_ngcontent-%COMP%]{height:200px;margin-bottom:20px}#category-img[_ngcontent-%COMP%]{height:81%}#category-text[_ngcontent-%COMP%]{height:19%}.name[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-family:cursive;font-size:small}}.main[_ngcontent-%COMP%]{background-color:#ffffe0;padding-bottom:100px}.header[_ngcontent-%COMP%]{width:100%;background-color:#000;height:47px}#header-name[_ngcontent-%COMP%]{font-family:cursive;color:#f5f5f5;float:left;margin-top:9px;vertical-align:middle}#header-button[_ngcontent-%COMP%]{height:30px;width:-moz-fit-content;width:fit-content;float:right;margin:5px;background:transparent;border-color:#fff;border-radius:5px;border-width:2px;border-style:solid;color:#fff;z-index:1;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#header-button[_ngcontent-%COMP%]:hover{background-color:#add8e6;color:#000;border-color:#000;text-shadow:0 8px 16px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.clicked[_ngcontent-%COMP%], .bg-header[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.item[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.list[_ngcontent-%COMP%]{padding-bottom:50px}.list1[_ngcontent-%COMP%]{background-color:#ffb6c1}.list2[_ngcontent-%COMP%]{background-color:#f08080}.list3[_ngcontent-%COMP%]{background-color:#90ee90}.list4[_ngcontent-%COMP%]{background-color:wheat}.list5[_ngcontent-%COMP%]{background-color:#87cefa}.menu[_ngcontent-%COMP%]{margin:20px}.list1[_ngcontent-%COMP%], .list2[_ngcontent-%COMP%], .list3[_ngcontent-%COMP%], .list4[_ngcontent-%COMP%], .list5[_ngcontent-%COMP%]{margin:5px;box-shadow:0 8px 16px #0003,0 6px 20px #00000030}"]}),n})(),GC=(()=>{class n{constructor(t){this.login=t,this.app=this.login.getFirebaseApp(),this.db=Ok(this.app)}uploadBill(t){var r=this;return _(function*(){const i=new Date(t.timestamp),s=i.getFullYear(),o=i.getMonth(),a=i.getDate(),u="sales/yearly/"+s+"/months/"+o+"/days/"+a;let c;try{return yield Oa(Xn(r.db,u),t).then(l=>{c=l.id},l=>{throw c=0,"can't add bill doc"}),yield qw(dn(r.db,"customers/"+t.name),{name:t.name,number:t.number}).then(l=>{},l=>{throw"can't add customer doc"}),yield Ww(r.db,function(){var l=_(function*(d){var h;const f=dn(r.db,"sales/yearly/"+s+"/months/"+o+"/days/"+a+"/report"),y=yield d.get(f);y.exists()?((h=y.data()).revenue+=t.totalPay,h.costumerCount+=1):h={revenue:t.totalPay,costumerCount:1},d.set(f,h)});return function(d){return l.apply(this,arguments)}}()),yield Ww(r.db,function(){var l=_(function*(d){var h;const f=dn(r.db,"sales/yearly/"+s+"/months/"+o+"/report"),y=yield d.get(f);y.exists()?((h=y.data()).revenue+=t.totalPay,h.costumerCount+=1):h={revenue:t.totalPay,costumerCount:1},d.set(f,h)});return function(d){return l.apply(this,arguments)}}()),yield Ww(r.db,function(){var l=_(function*(d){var h;const f=dn(r.db,"sales/yearly/"+s+"/report"),y=yield d.get(f);y.exists()?((h=y.data()).revenue+=t.totalPay,h.costumerCount+=1):h={revenue:t.totalPay,costumerCount:1},d.set(f,h)});return function(d){return l.apply(this,arguments)}}()),!0}catch(l){return!1}})()}getBillNo(t,r,i){var s=this;return _(function*(){const a=dn(s.db,"sales/yearly/"+i+"/months/"+r+"/days/"+t+"/report"),u=yield Ls(a);return u.exists()?u.data().costumerCount+1:1})()}getDailyRevenue(t,r,i){var s=this;return _(function*(){const a=dn(s.db,"sales/yearly/"+i+"/months/"+r+"/days/"+t+"/report"),u=yield Ls(a);return u.exists()?u.data().revenue:0})()}getMonthlyRevenue(t,r){var i=this;return _(function*(){const o=dn(i.db,"sales/yearly/"+r+"/months/"+t+"/report"),a=yield Ls(o);return a.exists()?a.data().revenue:0})()}getYearlyRevenue(t){var r=this;return _(function*(){const s=dn(r.db,"sales/yearly/"+t+"/report"),o=yield Ls(s);return o.exists()?o.data().revenue:0})()}getBills(t,r,i){var s=this;return _(function*(){const o=function UW(n,...e){for(const t of e)n=t._apply(n);return n}(Xn(s.db,"sales/yearly/"+i+"/months/"+r+"/days/"+t)),a=ka(o);var c,u=[];return(yield a).forEach(l=>{"report"!=l.id?u.push(l.data()):c=l.data()}),u.length>0&&u.push(c),u})()}}return n.\u0275fac=function(t){return new(t||n)(W(Hs))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sY=function(){return["menu"]},oY=function(){return["sales"]},aY=function(){return["details"]};let uY=(()=>{class n{constructor(t,r,i){this.router=t,this.loginService=r,this.billService=i,this.dailyRevenue=0,this.monthlyRevenue=0,this.yearlyRevenue=0,this.currentUser=this.loginService.getUser(),this.currentUser||this.router.navigate(["/login"])}ngOnInit(){const t=new Date,r=t.getFullYear(),i=t.getMonth(),s=t.getDate();this.billService.getDailyRevenue(s,i,r).then(o=>{this.dailyRevenue=o}),this.billService.getMonthlyRevenue(i,r).then(o=>{this.monthlyRevenue=o}),this.billService.getYearlyRevenue(r).then(o=>{this.yearlyRevenue=o})}}return n.\u0275fac=function(t){return new(t||n)(I(gt),I(Hs),I(GC))},n.\u0275cmp=Vn({type:n,selectors:[["app-dashboard"]],decls:19,vars:12,consts:[[1,"navbar","navbar-expand-lg","navbar-light","header"],["id","navbarNavAltMarkup",1,"links"],[1,"navbar-nav"],[1,"nav-item","nav-link","active",3,"routerLink","replaceUrl"],[1,"nav-item","nav-link",3,"routerLink","replaceUrl"],[1,"figures"],[1,"text-black"],[1,"border","border-dark","text-black","pad"]],template:function(t,r){1&t&&(p(0,"ul",0),p(1,"div",1),p(2,"div",2),p(3,"a",3),b(4,"Menu"),g(),p(5,"a",4),b(6,"Sales"),g(),p(7,"a",4),b(8,"Owner Details"),g(),g(),g(),p(9,"div",5),p(10,"span",6),b(11,"Revenue "),g(),p(12,"span",7),b(13),g(),p(14,"span",7),b(15),g(),p(16,"span",7),b(17),g(),g(),g(),M(18,"router-outlet")),2&t&&(m(3),v("routerLink",dd(9,sY))("replaceUrl",!0),m(2),v("routerLink",dd(10,oY))("replaceUrl",!0),m(2),v("routerLink",dd(11,aY))("replaceUrl",!0),m(6),et("Today: \u20b9 ",r.dailyRevenue," "),m(2),et("Month: \u20b9 ",r.monthlyRevenue," "),m(2),et("Year: \u20b9 ",r.yearlyRevenue," "))},directives:[fh,ih],styles:["@media screen and (min-width :700px){.links[_ngcontent-%COMP%]{width:100%}.figures[_ngcontent-%COMP%]{width:100%;margin:0}}.header[_ngcontent-%COMP%]{background-color:#87cefa;margin-bottom:0}div[_ngcontent-%COMP%]{text-align:center}.figures[_ngcontent-%COMP%]{float:right;margin-right:250px}.pad[_ngcontent-%COMP%]{padding:5px}"]}),n})(),cY=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.loginService=r,this.router=i,this.firestoreapp=s,this.email="",this.loginform=this.formBuilder.group({password:[""]}),this.detailsform=this.formBuilder.group({address:[""],contact:[""]})}ngOnInit(){this.user=this.loginService.getUser(),null!=this.user&&this.user.email?this.email=this.user.email:this.router.navigate(["login"])}onSubmit(){let t=this.loginform.controls.password.value;""!=t&&(function W9(n,e){return function LO(n,e,t){return iC.apply(this,arguments)}(on(n),null,e)}(this.user,t).then(()=>{alert("Password Successfully changed!")}).catch(r=>{alert("Password can't change now, Try again letter!")}),this.loginform.controls.password.setValue(""))}submitContact(){var t=this;return _(function*(){let r=t.firestoreapp.getDatabase();yield qw(dn(r,"ownerDetails/contact"),{contact:t.contact}).then(()=>{alert("Contact Saved Successfully!")}).catch(i=>{alert("Contact can't change now, Try again letter!")})})()}}return n.\u0275fac=function(t){return new(t||n)(I($S),I(Hs),I(gt),I($s))},n.\u0275cmp=Vn({type:n,selectors:[["app-details"]],decls:26,vars:3,consts:[[1,"form"],[1,"login-form"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","name","email","id","email","placeholder","Enter Email","disabled","",1,"form-control",3,"value"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Enter Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","login-btn","col-sm-12"],[1,"contactDetails"],["for","contact",1,"form-label"],["type","number","min","1000000000","name","contact","id","contact","placeholder","Enter contact",3,"ngModel","ngModelChange"],["type","submit",1,"btn","login-btn","col-sm-6",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"h5"),b(2,"Login Details"),g(),p(3,"div",1),p(4,"form",2),R("ngSubmit",function(){return r.onSubmit()}),p(5,"div",3),p(6,"label",4),b(7,"Email address"),g(),M(8,"input",5),g(),p(9,"div",3),p(10,"label",6),b(11,"Password"),g(),M(12,"input",7),g(),M(13,"br"),p(14,"span"),b(15,"*you can login using these details"),g(),p(16,"button",8),b(17,"Update Login Details"),g(),g(),g(),p(18,"div",9),p(19,"div",3),p(20,"label",10),b(21,"Contact"),g(),p(22,"input",11),R("ngModelChange",function(s){return r.contact=s}),g(),g(),M(23,"br"),p(24,"button",12),R("click",function(){return r.submitContact()}),b(25,"Update COntact"),g(),g(),g()),2&t&&(m(4),v("formGroup",r.loginform),m(4),Hg("value",r.email),m(14),v("ngModel",r.contact))},directives:[Wd,Fd,Uu,Xr,as,Kd,Ho,jo,us],styles:[".form[_ngcontent-%COMP%]{width:50%;margin-inline:25%;padding-bottom:50px}h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{text-align:center;margin-top:50px;margin-bottom:0}.contactDetails[_ngcontent-%COMP%]{width:60%;margin-inline:20%;margin-top:10%;padding-bottom:40px}#contact[_ngcontent-%COMP%]{margin:5px}h6[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif}.login-form[_ngcontent-%COMP%]{width:60%;margin-inline:20%;margin-top:10%;padding-bottom:40px}.login-btn[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})(),qC=(()=>{class n{constructor(){this.tableArray=[],this.name="",this.number=0}removeLastTable(){this.tableArray.length>1&&this.tableArray.pop()}addTable(){this.tableArray.push(new Map)}getTotalTables(){return 0==this.tableArray.length&&this.addTable(),this.tableArray.length}pushToCart(t,r){r.count?this.tableArray[t].set(r.name,r):this.tableArray[t].delete(r.name)}removeItem(t,r){this.tableArray[t].has(r)&&this.tableArray[t].delete(r)}getCount(t,r){var i;return this.tableArray[t].has(r)?null===(i=this.tableArray[t].get(r))||void 0===i?void 0:i.count:0}getCart(t){return this.tableArray[t]}clearCart(t){return this.tableArray[t].clear(),!this.tableArray[t].size}saveClient(t,r){this.name=t,this.number=r}clearClient(){this.name="",this.number=0}getClient(){return{name:this.name,number:this.number}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lY(n,e){if(1&n&&(p(0,"option",15),b(1),g()),2&n){const t=e.$implicit;v("selected",t==U().item.subcategory),m(1),B(t)}}let dY=(()=>{class n{constructor(t,r,i){this.firestoreservice=t,this.cartService=r,this.router=i,this.item={name:"",price:0,id:"",category:"",discount:0,subcategory:""},this.isEditable=!1,this.deleteItemEvent=new je,this.mytableNo=0,this.myitemName=this.item.name,this.myitemCount=0,this.myitemSubcategory=this.item.subcategory,this.myitemPrice=this.item.price,this.myitemDiscount=this.item.discount,this.isChecked=!1,this.subcategories=[]}set tableno(t){this.mytableNo=t,this.getCount()}ngOnInit(){var t=this;return _(function*(){t.db=t.firestoreservice.getDatabase();const r="FoodCategories/categories/"+t.item.category+"/subcategory",i=yield Ls(dn(t.db,r));i.exists()&&(t.subcategories=i.data().listitem)})()}changeCategory(t){this.myitemSubcategory=this.subcategories[t.target.options.selectedIndex]}getCount(){const t=this.cartService.getCount(this.mytableNo,this.item.name);this.myitemCount=0,this.isChecked=!1,t&&(this.myitemCount=t),this.myitemCount>0&&(this.isChecked=!0)}makeChecked(){this.isChecked=!this.isChecked,this.myitemName=this.item.name,this.myitemPrice=this.item.price,this.myitemDiscount=this.item.discount,this.isChecked||(this.myitemCount=0,this.cartService.removeItem(this.mytableNo,this.item.name))}deleteItem(){var t=this;return _(function*(){confirm("Do you want to delete "+t.item.name+"?")&&(t.path="FoodCategories/categories/"+t.item.category+"/"+t.item.id,yield function GW(n){return Yc(we(n.firestore,$e),[new kc(n._key,ot.none())])}(dn(t.db,t.path.toString())).then(()=>{t.deleteItemEvent.emit(t.item.id)}))})()}changeCount(){this.cartService.pushToCart(this.mytableNo,{name:this.item.name,price:this.item.price,discount:this.item.discount,count:this.myitemCount})}saveChange(){var t=this;return _(function*(){if(t.myitemDiscount<0||t.myitemDiscount>t.myitemPrice)return void alert("The discounted price must be less than the Current Price!");const r=confirm("Do you want to change '"+t.item.name+"' to '"+t.myitemName+"' from price "+t.item.price+" to "+t.myitemPrice+" ?\nThis item has discounted price as "+t.myitemDiscount+". \nNote: We need to reload the page to display changes,So save your work before changes!");t.path="FoodCategories/categories/"+t.item.category+"/"+t.item.id,t.db=t.firestoreservice.getDatabase(),r&&(yield qw(dn(t.db,t.path.toString()),{name:t.myitemName,price:t.myitemPrice,category:t.item.category,discount:t.myitemDiscount,subcategory:t.myitemSubcategory}).then(()=>{t.makeChecked()}))})()}}return n.\u0275fac=function(t){return new(t||n)(I($s),I(qC),I(gt))},n.\u0275cmp=Vn({type:n,selectors:[["app-list-item"]],inputs:{item:"item",isEditable:"isEditable",tableno:"tableno"},outputs:{deleteItemEvent:"deleteItemEvent"},decls:28,vars:32,consts:[[1,"list-item","border","border-dark"],["id","delete-item",3,"hidden","click"],[1,"itemname",3,"hidden"],["type","text",3,"hidden","ngModel","ngModelChange"],["type","checkbox",1,"itemcheckbox",3,"checked","change"],["type","number","min","0",1,"iteminput",3,"disabled","hidden","ngModel","ngModelChange","change"],[3,"hidden"],["for","original-price",2,"width","65%",3,"hidden"],["type","number","min","0","id","origin-price",1,"iteminput",2,"width","30%",3,"hidden","ngModel","ngModelChange"],["for","discounted-price",2,"width","65%",3,"hidden"],["type","number","min","0","id","origin-price",1,"iteminput",2,"width","30%",3,"max","hidden","ngModel","ngModelChange"],["for","type-list1",2,"width","50%",3,"hidden"],["id","type-list1","name","type-list1",2,"width","50%",3,"hidden","change"],["value","option",3,"selected",4,"ngFor","ngForOf"],[3,"hidden","click"],["value","option",3,"selected"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"span",1),R("click",function(){return r.deleteItem()}),b(2,"\xd7"),g(),p(3,"span",2),b(4),g(),p(5,"input",3),R("ngModelChange",function(s){return r.myitemName=s}),g(),M(6,"br"),p(7,"input",4),R("change",function(){return r.makeChecked()}),g(),p(8,"input",5),R("ngModelChange",function(s){return r.myitemCount=s})("change",function(){return r.changeCount()}),g(),p(9,"span",6),b(10),ae(11,"currency"),g(),p(12,"span",6),b(13),ae(14,"currency"),g(),M(15,"br"),p(16,"label",7),b(17,"Original Price: "),g(),p(18,"input",8),R("ngModelChange",function(s){return r.myitemPrice=s}),g(),p(19,"label",9),b(20,"Discounted Price: "),g(),p(21,"input",10),R("ngModelChange",function(s){return r.myitemDiscount=s}),g(),p(22,"label",11),b(23,"Item Type "),g(),p(24,"select",12),R("change",function(s){return r.changeCategory(s)}),L(25,lY,2,2,"option",13),g(),p(26,"button",14),R("click",function(){return r.saveChange()}),b(27,"Save"),g(),g()),2&t&&(m(1),v("hidden",!r.isChecked||!r.isEditable),m(2),v("hidden",r.isEditable&&r.isChecked),m(1),B(r.item.name),m(1),v("hidden",!r.isChecked||!r.isEditable)("ngModel",r.myitemName),m(2),v("checked",r.isChecked),m(1),v("disabled",!r.isChecked)("hidden",r.isChecked&&r.isEditable)("ngModel",r.myitemCount),m(1),Ie(r.item.discount<r.item.price?"text-decoration: line-through;":""),v("hidden",r.isChecked&&r.isEditable),m(1),B(ue(11,26,r.item.price,"INR")),m(2),v("hidden",!(r.item.discount<r.item.price)||r.isChecked&&r.isEditable),m(1),B(ue(14,29,r.item.discount,"INR")),m(3),v("hidden",!r.isChecked||!r.isEditable),m(2),v("hidden",!r.isChecked||!r.isEditable)("ngModel",r.myitemPrice),m(1),v("hidden",!r.isChecked||!r.isEditable),m(2),v("max",r.myitemPrice)("hidden",!r.isChecked||!r.isEditable)("ngModel",r.myitemDiscount),m(1),v("hidden",!r.isChecked||!r.isEditable),m(2),v("hidden",!r.isChecked||!r.isEditable),m(1),v("ngForOf",r.subcategories),m(1),v("hidden",!r.isChecked||!r.isEditable))},directives:[Xr,as,us,Ho,jo,Cy,Uo,vy,by],pipes:[xd],styles:[".itemname[_ngcontent-%COMP%]{font-size:.95em;font-family:Georgia,Times New Roman,Times,sans-serif}span[_ngcontent-%COMP%]{margin-inline:3px}button[_ngcontent-%COMP%]{size:40px;margin:5px;background-color:#4caf50;border-radius:5px;color:#fff;font-size:80%}button[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.iteminput[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:30%;margin-inline:5px}.list-item[_ngcontent-%COMP%]{margin-top:10px;padding:10px}#delete-item[_ngcontent-%COMP%]{float:right;color:gray;cursor:pointer}#delete-item[_ngcontent-%COMP%]:hover{z-index:1;color:#000}.list-item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003,0 6px 20px #00000030}"]}),n})();const hY=function(n){return["table",n]};function fY(n,e){if(1&n){const t=dt();p(0,"div"),p(1,"button",62),R("click",function(){const s=ut(t).index;return U().changeTable(s)}),b(2),g(),g()}if(2&n){const t=e.index,r=U();m(1),v("ngClass",i1(2,hY,r.tableNo==t?"clicked":"")),m(1),B(t+1)}}function pY(n,e){if(1&n&&(p(0,"div",63),p(1,"div",64),p(2,"h6",65),b(3),g(),M(4,"img",66),g(),g()),2&n){const t=e.$implicit;m(3),B(t.name),m(1),v("src",t.imageurl,es)}}function gY(n,e){if(1&n){const t=dt();p(0,"app-list-item",68),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList1(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("tableno",r.tableNo)("isEditable",!r.isHidden)}}function mY(n,e){if(1&n&&(p(0,"div",8),L(1,gY,1,3,"app-list-item",67),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Bread"==t.subcategory)}}function yY(n,e){if(1&n){const t=dt();p(0,"app-list-item",68),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList1(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("tableno",r.tableNo)("isEditable",!r.isHidden)}}function _Y(n,e){if(1&n&&(p(0,"div",8),L(1,yY,1,3,"app-list-item",67),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Omlette"==t.subcategory)}}function vY(n,e){if(1&n){const t=dt();p(0,"app-list-item",68),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList1(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("tableno",r.tableNo)("isEditable",!r.isHidden)}}function wY(n,e){if(1&n&&(p(0,"div",8),L(1,vY,1,3,"app-list-item",67),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Bread"!=t.subcategory&&"Omlette"!=t.subcategory)}}function bY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList2(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function CY(n,e){if(1&n&&(p(0,"div",8),L(1,bY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pizza"==t.subcategory)}}function EY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList2(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function DY(n,e){if(1&n&&(p(0,"div",8),L(1,EY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pasta"==t.subcategory)}}function IY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList2(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function TY(n,e){if(1&n&&(p(0,"div",8),L(1,IY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Pizza"!=t.subcategory&&"Pasta"!=t.subcategory)}}function AY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList3(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function SY(n,e){if(1&n&&(p(0,"div",8),L(1,AY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Burger"==t.subcategory)}}function MY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList3(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function xY(n,e){if(1&n&&(p(0,"div",8),L(1,MY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Fries"==t.subcategory)}}function NY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList3(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function RY(n,e){if(1&n&&(p(0,"div",8),L(1,NY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Burger"!=t.subcategory&&"Fries"!=t.subcategory)}}function kY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList4(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function OY(n,e){if(1&n&&(p(0,"div",8),L(1,kY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Tea"==t.subcategory)}}function PY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList4(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function FY(n,e){if(1&n&&(p(0,"div",8),L(1,PY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Coffee"==t.subcategory)}}function LY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList4(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function VY(n,e){if(1&n&&(p(0,"div",8),L(1,LY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Mocktail"==t.subcategory)}}function UY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList4(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function BY(n,e){if(1&n&&(p(0,"div",8),L(1,UY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Tea"!=t.subcategory&&"Coffee"!=t.subcategory&&"Mocktail"!=t.subcategory)}}function jY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList5(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function HY(n,e){if(1&n&&(p(0,"div",8),L(1,jY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Smoothie"==t.subcategory)}}function $Y(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList5(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function GY(n,e){if(1&n&&(p(0,"div",8),L(1,$Y,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Dessert"==t.subcategory)}}function qY(n,e){if(1&n){const t=dt();p(0,"app-list-item",70),R("deleteItemEvent",function(i){return ut(t),U(2).deleteList5(i)}),g()}if(2&n){const t=U().$implicit,r=U();v("item",t)("isEditable",!r.isHidden)("tableno",r.tableNo)}}function zY(n,e){if(1&n&&(p(0,"div",8),L(1,qY,1,3,"app-list-item",69),g()),2&n){const t=e.$implicit;m(1),v("ngIf","Smoothie"!=t.subcategory&&"Dessert"!=t.subcategory)}}let sP=(()=>{class n{constructor(t,r,i,s){this.router=t,this.firestoreservice=r,this.loginService=i,this.cartService=s,this.tableNo=0,this.tableCount=1,this.breadomelette=[],this.pizzapasta=[],this.burgerfries=[],this.teacoffeemocktails=[],this.smoothiesdesserts=[],this.isHidden=!0,this.btnName="Edit Mode",this.isAddType1Hidden=!0,this.type1Name="",this.type1Price=0,this.type1Category="",this.isAddType2Hidden=!0,this.type2Name="",this.type2Price=0,this.type2Category="",this.isAddType3Hidden=!0,this.type3Name="",this.type3Price=0,this.type3Category="",this.isAddType4Hidden=!0,this.type4Name="",this.type4Price=0,this.type4Category="",this.isAddType5Hidden=!0,this.type5Name="",this.type5Price=0,this.type5Category="",this.currentUser=this.loginService.getUser(),this.currentUser||this.router.navigate(["/login"])}ngOnInit(){this.categories=this.firestoreservice.getCategories(),this.firestoreservice.getBreadsOmelettes().then(t=>{this.breadomelette=t.sort(this.camparator)}),this.firestoreservice.getBurgersFries().then(t=>{this.burgerfries=t.sort(this.camparator)}),this.firestoreservice.getPizzasPastas().then(t=>{this.pizzapasta=t.sort(this.camparator)}),this.firestoreservice.getTeasCoffeesMocktails().then(t=>{this.teacoffeemocktails=t.sort(this.camparator)}),this.firestoreservice.getSmoothiesDesserts().then(t=>{this.smoothiesdesserts=t.sort(this.camparator)}),this.tableCount=this.cartService.getTotalTables()}counter(t){return new Array(t)}changeTable(t){confirm("Do you want to switch tables?")&&(this.tableNo=t)}addTable(){this.cartService.addTable(),this.tableCount=this.cartService.getTotalTables()}removeTable(){this.cartService.removeLastTable(),this.tableCount=this.cartService.getTotalTables(),this.tableNo>=this.tableCount&&(this.tableNo=0)}camparator(t,r){return t.price>r.price?1:-1}changeHidden(){this.isHidden=!this.isHidden,this.btnName=this.isHidden?"Edit Mode":"Disable Edit"}proceedToPrint(){this.cartService.getCart(this.tableNo).size?this.router.navigate(["/print"],{queryParams:{tableno:this.tableNo},replaceUrl:!0}):alert("Please select items to proceed")}deleteList1(t){this.breadomelette.forEach((r,i)=>{r.id===t&&this.breadomelette.splice(i,1)})}deleteList2(t){this.pizzapasta.forEach((r,i)=>{r.id===t&&this.pizzapasta.splice(i,1)})}deleteList3(t){this.burgerfries.forEach((r,i)=>{r.id===t&&this.burgerfries.splice(i,1)})}deleteList4(t){this.teacoffeemocktails.forEach((r,i)=>{r.id===t&&this.teacoffeemocktails.splice(i,1)})}deleteList5(t){this.smoothiesdesserts.forEach((r,i)=>{r.id===t&&this.smoothiesdesserts.splice(i,1)})}showAddType1(){this.isAddType1Hidden=!1}changeCategory1(t){switch(t.target.options.selectedIndex){case 1:this.type1Category=t.target.options[1].value;break;case 2:this.type1Category=t.target.options[2].value;break;default:this.type1Category=t.target.options[0].value}}submitAddType1(){this.type1Name=this.type1Name.toUpperCase(),confirm("Do you want to add '"+this.type1Name+"' with price Rs."+this.type1Price+" to '"+this.categories[0]+"'?")?(this.firestoreservice.addItemtoBreadsOmellettes(this.type1Name,this.type1Price,this.type1Category),this.isAddType1Hidden=!0):this.isAddType1Hidden=!0,this.firestoreservice.getBreadsOmelettes().then(r=>{this.breadomelette=r.sort(this.camparator)}),this.type1Name="",this.type1Price=0}showAddType2(){this.isAddType2Hidden=!1}changeCategory2(t){switch(t.target.options.selectedIndex){case 1:this.type2Category=t.target.options[1].value;break;case 2:this.type2Category=t.target.options[2].value;break;default:this.type2Category=t.target.options[0].value}}submitAddType2(){this.type2Name=this.type2Name.toUpperCase(),confirm("Do you want to add '"+this.type2Name+"' with price Rs."+this.type2Price+" to '"+this.categories[1]+"'?")?(this.firestoreservice.addItemtoPizzasPastas(this.type2Name,this.type2Price,this.type2Category),this.isAddType2Hidden=!0):this.isAddType2Hidden=!0,this.firestoreservice.getPizzasPastas().then(r=>{this.pizzapasta=r.sort(this.camparator)}),this.type2Name="",this.type2Price=0}showAddType3(){this.isAddType3Hidden=!1}changeCategory3(t){switch(t.target.options.selectedIndex){case 1:this.type3Category=t.target.options[1].value;break;case 2:this.type3Category=t.target.options[2].value;break;default:this.type3Category=t.target.options[0].value}}submitAddType3(){this.type3Name=this.type3Name.toUpperCase(),confirm("Do you want to add '"+this.type3Name+"' with price Rs."+this.type3Price+" to '"+this.categories[2]+"'?")?(this.firestoreservice.addItemtoBergersFries(this.type3Name,this.type3Price,this.type3Category),this.isAddType3Hidden=!0):this.isAddType3Hidden=!0,this.firestoreservice.getBurgersFries().then(r=>{this.burgerfries=r.sort(this.camparator)}),this.type3Name="",this.type3Price=0}showAddType4(){this.isAddType4Hidden=!1}changeCategory4(t){switch(t.target.options.selectedIndex){case 1:this.type4Category=t.target.options[1].value;break;case 2:this.type4Category=t.target.options[2].value;break;case 3:this.type4Category=t.target.options[3].value;break;default:this.type4Category=t.target.options[0].value}}submitAddType4(){this.type4Name=this.type4Name.toUpperCase(),confirm("Do you want to add '"+this.type4Name+"' with price Rs."+this.type4Price+" to '"+this.categories[3]+"'?")?(this.firestoreservice.addItemtoTeasCoffeesMocktails(this.type4Name,this.type4Price,this.type4Category),this.isAddType4Hidden=!0):this.isAddType4Hidden=!0,this.firestoreservice.getTeasCoffeesMocktails().then(r=>{this.teacoffeemocktails=r.sort(this.camparator)}),this.type4Name="",this.type4Price=0}showAddType5(){this.isAddType5Hidden=!1}changeCategory5(t){switch(t.target.options.selectedIndex){case 1:this.type5Category=t.target.options[1].value;break;case 2:this.type5Category=t.target.options[2].value;break;default:this.type5Category=t.target.options[0].value}}submitAddType5(){this.type5Name=this.type5Name.toUpperCase(),confirm("Do you want to add '"+this.type5Name+"' with price Rs."+this.type5Price+" as "+this.type5Category+" to '"+this.categories[4]+"'?")?(this.firestoreservice.addItemtoSmoothiesDesserts(this.type5Name,this.type5Price,this.type5Category),this.isAddType5Hidden=!0):this.isAddType5Hidden=!0,this.firestoreservice.getSmoothiesDesserts().then(r=>{this.smoothiesdesserts=r.sort(this.camparator)}),this.type5Name="",this.type5Price=0}}return n.\u0275fac=function(t){return new(t||n)(I(gt),I($s),I(Hs),I(qC))},n.\u0275cmp=Vn({type:n,selectors:[["app-menu"]],decls:158,vars:72,consts:[[1,"editor"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-warning","text-white",2,"border-radius","5px",3,"click"],[1,"table-slider"],[4,"ngFor","ngForOf"],["id","add-table",3,"click"],["id","remove-table",3,"hidden","click"],[1,"menu"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col","list1"],["class","row",4,"ngFor","ngForOf"],[1,"new-item-add"],[1,"btn","btn-sm","btn-primary",3,"hidden","click"],[3,"ngSubmit"],["for","type1name",3,"hidden"],["type","text","name","type1name","id","type1name",3,"hidden","ngModel","ngModelChange"],["for","type1price",3,"hidden"],["type","number","min","0","name","type1price","id","type1price",3,"hidden","ngModel","ngModelChange"],["for","type-list1",3,"hidden"],["id","type-list1","name","type-list1",3,"hidden","change"],["value","none"],["value","Bread"],["value","Omlette"],["type","submit",1,"btn","btn-sm","btn-success",3,"hidden"],[1,"col","list2"],["for","type2name",3,"hidden"],["type","text","id","type2name","name","type2name",3,"hidden","ngModel","ngModelChange"],["for","type2price",3,"hidden"],["type","number","min","0","id","type2price","name","type2price",3,"hidden","ngModel","ngModelChange"],["for","type-list2",3,"hidden"],["id","type-list2","name","type-list2",3,"hidden","change"],["value","Pizza"],["value","Pasta"],[1,"col","list3"],["for","type3name",3,"hidden"],["type","text","id","type3name","name","type3name",3,"hidden","ngModel","ngModelChange"],["for","type3price",3,"hidden"],["type","number","min","0","name","type3price","id","type3price",3,"hidden","ngModel","ngModelChange"],["for","type-list3",3,"hidden"],["id","type-list3","name","type-list3",3,"hidden","change"],["value","Burger"],["value","Fries"],[1,"col","list4"],["for","type4name",3,"hidden"],["type","text","name","type4name","id","type4name",3,"hidden","ngModel","ngModelChange"],["for","type4price",3,"hidden"],["type","number","min","0","name","type4price","id","type4price",3,"hidden","ngModel","ngModelChange"],["for","type-list4",3,"hidden"],["id","type-list4","name","type-list4",3,"hidden","change"],["value","Tea"],["value","Coffee"],["value","Mocktail"],[1,"col","list5"],["for","type5name",3,"hidden"],["type","text","id","type5name","name","type5name",3,"hidden","ngModel","ngModelChange"],["for","type5price",3,"hidden"],["type","number","min","0","id","type5price","name","type5price",3,"hidden","ngModel","ngModelChange"],["for","type-list5",3,"hidden"],["id","type-list5","name","type-list5",3,"hidden","change"],["value","Smoothie"],["value","Dessert"],[3,"ngClass","click"],[1,"col"],[1,"bg-header"],["id","category-text"],["id","category-img","alt","img",3,"src"],[3,"item","tableno","isEditable","deleteItemEvent",4,"ngIf"],[3,"item","tableno","isEditable","deleteItemEvent"],[3,"item","isEditable","tableno","deleteItemEvent",4,"ngIf"],[3,"item","isEditable","tableno","deleteItemEvent"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"button",1),R("click",function(){return r.proceedToPrint()}),b(2,"Proceed"),g(),p(3,"button",2),R("click",function(){return r.changeHidden()}),b(4),g(),g(),p(5,"div",3),L(6,fY,3,4,"div",4),p(7,"button",5),R("click",function(){return r.addTable()}),b(8,"Add Table"),g(),p(9,"button",6),R("click",function(){return r.removeTable()}),b(10,"Remove Table"),g(),g(),p(11,"div",7),p(12,"div",8),L(13,pY,5,2,"div",9),g(),p(14,"div",8),p(15,"div",10),L(16,mY,2,1,"div",11),L(17,_Y,2,1,"div",11),L(18,wY,2,1,"div",11),p(19,"div",12),p(20,"button",13),R("click",function(){return r.showAddType1()}),b(21,"Add New Item"),g(),M(22,"br"),p(23,"form",14),R("ngSubmit",function(){return r.submitAddType1()}),p(24,"label",15),b(25,"Food Item Name"),g(),p(26,"input",16),R("ngModelChange",function(s){return r.type1Name=s}),g(),M(27,"br"),p(28,"label",17),b(29,"Food Item Price"),g(),p(30,"input",18),R("ngModelChange",function(s){return r.type1Price=s}),g(),M(31,"br"),p(32,"label",19),b(33,"Item Type "),g(),p(34,"select",20),R("change",function(s){return r.changeCategory1(s)}),p(35,"option",21),b(36,"Select Category"),g(),p(37,"option",22),b(38,"Bread"),g(),p(39,"option",23),b(40,"Omlette"),g(),g(),M(41,"br"),M(42,"input",24),g(),g(),g(),p(43,"div",25),L(44,CY,2,1,"div",11),L(45,DY,2,1,"div",11),L(46,TY,2,1,"div",11),p(47,"div",12),p(48,"button",13),R("click",function(){return r.showAddType2()}),b(49,"Add New Item"),g(),M(50,"br"),p(51,"form",14),R("ngSubmit",function(){return r.submitAddType2()}),p(52,"label",26),b(53,"Food Item Name"),g(),p(54,"input",27),R("ngModelChange",function(s){return r.type2Name=s}),g(),M(55,"br"),p(56,"label",28),b(57,"Food Item Price"),g(),p(58,"input",29),R("ngModelChange",function(s){return r.type2Price=s}),g(),M(59,"br"),p(60,"label",30),b(61,"Item Type "),g(),p(62,"select",31),R("change",function(s){return r.changeCategory2(s)}),p(63,"option",21),b(64,"Select Category"),g(),p(65,"option",32),b(66,"Pizza"),g(),p(67,"option",33),b(68,"Pasta"),g(),g(),M(69,"br"),M(70,"input",24),g(),g(),g(),p(71,"div",34),L(72,SY,2,1,"div",11),L(73,xY,2,1,"div",11),L(74,RY,2,1,"div",11),p(75,"div",12),p(76,"button",13),R("click",function(){return r.showAddType3()}),b(77,"Add New Item"),g(),M(78,"br"),p(79,"form",14),R("ngSubmit",function(){return r.submitAddType3()}),p(80,"label",35),b(81,"Food Item Name"),g(),p(82,"input",36),R("ngModelChange",function(s){return r.type3Name=s}),g(),M(83,"br"),p(84,"label",37),b(85,"Food Item Price"),g(),p(86,"input",38),R("ngModelChange",function(s){return r.type3Price=s}),g(),M(87,"br"),p(88,"label",39),b(89,"Item Type "),g(),p(90,"select",40),R("change",function(s){return r.changeCategory3(s)}),p(91,"option",21),b(92,"Select Category"),g(),p(93,"option",41),b(94,"Burger"),g(),p(95,"option",42),b(96,"Fries"),g(),g(),M(97,"br"),M(98,"input",24),g(),g(),g(),p(99,"div",43),L(100,OY,2,1,"div",11),L(101,FY,2,1,"div",11),L(102,VY,2,1,"div",11),L(103,BY,2,1,"div",11),p(104,"div",12),p(105,"button",13),R("click",function(){return r.showAddType4()}),b(106,"Add New Item"),g(),M(107,"br"),p(108,"form",14),R("ngSubmit",function(){return r.submitAddType4()}),p(109,"label",44),b(110,"Food Item Name"),g(),p(111,"input",45),R("ngModelChange",function(s){return r.type4Name=s}),g(),M(112,"br"),p(113,"label",46),b(114,"Food Item Price"),g(),p(115,"input",47),R("ngModelChange",function(s){return r.type4Price=s}),g(),M(116,"br"),p(117,"label",48),b(118,"Item Type "),g(),p(119,"select",49),R("change",function(s){return r.changeCategory4(s)}),p(120,"option",21),b(121,"Select Category"),g(),p(122,"option",50),b(123,"Tea"),g(),p(124,"option",51),b(125,"Coffee"),g(),p(126,"option",52),b(127,"Mocktail"),g(),g(),M(128,"br"),M(129,"input",24),g(),g(),g(),p(130,"div",53),L(131,HY,2,1,"div",11),L(132,GY,2,1,"div",11),L(133,zY,2,1,"div",11),p(134,"div",12),p(135,"button",13),R("click",function(){return r.showAddType5()}),b(136,"Add New Item"),g(),M(137,"br"),p(138,"form",14),R("ngSubmit",function(){return r.submitAddType5()}),p(139,"label",54),b(140,"Food Item Name"),g(),p(141,"input",55),R("ngModelChange",function(s){return r.type5Name=s}),g(),M(142,"br"),p(143,"label",56),b(144,"Food Item Price"),g(),p(145,"input",57),R("ngModelChange",function(s){return r.type5Price=s}),g(),M(146,"br"),p(147,"label",58),b(148,"Item Type "),g(),p(149,"select",59),R("change",function(s){return r.changeCategory5(s)}),p(150,"option",21),b(151,"Select Category"),g(),p(152,"option",60),b(153,"Smoothie"),g(),p(154,"option",61),b(155,"Dessert"),g(),g(),M(156,"br"),M(157,"input",24),g(),g(),g(),g(),g()),2&t&&(m(3),Gg("background-color",r.isHidden?"#a52a2a":"#008000"),m(1),et(" ",r.btnName," "),m(2),v("ngForOf",r.counter(r.tableCount)),m(3),v("hidden",!(r.tableCount>1)),m(4),v("ngForOf",r.categories),m(3),v("ngForOf",r.breadomelette),m(1),v("ngForOf",r.breadomelette),m(1),v("ngForOf",r.breadomelette),m(2),v("hidden",!r.isAddType1Hidden),m(4),v("hidden",r.isAddType1Hidden),m(2),v("hidden",r.isAddType1Hidden)("ngModel",r.type1Name),m(2),v("hidden",r.isAddType1Hidden),m(2),v("hidden",r.isAddType1Hidden)("ngModel",r.type1Price),m(2),v("hidden",r.isAddType1Hidden),m(2),v("hidden",r.isAddType1Hidden),m(8),v("hidden",r.isAddType1Hidden),m(2),v("ngForOf",r.pizzapasta),m(1),v("ngForOf",r.pizzapasta),m(1),v("ngForOf",r.pizzapasta),m(2),v("hidden",!r.isAddType2Hidden),m(4),v("hidden",r.isAddType2Hidden),m(2),v("hidden",r.isAddType2Hidden)("ngModel",r.type2Name),m(2),v("hidden",r.isAddType2Hidden),m(2),v("hidden",r.isAddType2Hidden)("ngModel",r.type2Price),m(2),v("hidden",r.isAddType2Hidden),m(2),v("hidden",r.isAddType2Hidden),m(8),v("hidden",r.isAddType2Hidden),m(2),v("ngForOf",r.burgerfries),m(1),v("ngForOf",r.burgerfries),m(1),v("ngForOf",r.burgerfries),m(2),v("hidden",!r.isAddType3Hidden),m(4),v("hidden",r.isAddType3Hidden),m(2),v("hidden",r.isAddType3Hidden)("ngModel",r.type3Name),m(2),v("hidden",r.isAddType3Hidden),m(2),v("hidden",r.isAddType3Hidden)("ngModel",r.type3Price),m(2),v("hidden",r.isAddType3Hidden),m(2),v("hidden",r.isAddType3Hidden),m(8),v("hidden",r.isAddType3Hidden),m(2),v("ngForOf",r.teacoffeemocktails),m(1),v("ngForOf",r.teacoffeemocktails),m(1),v("ngForOf",r.teacoffeemocktails),m(1),v("ngForOf",r.teacoffeemocktails),m(2),v("hidden",!r.isAddType4Hidden),m(4),v("hidden",r.isAddType4Hidden),m(2),v("hidden",r.isAddType4Hidden)("ngModel",r.type4Name),m(2),v("hidden",r.isAddType4Hidden),m(2),v("hidden",r.isAddType4Hidden)("ngModel",r.type4Price),m(2),v("hidden",r.isAddType4Hidden),m(2),v("hidden",r.isAddType4Hidden),m(10),v("hidden",r.isAddType4Hidden),m(2),v("ngForOf",r.smoothiesdesserts),m(1),v("ngForOf",r.smoothiesdesserts),m(1),v("ngForOf",r.smoothiesdesserts),m(2),v("hidden",!r.isAddType5Hidden),m(4),v("hidden",r.isAddType5Hidden),m(2),v("hidden",r.isAddType5Hidden)("ngModel",r.type5Name),m(2),v("hidden",r.isAddType5Hidden),m(2),v("hidden",r.isAddType5Hidden)("ngModel",r.type5Price),m(2),v("hidden",r.isAddType5Hidden),m(2),v("hidden",r.isAddType5Hidden),m(8),v("hidden",r.isAddType5Hidden))},directives:[Uo,wA,jm,dY,Wd,Fd,zd,Xr,as,us,Ho,jo,vy,by],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:5px}.editor[_ngcontent-%COMP%]{position:absolute;right:10px;top:5px}.header[_ngcontent-%COMP%]{color:#fff}div[_ngcontent-%COMP%]{text-align:center}.categories[_ngcontent-%COMP%]{background-color:#ffffe0;padding:0}.table-slide[_ngcontent-%COMP%]{height:5%;margin-bottom:10px}.table[_ngcontent-%COMP%]{width:5%;border-radius:15px;background-color:#9b3737;color:#fff;float:left;border-color:#9b3737}#add-table[_ngcontent-%COMP%]{width:10%;border-radius:5px;background-color:#afeeee;color:#000;font-family:Georgia,Times New Roman,Times,serif;border-color:#afeeee;font-size:medium}#remove-table[_ngcontent-%COMP%]{width:10%;border-radius:5px;background-color:orange;color:#000;font-family:Georgia,Times New Roman,Times,serif;border-color:orange;font-size:medium}.bg-header[_ngcontent-%COMP%]{height:200px;margin-bottom:5px;cursor:pointer;padding-top:10px;background-color:#7fffd4;border-top-left-radius:5px;border-top-right-radius:5px}#category-text[_ngcontent-%COMP%]{text-align:center;font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:700;font-size:medium}.clicked[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.clicked[_ngcontent-%COMP%]{background-color:#7fffd4;border-color:#7fffd4;color:#000}#category-img[_ngcontent-%COMP%]{width:100%}.list1[_ngcontent-%COMP%]{background-color:#ffb6c1}.list2[_ngcontent-%COMP%]{background-color:#ffffe0}.list3[_ngcontent-%COMP%]{background-color:#90ee90}.list4[_ngcontent-%COMP%]{background-color:wheat}.list5[_ngcontent-%COMP%]{background-color:#87cefa}"]}),n})();function WY(n,e){if(1&n&&(p(0,"div",13),p(1,"div",18),b(2),g(),p(3,"div",15),b(4),g(),p(5,"div",15),b(6),g(),p(7,"div",15),b(8),g(),g()),2&n){const t=e.$implicit;m(2),B(t.name),m(2),B(t.count),m(2),B(t.discount),m(2),B(t.count*t.discount)}}function KY(n,e){if(1&n&&(p(0,"div",6),p(1,"div",7),p(2,"label",8),b(3,"Name: "),g(),p(4,"span",9),b(5),g(),p(6,"label",10),b(7,"Number: "),g(),p(8,"span",11),b(9),g(),g(),M(10,"hr"),p(11,"div"),p(12,"label",12),b(13,"Date: "),g(),p(14,"span",4),b(15),ae(16,"date"),g(),p(17,"span",4),b(18),g(),g(),M(19,"hr"),p(20,"div",13),p(21,"div",14),b(22,"Item"),g(),p(23,"div",15),b(24,"Qty."),g(),p(25,"div",15),b(26,"Price"),g(),p(27,"div",15),b(28,"Amount"),g(),g(),M(29,"hr"),L(30,WY,9,4,"div",16),M(31,"hr"),p(32,"div",13),p(33,"div",17),b(34),g(),p(35,"div",17),b(36),g(),g(),g()),2&n){const t=e.$implicit;m(5),et("",t.name," |"),m(4),B(t.number),m(6),B(ue(16,7,t.timestamp,"medium")),m(3),et("Bill No.: ",t.billNo," "),m(12),v("ngForOf",t.itemlist),m(4),et("Total Qty.: ",t.itemscount,""),m(2),et("Sub Total: ",t.totalPay," ")}}let QY=(()=>{class n{constructor(t){this.firestoreService=t,this.report={revenue:0,costumerCount:0},this.hide=!0}ngOnInit(){}startSearch(){this.hide=!0;const t=new Date(this.searchDate);this.searchDate?this.firestoreService.getBills(t.getDate(),t.getMonth(),t.getFullYear()).then(r=>{this.billArray=r,this.billArray.length>1&&(this.report=this.billArray.pop(),this.hide=!1)}):alert("Please select date before submit")}}return n.\u0275fac=function(t){return new(t||n)(I(GC))},n.\u0275cmp=Vn({type:n,selectors:[["app-sales"]],decls:14,vars:6,consts:[[1,"header","container","align-items-center"],["type","date",1,"mar",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-success","mar",3,"click"],[1,"content",3,"hidden"],[1,"item"],["class","content",4,"ngFor","ngForOf"],[1,"content"],[1,"align-items-start"],["for","name"],["id","name",1,"item"],["for","number"],["id","number",1,"item",2,"margin-left","20px"],["for","time"],[1,"row"],[1,"col-6"],[1,"col-2"],["class","row",4,"ngFor","ngForOf"],[1,"col"],[1,"col-6",2,"max-lines","1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"input",1),R("ngModelChange",function(s){return r.searchDate=s}),g(),p(2,"button",2),R("click",function(){return r.startSearch()}),b(3,"Search"),g(),g(),M(4,"hr"),p(5,"div",3),p(6,"span",4),b(7),g(),p(8,"span",4),b(9),g(),g(),p(10,"div",3),p(11,"h3"),b(12,"We can't found any records!"),g(),g(),L(13,KY,37,10,"div",5)),2&t&&(m(1),v("ngModel",r.searchDate),m(4),v("hidden",r.hide),m(2),et("Customer Served: ",r.report.costumerCount," |"),m(2),et("Revenue: ",r.report.revenue,""),m(1),v("hidden",!r.hide),m(3),v("ngForOf",r.billArray))},directives:[Xr,as,us,Uo],pipes:[Gm],styles:[".header[_ngcontent-%COMP%]{margin-left:30%}.mar[_ngcontent-%COMP%]{margin:5px}.content[_ngcontent-%COMP%]{border:1px;margin-left:30%;width:40%;text-align:center;margin-top:10px;margin-bottom:10px;outline:solid 2px black;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:small}.item[_ngcontent-%COMP%]{border-color:gray;background-color:#fff;margin-inline:10px;border-width:0px;font-size:small;text-align:left;width:40%}hr[_ngcontent-%COMP%]{margin:0;padding:0}"]}),n})(),YY=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.router=r,this.loginService=i,this.dbservice=s,this.contact=0,this.logoURL="/assets/logo.png",this.loginForm=this.formBuilder.group({email:[""],password:[""]})}ngOnInit(){var t=this;return _(function*(){yield Ls(dn(t.dbservice.getDatabase(),"ownerDetails/contact")).then(r=>{t.contact=r.get("contact")})})()}onSubmit(){this.loginService.signinWithEmailPass(this.loginForm.controls.email.value,this.loginForm.controls.password.value).then(i=>{i?(this.router.navigate(["/dashboard"],{replaceUrl:!0}),this.loginForm.reset()):(alert("Login Failed"),this.loginForm.controls.password.setValue(""))})}}return n.\u0275fac=function(t){return new(t||n)(I($S),I(gt),I(Hs),I($s))},n.\u0275cmp=Vn({type:n,selectors:[["app-login"]],decls:30,vars:3,consts:[[1,"sidenav"],[1,"login-logo"],["alt","login",3,"src"],[1,"main"],[1,"login-form"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","name","email","id","email","formControlName","email","placeholder","Enter Email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Enter Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","login-btn","col-sm-12"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),M(2,"img",2),g(),p(3,"h6"),b(4,"Shree Ananth bungalow,"),M(5,"br"),b(6," 1148E WARD SYKES EXTENSION ,"),M(7,"br"),b(8," Opposite IDFC First Bank Takala."),M(9,"br"),b(10," Kolhapur -416001"),M(11,"br"),b(12),M(13,"br"),g(),g(),p(14,"div",3),p(15,"h3"),b(16,"Login as Admin"),g(),p(17,"div",4),p(18,"form",5),R("ngSubmit",function(){return r.onSubmit()}),p(19,"div",6),p(20,"label",7),b(21,"Email address"),g(),M(22,"input",8),g(),p(23,"div",6),p(24,"label",9),b(25,"Password"),g(),M(26,"input",10),g(),M(27,"br"),p(28,"button",11),b(29,"Click to Login"),g(),g(),g(),g()),2&t&&(m(2),v("src",r.logoURL,es),m(10),et(" Contact: +91 ",r.contact,""),m(6),v("formGroup",r.loginForm))},directives:[Wd,Fd,Uu,Xr,as,Kd],styles:[".sidenav[_ngcontent-%COMP%]{padding-bottom:20px}@media screen and (min-width:400px){.sidenav[_ngcontent-%COMP%]{width:100%;margin-top:0;background-color:#000}img[_ngcontent-%COMP%]{width:80%;margin-inline:10%}}@media screen and (min-width:900px){.sidenav[_ngcontent-%COMP%]{height:50%;width:50%;background-color:#000;float:left;padding-bottom:20%}.main[_ngcontent-%COMP%]{width:50%;height:auto;float:right}.login-logo[_ngcontent-%COMP%]{height:50%;width:100%}img[_ngcontent-%COMP%]{width:70%;margin-inline:15%}}h3[_ngcontent-%COMP%]{text-align:center;margin-top:10%;margin-bottom:0}h6[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-family:Arial,Helvetica,sans-serif}.login-form[_ngcontent-%COMP%]{width:60%;margin-inline:20%;margin-top:10%;padding-bottom:20%}.login-btn[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})(),JY=(()=>{class n{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let r in t)t.hasOwnProperty(r)&&this._printStyle.push((r+JSON.stringify(t[r])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let r=function(i){return`<link rel="stylesheet" type="text/css" href="${i}">`};if(-1!==t.indexOf(",")){const i=t.split(",");for(let s of i)this._styleSheetFile=this._styleSheetFile+r(s)}else this._styleSheetFile=r(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const r=[],i=document.getElementsByTagName(t);for(let s=0;s<i.length;s++)r.push(i[s].outerHTML);return r.join("\r\n")}getFormData(t){for(var r=0;r<t.length;r++)t[r].defaultValue=t[r].value,t[r].checked&&(t[r].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),r=t.getElementsByTagName("input");this.getFormData(r);let i=t.getElementsByTagName("textarea");return this.getFormData(i),t.innerHTML}print(){let t,r,i="",s="";const o=this.getElementTag("base");this.useExistingCss&&(i=this.getElementTag("style"),s=this.getElementTag("link")),t=this.getHtmlContents(),r=window.open("","_blank","top=0,left=0,height=auto,width=auto"),r.document.open(),r.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${o}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${i}\n          ${s}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),r.document.close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=z({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(t,r){1&t&&R("click",function(){return r.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),n})(),XY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({imports:[[]]}),n})();function ZY(n,e){if(1&n&&(p(0,"div",13),p(1,"div",25),b(2),g(),p(3,"div",15),b(4),g(),p(5,"div",15),p(6,"span"),b(7),g(),p(8,"span",19),b(9),g(),g(),p(10,"div",15),b(11),g(),g()),2&n){const t=e.$implicit;m(2),B(t.name),m(2),B(t.count),m(2),Ie(t.discount<t.price?"text-decoration: line-through;margin-right:5px;":""),m(1),B(t.price),m(1),v("hidden",!(t.discount<t.price)),m(1),B(t.discount),m(2),B(t.count*t.discount)}}const eJ=[{path:"",component:iY},{path:"login",component:YY},{path:"dashboard",component:uY,children:[{path:"",component:sP},{path:"menu",component:sP},{path:"sales",component:QY},{path:"details",component:cY}]},{path:"print",component:(()=>{class n{constructor(t,r,i,s,o){var a;if(this.loginService=t,this.cartService=r,this.router=i,this.dbservice=s,this.uploadService=o,this.items=[],this.mycontact=0,this.grandTotal=0,this.totalQuantity=0,this.tableNo=-1,this.disable=!1,this.saving=0,this.loginService.getUser()){let u=null===(a=this.router.getCurrentNavigation())||void 0===a?void 0:a.extras.queryParams;u&&(this.tableNo=u.tableno)}else this.router.navigate(["login"],{replaceUrl:!0})}ngOnInit(){var t=this;return _(function*(){t.cartService.getCart(t.tableNo).forEach((s,o)=>{t.items.push(s),t.grandTotal+=s.discount*s.count,t.saving+=(s.price-s.discount)*s.count,t.totalQuantity+=s.count});let r=t.cartService.getClient();""!=r.name&&(t.clientName=r.name),0!=r.number&&(t.clientNumber=r.number),yield Ls(dn(t.dbservice.getDatabase(),"ownerDetails/contact")).then(s=>{t.mycontact=s.get("contact")}),setInterval(()=>{t.timeClock=new Date},1e3);const i=new Date;t.uploadService.getBillNo(i.getDate(),i.getMonth(),i.getFullYear()).then(s=>{t.billId=s})})()}printBill(){}saveBill(){if(this.disable=!0,this.clientName||this.clientNumber){const t=this.timeClock.getTime();this.uploadService.uploadBill({name:this.clientName,number:this.clientNumber,itemlist:this.items,totalPay:this.grandTotal,billNo:this.billId,saved:this.saving,itemscount:this.totalQuantity,timestamp:t}).then(i=>{alert(i?"Bill Saved Successfully!":"Bill can't save!")})}else alert("Check the client Name and Number is added")}cancelBill(){confirm("Do you want to clear the data and create new bill?")&&(this.cartService.clearClient(),this.cartService.clearCart(this.tableNo)?this.router.navigate(["/dashboard"],{replaceUrl:!0}):alert("can't cancel right now, Try Again!"))}backClick(){this.cartService.saveClient(this.clientName,this.clientNumber),this.router.navigate(["dashboard"],{replaceUrl:!0})}}return n.\u0275fac=function(t){return new(t||n)(I(Hs),I(qC),I(gt),I($s),I(GC))},n.\u0275cmp=Vn({type:n,selectors:[["app-print"]],decls:74,vars:27,consts:[["id","main",1,"main"],[1,"header","row"],[1,"col","header-item"],[3,"src"],[1,"align-items-start"],["for","name"],["type","name","id","name","placeholder","Name",1,"item",3,"ngModel","ngModelChange"],["type","number","placeholder","Mobile Number",1,"item",2,"margin-left","20px",3,"min","ngModel","ngModelChange"],[1,"titem"],["for","time"],["id","time"],["for","Billno"],["id","Billno"],[1,"row"],[1,"col-6"],[1,"col-2"],["class","row",4,"ngFor","ngForOf"],[1,"col"],[2,"text-align","right"],[3,"hidden"],[1,"groupbtn","row","align-items-center"],["type","button","printSectionId","main","ngxPrint","",1,"col","btn","btn-info","btn-sm",3,"useExistingCss","click"],["type","button",1,"col","btn","btn-success","btn-sm",3,"disabled","click"],["type","button",1,"col","btn","btn-danger","btn-sm",3,"click"],[1,"col","btn","btn-warning","btn-sm",3,"click"],[1,"col-6",2,"max-lines","1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),M(3,"img",3),g(),p(4,"div",2),p(5,"h4"),b(6,"Old Vibes Cafe"),g(),p(7,"h6"),b(8,"Shree Ananth bungalow,"),M(9,"br"),b(10," 1148E WARD SYKES EXTENSION ,"),M(11,"br"),b(12," Opposite IDFC First Bank Takala."),M(13,"br"),b(14," Kolhapur -416001"),M(15,"br"),b(16),g(),g(),g(),M(17,"hr"),p(18,"div"),p(19,"div",4),p(20,"label",5),b(21,"To: "),g(),p(22,"input",6),R("ngModelChange",function(s){return r.clientName=s}),g(),p(23,"input",7),R("ngModelChange",function(s){return r.clientNumber=s}),g(),g(),M(24,"hr"),p(25,"div",8),p(26,"label",9),b(27,"Date: "),g(),p(28,"span",10),b(29),ae(30,"date"),g(),M(31,"br"),p(32,"label",11),p(33,"span",12),b(34),g(),g(),g(),M(35,"hr"),p(36,"div",13),p(37,"div",14),b(38,"Item"),g(),p(39,"div",15),b(40,"Qty."),g(),p(41,"div",15),b(42,"Price"),g(),p(43,"div",15),b(44,"Amount"),g(),g(),M(45,"hr"),L(46,ZY,12,8,"div",16),M(47,"hr"),p(48,"div",13),p(49,"div",17),b(50),g(),p(51,"div",17),b(52),ae(53,"currency"),g(),g(),M(54,"hr"),p(55,"div",18),p(56,"b"),b(57),ae(58,"currency"),g(),g(),p(59,"h6",19),b(60),ae(61,"currency"),g(),M(62,"hr"),p(63,"h6"),b(64,"!!!Thank You Visit Again!!!"),g(),g(),g(),p(65,"div",20),p(66,"button",21),R("click",function(){return r.printBill()}),b(67,"Print"),g(),p(68,"button",22),R("click",function(){return r.saveBill()}),b(69,"Save"),g(),p(70,"button",23),R("click",function(){return r.cancelBill()}),b(71,"Cancel"),g(),p(72,"button",24),R("click",function(){return r.backClick()}),b(73,"Edit"),g(),g()),2&t&&(m(3),v("src","assets/logo.png",es),m(13),et(" contact: +91 ",r.mycontact," "),m(6),v("ngModel",r.clientName),m(1),v("min",0)("ngModel",r.clientNumber),m(6),B(ue(30,15,r.timeClock,"medium")),m(5),et("Bill No.: ",r.billId," "),m(12),v("ngForOf",r.items),m(4),et("Total Qty.: ",r.totalQuantity,""),m(2),et("Sub Total: ",ue(53,18,r.grandTotal,"INR")," "),m(5),et("Grand Total: ",ue(58,21,r.grandTotal,"INR"),""),m(2),v("hidden",0==r.saving),m(1),et(" Congratulations, You have saved ",ue(61,24,r.saving,"INR")," "),m(6),v("useExistingCss",!0),m(2),v("disabled",r.disable))},directives:[Xr,as,us,Ho,jo,Uo,JY],pipes:[Gm,xd],styles:[".main[_ngcontent-%COMP%]{border:1px;margin-left:30%;width:40%;text-align:center;margin-top:50px;outline:solid 2px black;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:small;padding:20px}h4[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:small;text-align:center;text-decoration:underline}.header[_ngcontent-%COMP%]{height:13%;padding-bottom:5px}img[_ngcontent-%COMP%]{width:80%;height:80%}h6[_ngcontent-%COMP%]{font-size:15px;text-align:center;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif}hr[_ngcontent-%COMP%]{margin:2px}.groupbtn[_ngcontent-%COMP%]{width:40%;margin-left:30%;margin-top:20px}button[_ngcontent-%COMP%]{margin-inline:5px}.titem[_ngcontent-%COMP%]{font-size:smaller;text-align:left;margin-left:20px}.item[_ngcontent-%COMP%]{border-color:gray;background-color:#fff;margin:5px;border-width:0px;font-size:small;text-align:left;width:40%;stroke-linecap:round;box-shadow:none}"]}),n})()},{path:"**",redirectTo:"login",pathMatch:"full"}];let tJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=En({imports:[[zM.forRoot(eJ)],zM]}),n})(),nJ=(()=>{class n{constructor(){this.title="old-vibes-cafe"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Vn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&M(0,"router-outlet")},directives:[ih],styles:[""]}),n})(),rJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n,bootstrap:[nJ]}),n.\u0275inj=En({providers:[$s],imports:[[aG,tJ,m4,HS,XY]]}),n})();(function V3(){K1=!1})(),sG().bootstrapModule(rJ).catch(n=>console.error(n))}},ke=>{ke(ke.s=390)}]);